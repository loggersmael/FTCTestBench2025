var r0=Object.defineProperty;var l0=(a,e,t)=>e in a?r0(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;var pe=(a,e,t)=>l0(a,typeof e!="symbol"?e+"":e,t);import{n as le,a as u,c as ge,t as j,d as me}from"../chunks/CpjUEfFn.js";import{i as Le}from"../chunks/JW_WWkOz.js";import{p as K,f as B,o,q as Z,a as J,t as N,a9 as ye,G as ce,c as h,s as _,r as f,a8 as je,Q as ke,u as se}from"../chunks/DImaOtgy.js";import{A as ze,h as Ie,S as o0,b as c0,a as Me,H as d0,r as He,c as Xe,B as he,m as X,C as Ye}from"../chunks/FVAH3fgv.js";import{o as Ze,a as v0}from"../chunks/B9Netn4Y.js";import{p as u0}from"../chunks/DyeaeH4W.js";import{s as Se,W as oe,a as g0}from"../chunks/lRqNagYI.js";import{s as Y,e as $,i as ee,r as qe}from"../chunks/D9FDE-on.js";import{s as De,C as be}from"../chunks/BjlxBxgQ.js";import{d as ve,s as q,e as f0}from"../chunks/vuGbUGSM.js";import{i as L}from"../chunks/CQpEsQrD.js";import{s as re,S as p0}from"../chunks/DLWnW4oO.js";import{i as s,T as ae,s as Oe,f as Ae,C as ue,a as Fe,g as m0,n as Re}from"../chunks/DkGOhSJJ.js";import{G as h0}from"../chunks/Wt7Cx-oE.js";import{R as _0}from"../chunks/B6XG8lIb.js";import{p as de}from"../chunks/BSpBZuls.js";import{s as Ke}from"../chunks/BxwBtVRA.js";import{b as x0}from"../chunks/ExJb-yR2.js";import{p as we}from"../chunks/CyCUbHaQ.js";var w0=le('<svg width="100%" height="100%" viewBox="0 0 13 13" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" class="svelte-dpza7n"><path d="M1.776,6.32c0.031,0.135 0.054,0.272 0.068,0.41c0.236,2.212 2.114,3.933 4.39,3.933c2.444,-0 4.429,-1.985 4.429,-4.429c-0,-2.276 -1.721,-4.154 -3.931,-4.402c-0.138,-0.014 -0.274,-0.037 -0.409,-0.069c-0.492,-0.104 -2.069,-0.478 -2.898,-0.675c-0.086,-0.021 -0.151,-0.092 -0.163,-0.18c-0.011,-0.088 0.033,-0.173 0.111,-0.215c0.857,-0.442 1.83,-0.693 2.861,-0.693c3.44,0 6.233,2.793 6.233,6.234c0,3.44 -2.793,6.233 -6.233,6.233c-3.441,0 -6.234,-2.793 -6.234,-6.233c-0,-1.031 0.251,-2.004 0.694,-2.86c0.042,-0.078 0.127,-0.121 0.214,-0.11c0.087,0.012 0.158,0.076 0.178,0.161c0.199,0.829 0.573,2.406 0.69,2.895Zm1.08,1.111c-0.063,0.063 -0.154,0.086 -0.238,0.062c-0.085,-0.024 -0.15,-0.092 -0.17,-0.177l-1.37,-5.803c-0.043,-0.184 0.032,-0.374 0.189,-0.479c1.122,0.269 4.772,1.13 6.028,1.427c0.087,0.017 0.157,0.081 0.183,0.166c0.025,0.085 0.002,0.177 -0.06,0.239c-0.54,0.543 -1.609,1.612 -1.609,1.612l2.971,2.971c0.083,0.084 0.13,0.197 0.13,0.315c0,0.118 -0.047,0.231 -0.13,0.315l-0.716,0.715c-0.083,0.083 -0.196,0.13 -0.314,0.13c-0.118,0 -0.231,-0.047 -0.315,-0.13l-2.971,-2.971l-1.608,1.608Z" class="svelte-dpza7n"></path></svg>');function y0(a){var e=w0();u(a,e)}var b0=j('<p style="padding: 1rem;">Waiting for data</p>');function k0(a,e){K(e,!0);let t=Z(()=>s.plugins.find(l=>l.id===e.pluginID)),i=Z(()=>o(t).pages.find(l=>l.id===e.pageID)),c=Z(()=>o(i).html.replace(/<dynamic>(.*?)<\/dynamic>/gi,(l,d)=>{const v=d.trim();return o(t).globalVariables[d.trim()]?`<span class="dynamic" data-key="${v}">${o(t).globalVariables[d.trim()]}</span>`:(console.warn("Empty or invalid key inside <dynamic> tag"),'<span class="dynamic-placeholder-error">[Missing Key]</span>')}));Ze(()=>{const l=v=>{const I=v.currentTarget.getAttribute("data-action");I!==null&&console.log("Action triggered:",I)},d=document.querySelectorAll("button.action");return d.forEach(v=>{v.addEventListener("click",l)}),()=>{d.forEach(v=>{v.removeEventListener("click",l)})}});var n=ge(),r=B(n);{var m=l=>{_0(l,{get html(){return o(c)},get id(){return o(t).id}})},g=l=>{var d=b0();u(l,d)};L(r,l=>{o(t)&&o(i)?l(m):l(g,!1)})}u(a,n),J()}var S0=le('<svg width="100%" height="100%" viewBox="0 0 13 14" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><path d="M0.478,8.19c-0.432,-1.595 -0.19,-3.216 0.551,-4.558c0.11,-0.194 0.067,-0.439 -0.103,-0.583c-0.192,-0.167 -0.455,-0.39 -0.711,-0.608c-0.173,-0.146 -0.25,-0.376 -0.2,-0.597c0.049,-0.22 0.216,-0.395 0.435,-0.454l5.055,-1.369c0.218,-0.059 0.451,0.008 0.605,0.174c0.075,0.08 0.125,0.177 0.148,0.28c0.025,0.11 0.019,0.226 -0.02,0.336l-1.533,4.358c-0.066,0.189 -0.221,0.334 -0.415,0.386c-0.193,0.052 -0.4,0.006 -0.553,-0.123l-0.75,-0.638c-0.114,-0.096 -0.266,-0.132 -0.411,-0.098c-0.11,0.026 -0.206,0.092 -0.27,0.182c-0.371,0.878 -0.463,1.881 -0.197,2.871l0.002,0.008c0.366,1.353 1.319,2.396 2.515,2.908c0.109,0.047 0.171,0.163 0.148,0.279c-0.06,0.297 -0.172,0.852 -0.24,1.189c-0.014,0.072 -0.059,0.134 -0.123,0.169c-0.045,0.026 -0.096,0.036 -0.147,0.031c-0.021,-0.002 -0.041,-0.007 -0.061,-0.014c-1.763,-0.679 -3.192,-2.159 -3.722,-4.12l-0.003,-0.009Zm6.045,4.524c-0.025,-0.11 -0.019,-0.226 0.02,-0.336l1.533,-4.359c0.066,-0.189 0.221,-0.333 0.415,-0.385c0.193,-0.053 0.4,-0.006 0.553,0.123l0.75,0.637c0.114,0.097 0.266,0.133 0.411,0.099c0.11,-0.027 0.206,-0.092 0.27,-0.182c0.371,-0.878 0.463,-1.881 0.197,-2.871l-0.002,-0.008c-0.367,-1.353 -1.322,-2.39 -2.515,-2.909c-0.109,-0.046 -0.171,-0.162 -0.148,-0.278c0.06,-0.297 0.172,-0.852 0.24,-1.189c0.014,-0.072 0.059,-0.134 0.123,-0.17c0.045,-0.025 0.096,-0.035 0.147,-0.03c0.021,0.002 0.041,0.007 0.061,0.014c1.763,0.679 3.191,2.159 3.722,4.12l0.003,0.009c0.432,1.595 0.19,3.216 -0.551,4.558c-0.11,0.194 -0.067,0.439 0.103,0.583c0.192,0.166 0.455,0.39 0.711,0.607c0.173,0.147 0.25,0.377 0.2,0.597c-0.049,0.221 -0.216,0.396 -0.435,0.455l-5.055,1.369c-0.218,0.059 -0.451,-0.008 -0.605,-0.174c-0.075,-0.08 -0.125,-0.177 -0.148,-0.28Z" class="svelte-wof6i3"></path></svg>');function M0(a,e){let t=de(e,"isActive",3,!0),i=de(e,"isSelected",3,!1);var c=S0();let n;N(r=>n=re(c,0,"svelte-wof6i3",null,n,r),[()=>({disabled:!t(),spin:i()})]),u(a,c)}function O0(a,e,t){e()&&(ce(t,!0),setTimeout(()=>{ce(t,!1)},300))}var V0=le(`<svg width="100%" height="100%" viewBox="0 0 14 13" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g><path d="M3.654,5.076c-0.113,-0.097 -0.265,-0.133 -0.41,-0.099c-0.145,0.035 -0.264,0.136 -0.322,0.274c-0.329,0.858 -0.404,1.825 -0.145,2.779c0.639,2.363 3.076,3.761 5.438,3.122c2.363,-0.64 3.762,-3.077 3.122,-5.439c-0.366,-1.353 -1.321,-2.389 -2.515,-2.908c-0.109,-0.046 -0.17,-0.163 -0.147,-0.279c0.059,-0.297 0.171,-0.852 0.239,-1.189c0.015,-0.072 0.06,-0.134 0.123,-0.169c0.064,-0.036 0.141,-0.042 0.209,-0.017c1.763,0.679 3.191,2.159 3.722,4.121c0.883,3.262 -1.049,6.628 -4.311,7.511c-3.263,0.883 -6.628,-1.049 -7.511,-4.311c-0.432,-1.596 -0.191,-3.216 0.55,-4.559c0.111,-0.194 0.068,-0.439 -0.102,-0.583c-0.192,-0.166 -0.455,-0.389 -0.711,-0.607c-0.173,-0.147 -0.25,-0.377 -0.201,-0.597c0.05,-0.221 0.217,-0.396 0.436,-0.455c1.371,-0.371 3.683,-0.997 5.055,-1.369c0.218,-0.059 0.451,0.008 0.605,0.174c0.154,0.166 0.203,0.403 0.128,0.616c-0.436,1.24 -1.138,3.237 -1.533,4.359c-0.066,0.189 -0.222,0.333 -0.415,0.385c-0.194,0.053 -0.401,0.007 -0.553,-0.123c-0.249,-0.212 -0.525,-0.446 -0.751,-0.637Z" class="svelte-jhhttk"></path><g transform="matrix(4.00107,0,0,4.00107,10.405,8.71918)"></g><text x="4.247px" y="8.719px" style="font-family:'Varta-Bold', 'Varta';font-weight:700;font-size:4.001px;" class="svelte-jhhttk">ALL</text></g></svg>`);function j0(a,e){let t=de(e,"isActive",3,!0),i=ye(!1);var c=V0();c.__click=[O0,t,i];let n;N(r=>n=re(c,0,"svelte-jhhttk",null,n,r),[()=>({disabled:!t(),spin:o(i)})]),u(a,c)}ve(["click"]);var D0=(a,e)=>{e()==!0?e(!1):(e()==!1,e(!0))},P0=j('<button class="svelte-whxx7j"><!> <!></button>');function Je(a,e){K(e,!0);let t=de(e,"isOpened",15);var i=P0();i.__click=[D0,t];var c=h(i);ze(c,{get isOpened(){return t()},isVertical:!1});var n=_(c,2);Ke(n,()=>e.children),f(i),u(a,i),J()}ve(["click"]);var I0=j('<h3 class="svelte-utaoqk"> </h3>');function A0(a,e){K(e,!0);let t=de(e,"isOpened",15);function i(n){return n.split(".").at(-1)||""}function c(n){return n.split("."+i(n))[0]}Je(a,{get isOpened(){return t()},set isOpened(n){t(n)},children:(n,r)=>{var m=I0(),g=h(m,!0);f(m),N((l,d)=>{Y(m,"data-class",l),q(g,d)},[()=>c(e.name),()=>i(e.name)]),u(n,m)},$$slots:{default:!0}}),J()}ve(["click"]);var F0=le('<svg width="100%" height="100%" viewBox="0 0 14 13" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g><path d="M3.654,5.076c-0.113,-0.097 -0.265,-0.133 -0.41,-0.099c-0.145,0.035 -0.264,0.136 -0.322,0.274c-0.329,0.858 -0.404,1.825 -0.145,2.779c0.639,2.363 3.076,3.761 5.438,3.122c2.363,-0.64 3.762,-3.077 3.122,-5.439c-0.366,-1.353 -1.321,-2.389 -2.515,-2.908c-0.109,-0.046 -0.17,-0.163 -0.147,-0.279c0.059,-0.297 0.171,-0.852 0.239,-1.189c0.015,-0.072 0.06,-0.134 0.123,-0.169c0.064,-0.036 0.141,-0.042 0.209,-0.017c1.763,0.679 3.191,2.159 3.722,4.121c0.883,3.262 -1.049,6.628 -4.311,7.511c-3.263,0.883 -6.628,-1.049 -7.511,-4.311c-0.432,-1.596 -0.191,-3.216 0.55,-4.559c0.111,-0.194 0.068,-0.439 -0.102,-0.583c-0.192,-0.166 -0.455,-0.389 -0.711,-0.607c-0.173,-0.147 -0.25,-0.377 -0.201,-0.597c0.05,-0.221 0.217,-0.396 0.436,-0.455c1.371,-0.371 3.683,-0.997 5.055,-1.369c0.218,-0.059 0.451,0.008 0.605,0.174c0.154,0.166 0.203,0.403 0.128,0.616c-0.436,1.24 -1.138,3.237 -1.533,4.359c-0.066,0.189 -0.222,0.333 -0.415,0.385c-0.194,0.053 -0.401,0.007 -0.553,-0.123c-0.249,-0.212 -0.525,-0.446 -0.751,-0.637Z" class="svelte-1p9cwh8"></path></g></svg>');function Be(a,e){K(e,!0);let t=de(e,"isActive",3,!0),i=ye(!1);je(()=>{t()||o(i)||(ce(i,!0),setTimeout(()=>{ce(i,!1)},300))});var c=F0();let n;N(r=>n=re(c,0,"svelte-1p9cwh8",null,n,r),[()=>({disabled:!t(),spin:o(i)})]),u(a,c),J()}function R0(a,e){let t=de(e,"depth",3,0);Qe(a,{get item(){return e.item},get depth(){return t()}})}var C0=j('<div><div class="inner svelte-1ee64n6"><!></div></div>');function Pe(a,e){var t=C0();let i;var c=h(t),n=h(c);Ke(n,()=>e.children),f(c),f(t),N(r=>i=re(t,1,"hiddable svelte-1ee64n6",null,i,r),[()=>({shown:e.isShown})]),u(a,t)}var E0=(a,e)=>{e()},T0=j('<p style="margin-left: -24px;" class="svelte-f7jrs1"><button class="svelte-f7jrs1"><!></button> <!></p> <form><!></form>',1),z0=(a,e)=>{e()},N0=j('<p style="margin-left: -24px;" class="svelte-f7jrs1"><button class="svelte-f7jrs1"><!></button> <!></p> <!>',1),W0=j('<p class="svelte-f7jrs1"><!> </p>'),L0=j('<div class="two svelte-f7jrs1" style="margin-left: -20px;"><!></div> <div class="two svelte-f7jrs1"></div>',1),Z0=j('<div class="two svelte-f7jrs1"><p class="svelte-f7jrs1"><!> </p></div>'),B0=j("<div><!></div>");function Qe(a,e){K(e,!0);let t=de(e,"item",7),i=de(e,"depth",3,0);function c(){t().isValid&&(Oe.sendMessage({kind:"updatedJvmFields",fields:[{id:t().id,newValueString:t().newValueString}]}),t().valueString=t().newValueString,t().value=t().newValueString)}function n(l){var p;const d=(p=s.searchParam)==null?void 0:p.toLowerCase();if(!d)return l;const v=l.toLowerCase().indexOf(d);if(v===-1)return l;const S=l.slice(0,v),I=l.slice(v,v+d.length),x=l.slice(v+d.length);return`<span>${S}<span class="highlight">${I}</span>${x}</span>`}var r=ge(),m=B(r);{var g=l=>{var d=B0();let v;var S=h(d);{var I=p=>{var y=T0(),M=B(y),D=h(M);D.__click=[E0,c];var A=h(D);const W=Z(()=>t().valueString!=t().newValueString&&t().isValid);Be(A,{get isActive(){return o(W)}}),f(D);var U=_(D,2);Ie(U,()=>n(t().fieldName)),f(M);var P=_(M,2),R=h(P);const O=Z(()=>t().type.toUpperCase()),b=Z(()=>c0(t().type));o0(R,{get type(){return o(O)},get validate(){return o(b)},get value(){return t().value},set value(w){t().value=w},get isValid(){return t().isValid},set isValid(w){t().isValid=w},get startValue(){return t().valueString},set startValue(w){t().valueString=w},get currentValue(){return t().newValueString},set currentValue(w){t().newValueString=w}}),f(P),f0("submit",P,()=>{c()}),u(p,y)},x=(p,y)=>{{var M=A=>{var W=N0(),U=B(W),P=h(U);P.__click=[z0,c];var R=h(P);const O=Z(()=>t().valueString!=t().newValueString&&t().isValid);Be(R,{get isActive(){return o(O)}}),f(P);var b=_(P,2);Ie(b,()=>n(t().fieldName)),f(U);var w=_(U,2);const C=Z(()=>t().type.toUpperCase());Me(w,{get possibleValues(){return t().possibleValues},get type(){return o(C)},get value(){return t().value},set value(F){t().value=F},get isValid(){return t().isValid},set isValid(F){t().isValid=F},get startValue(){return t().valueString},set startValue(F){t().valueString=F},get currentValue(){return t().newValueString},set currentValue(F){t().newValueString=F}}),u(A,W)},D=(A,W)=>{{var U=R=>{var O=L0(),b=B(O),w=h(b);Je(w,{get isOpened(){return t().isOpened},set isOpened(F){t().isOpened=F},children:(F,E)=>{var k=W0(),T=h(k);Ie(T,()=>n(t().fieldName));var z=_(T);f(k),N(()=>q(z,` ${t().type??""}`)),u(F,k)},$$slots:{default:!0}}),f(b);var C=_(b,2);$(C,21,()=>t().customValues,ee,(F,E)=>{Pe(F,{get isShown(){return t().isOpened},children:(k,T)=>{const z=Z(()=>i()+1);R0(k,{get item(){return o(E)},get depth(){return o(z)}})}})}),f(C),u(R,O)},P=R=>{var O=Z0(),b=h(O),w=h(b);Ie(w,()=>n(t().fieldName));var C=_(w);f(b),f(O),N(()=>q(C,` ${t().type??""}`)),u(R,O)};L(A,R=>{t().type==ae.CUSTOM||t().type==ae.ARRAY||t().type==ae.MAP||t().type==ae.LIST?R(U):R(P,!1)},W)}};L(p,A=>{t().type===ae.ENUM||t().type===ae.BOOLEAN?A(M):A(D,!1)},y)}};L(S,p=>{[ae.INT,ae.LONG,ae.DOUBLE,ae.FLOAT,ae.STRING].includes(t().type)?p(I):p(x,!1)})}f(d),N(p=>{De(d,`--depth:${i()??""};`),v=re(d,1,"svelte-f7jrs1",null,v,p)},[()=>({item:t(),disabled:t().type==ae.UNKNOWN,first:i()==0})]),u(l,d)};L(m,l=>{t().isShown&&l(g)})}u(a,r),J()}ve(["click"]);function $e(a,e){if(!a)return;const t={};Ae(a,c=>{const n=e(c);return c.isShown=n,n},(c,n)=>{const r=e(c),m=n.some(Boolean),g=r||m;return r?(c.isOpened=!0,c.isShown=!0,Fe(c.customValues??[],l=>{l.isShown=!0},l=>{l.isShown=!0,l.isOpened=!0})):(c.isOpened=m,c.isShown=g),g});const i=c=>{c.isShown&&(t[c.className]=!0)};Fe(s.jvmFields,i,i),s.openedStates=t}function U0(a,e){a=a.toLowerCase(),$e(e,t=>{var i;return(i=t.fieldName)==null?void 0:i.toLowerCase().includes(a)})}let Ve={openedStates:{},isOpenedMap:new Map};function e0(){Ve.openedStates={...s.openedStates},Ve.isOpenedMap=new Map,Fe(s.jvmFields,a=>{},a=>{Ve.isOpenedMap.set(a.id,a.isOpened??!1)})}function t0(){s.openedStates={...Ve.openedStates},Fe(s.jvmFields,a=>{a.isShown=!0},a=>{a.isShown=!0,a.isOpened=Ve.isOpenedMap.get(a.id)??!1})}function G0(a){if(s.searchParam=a,a!="")s.configurablesState==ue.NORMAL&&e0(),s.configurablesState=ue.SEARCH,U0(a,s.jvmFields);else if(s.configurablesState==ue.SEARCH){s.configurablesState=ue.NORMAL,t0();return}}function H0(){if(s.configurablesState==ue.DIFF){t0(),s.configurablesState=ue.NORMAL;return}s.configurablesState==ue.NORMAL&&e0(),s.configurablesState=ue.DIFF,X0(s.jvmFields)}function X0(a){$e(a,e=>e.valueString!=s.initialJvmFields.get(e.id))}function Y0(a){let e=!1;return Ae(a,t=>t.valueString!==s.initialJvmFields.get(t.id)?(e=!0,!0):!1,()=>e),e}var ne=He(()=>s),q0=a=>{const e=a.target;e&&G0(e.value)},K0=()=>{H0()},J0=j('<input class="search svelte-1epp9tw" type="text" placeholder="Search"> <div><button class="svelte-1epp9tw"><!></button> <button class="svelte-1epp9tw"><!></button></div>',1),Q0=j("<!> <!>",1),$0=j("<p>No configurables found.</p>"),et=j('<div class="content svelte-1epp9tw"><!> <!></div>'),tt=j("<!> <!>",1);function at(a,e){K(e,!1);function t(l){const d={};for(const v of l)d.hasOwnProperty(v.className)||(d[v.className]=[]),d[v.className].push(v);return d}function i(l){return Ae(l,d=>d.valueString!==d.newValueString&&d.isValid,(d,v)=>v.some(Boolean)).some(Boolean)}function c(l){return Ae(l,v=>v.valueString!==v.newValueString&&v.isValid?{id:v.id,newValueString:v.newValueString}:null,(v,S)=>null).filter(v=>v!==null)}function n(l){l!=null&&Oe.sendMessage({kind:"updatedJvmFields",fields:c(l)})}Le();var r=tt(),m=B(r);d0(m,{children:(l,d)=>{var v=J0(),S=B(v);S.__input=[q0];var I=_(S,2),x=h(I);x.__click=()=>{n(ne().jvmFields)};var p=h(x);const y=ke(()=>i(ne().jvmFields));j0(p,{get isActive(){return o(y)}}),f(x);var M=_(x,2);M.__click=[K0];var D=h(M);const A=ke(()=>Y0(ne().jvmFields)),W=ke(()=>ne().configurablesState==ue.DIFF);M0(D,{get isActive(){return o(A)},get isSelected(){return o(W)}}),f(M),f(I),u(l,v)}});var g=_(m,2);be(g,{children:(l,d)=>{var v=et(),S=h(v);$(S,1,()=>Object.entries(t(ne().jvmFields)),ee,(p,y)=>{let M=()=>o(y)[0],D=()=>o(y)[1];const A=ke(()=>ne().openedStates[M()]||ne().configurablesState==ue.NORMAL);Pe(p,{get isShown(){return o(A)},children:(W,U)=>{var P=Q0(),R=B(P);A0(R,{get name(){return M()},get isOpened(){return ne().openedStates[M()]},set isOpened(w){ne(ne().openedStates[M()]=w)},$$legacy:!0});var O=_(R,2);const b=ke(()=>ne().openedStates[M()]==!0);Pe(O,{get isShown(){return o(b)},children:(w,C)=>{var F=ge(),E=B(F);$(E,1,D,ee,(k,T)=>{Qe(k,{get item(){return o(T)}})}),u(w,F)},$$slots:{default:!0}}),u(W,P)}})});var I=_(S,2);{var x=p=>{var y=$0();u(p,y)};L(I,p=>{ne().jvmFields.length==0&&p(x)})}f(v),u(l,v)}}),u(a,r),J()}ve(["input","click"]);class H{constructor(e,t){pe(this,"inches");pe(this,"pixels");pe(this,"tiles");if(this.inches=e,t!==void 0)this.pixels=t;else{const i=fe.pixels/fe.inches;this.pixels=this.inches*i}this.tiles=this.inches/24}}const fe=new H(24*6,1024),Ne=new H(24*6,1024);class ie{constructor(e,t){pe(this,"fieldX");pe(this,"fieldY");pe(this,"x");pe(this,"y");this.fieldX=e,this.fieldY=t;const i=fe.pixels/fe.inches;this.x=this.fieldX*i,this.y=this.fieldY*-i}static withData(e){return new ie(e.x,e.y)}}let V;var a0=new H(0),n0=new H(0);function nt(a,e,t){a0==e&&n0==t||s0(a,e,t)}function s0(a,e,t){if(!a)return;a0=e,n0=t;const i=window.devicePixelRatio||1,c=fe.pixels*i,n=Ne.pixels*i;a.width=c,a.height=n,V=a.getContext("2d"),V&&V.scale(i,i),V&&V.translate(fe.pixels/2+e.pixels,Ne.pixels/2+t.pixels)}function st(a){V!=null&&V.moveTo(a.x,a.y)}function We(a,e,t="red",i=new H(.03)){V!=null&&(V.beginPath(),st(a),V.lineTo(e.x,e.y),V.strokeStyle=t,V.lineWidth=i.pixels,V.stroke(),V.closePath())}function it(a,e="blue",t=3){V!=null&&(V.beginPath(),V.arc(a.x,a.y,t,0,2*Math.PI),V.fillStyle=e,V.fill(),V.closePath())}function rt(a,e){const t=fe.pixels/fe.inches,i=e*t;a.font=`${i}px Arial`}function Ue(a,e="#333",t="#fff",i=new H(24*6)){if(V==null)return;V.strokeStyle=e,V.lineWidth=1,V.fillStyle=t,rt(V,3);const c=new H(fe.inches/2+i.inches),n=new H(Ne.inches/2+i.inches);for(let r=-c.inches;r<=c.inches;r+=a.inches){We(new ie(r,-n.inches),new ie(r,n.inches),e,new H(.01));for(let m=-n.inches;m<=n.inches;m+=a.inches){const g=new ie(r,m);it(g,"white",2),V.fillText(`(${r}", ${m}")`,g.x+5,g.y+5)}}for(let r=-n.inches;r<=n.inches;r+=a.inches)We(new ie(-c.inches,r),new ie(c.inches,r),e,new H(.01))}function lt(a,e,t="blue",i="black",c=new H(.02)){t==""&&(t="transparent"),V!=null&&(V.beginPath(),V.arc(a.x,a.y,e.pixels,0,2*Math.PI),V.fillStyle=t,V.fill(),V.strokeStyle=i,V.lineWidth=c.pixels,V.stroke(),V.closePath())}function ot(a,e,t,i="green",c="black",n=new H(.02)){if(i==""&&(i="transparent"),V==null)return;const r=new ie(a.fieldX-e.inches/2,a.fieldY-t.inches/2);V.beginPath(),V.fillStyle=i,V.fillRect(r.x,r.y,e.pixels,t.pixels),V.strokeStyle=c,V.lineWidth=n.pixels,V.strokeRect(r.x,r.y,e.pixels,t.pixels),V.closePath()}var ct=j('<div style="width: 100%; overflow: hidden;" class="svelte-1ii1nou"><img src="/fields/field.png" alt="field" class="svelte-1ii1nou"> <canvas class="svelte-1ii1nou"></canvas></div> <p> </p>',1);function dt(a,e){K(e,!0);let t,i=ye(!1),c={DEG_0:0,DEG_90:90,DEG_180:180,DEG_270:270};Ze(()=>{s0(t,new H(s.canvas.offsetX),new H(s.canvas.offsetY)),Se.fieldShowCoordinates=="true"&&Ue(new H(24)),ce(i,!0)}),je(()=>{o(i)&&nt(t,new H(s.canvas.offsetX),new H(s.canvas.offsetY))}),je(()=>{o(i)&&(Se.fieldShowCoordinates=="true"&&Ue(new H(24)),s.canvas.lines&&s.canvas.lines.forEach(n=>{We(ie.withData(n.start),ie.withData(n.end),n.look.outlineColor,new H(n.look.outlineWidth))}),s.canvas.rectangles&&s.canvas.rectangles.forEach(n=>{ot(ie.withData(n.center),new H(n.width),new H(n.height),n.look.fillColor,n.look.outlineColor,new H(n.look.outlineWidth))}),s.canvas.circles&&s.canvas.circles.forEach(n=>{lt(ie.withData(n.center),new H(n.radius),n.look.fillColor,n.look.outlineColor,new H(n.look.outlineWidth))}))}),be(a,{children:(n,r)=>{var m=ct(),g=B(m),l=h(g),d=_(l,2);x0(d,I=>t=I,()=>t),f(g);var v=_(g,2),S=h(v);f(v),N((I,x)=>{De(l,`rotate: ${I??""}deg;`),q(S,`offsetX: ${s.canvas.offsetX??""}
    offsetY: ${s.canvas.offsetY??""}
    Orientation: ${x??""}deg`)},[()=>parseInt(Se.fieldOrientation.split("deg")[0])+c[s.canvas.rotation],()=>parseInt(Se.fieldOrientation.split("deg")[0])+c[s.canvas.rotation]]),u(n,m)}}),J()}var vt=(a,e,t)=>e(t()),ut=j('<li class="svelte-1a0a577"><button> </button> </li>'),gt=le('<text y="-2" font-size="2.5" fill="white" stroke="var(--text)" stroke-width="0.1" text-anchor="middle"> </text>'),ft=le('<text x="-2" font-size="2.5" fill="white" stroke="var(--text)" stroke-width="0.1" text-anchor="end"> </text>'),pt=le('<line x1="0" x2="100" stroke="var(--text)" stroke-width="0.2"></line><line y1="0" y2="100" stroke="var(--text)" stroke-width="0.2"></line>',1),mt=le('<polyline fill="none" stroke-width="0.6"></polyline>'),ht=j('<div class="flex svelte-1a0a577"><input type="range" min="1" max="60" aria-label="Time window"> <p> </p></div> <ul class="svelte-1a0a577"></ul> <div class="graph svelte-1a0a577"><svg viewBox="-10 -10 120 120" preserveAspectRatio="none"><rect x="0" y="0" width="100" height="100" fill="var(--card)"></rect><!><!><!><!></svg></div>',1);function _t(a,e){K(e,!0);const t=we({});function i(g){t[g]=!t[g]}function c(g,l,d,v=[0,1]){return d===l?g.map(()=>.5):g.map(S=>(S-l)/(d-l)*(v[1]-v[0])+v[0])}function n(g){const l=Object.values(g).flat().map(y=>y.data),d=Object.values(g).flat().map(y=>y.timestamp),v=Math.min(...l),S=Math.max(...l),I=Math.min(...d),x=I+s.timeWindow*1e3,p={};return Object.entries(g).forEach(([y,M])=>{const D=M.map(P=>P.timestamp),A=M.map(P=>P.data),W=c(D,I,x,[0,100]),U=c(A,v,S,[0,100]);p[y]=M.map((P,R)=>({x:Math.min(100,Math.max(0,W[R])),y:100-U[R]}))}),p}function r(g){const l=Object.values(g).flat().map(S=>S.data);if(l.length===0)return[0,1];const d=Math.min(...l),v=Math.max(...l);return[d,v]}const m=["red","lime","cyan","yellow","magenta","orange"];be(a,{children:(g,l)=>{var d=ht(),v=B(d),S=h(v);qe(S);var I=_(S,2),x=h(I);f(I),f(v);var p=_(v,2);$(p,21,()=>Object.entries(s.graphs),ee,(O,b)=>{let w=()=>o(b)[0],C=()=>o(b)[1];var F=ut(),E=h(F);E.__click=[vt,i,w];let k;var T=h(E,!0);f(E);var z=_(E);f(F),N((_e,G)=>{Y(E,"aria-pressed",t[w()]),k=re(E,1,"svelte-1a0a577",null,k,_e),q(T,w()),q(z,` â€“ ${C().length??""} entries / ${G??""}`)},[()=>({selected:t[w()]}),()=>parseFloat(C()[C().length-1].data.toString()).toFixed(3)]),u(O,F)}),f(p);var y=_(p,2),M=h(y),D=_(h(M));$(D,16,()=>[0,25,50,75,100],ee,(O,b)=>{var w=gt(),C=h(w);f(w),N(F=>{Y(w,"x",b),q(C,`${F??""}s`)},[()=>Math.round(b/100*s.timeWindow)]),u(O,w)});var A=_(D);{var W=O=>{var b=ge();const w=Z(()=>Object.fromEntries(Object.entries(s.graphs).filter(([E])=>t[E]))),C=Z(()=>{const[E,k]=r(o(w));return{min:E,max:k}});var F=B(b);$(F,16,()=>[0,25,50,75,100],ee,(E,k)=>{var T=ft(),z=h(T,!0);f(T),N(_e=>{Y(T,"y",100-k),q(z,_e)},[()=>(o(C).min+k/100*(o(C).max-o(C).min)).toFixed(2)]),u(E,T)}),u(O,b)};L(A,O=>{Object.keys(t).some(b=>t[b])&&O(W)})}var U=_(A);$(U,16,()=>[25,50,75],ee,(O,b)=>{var w=pt(),C=B(w),F=_(C);N(()=>{Y(C,"y1",b),Y(C,"y2",b),Y(F,"x1",b),Y(F,"x2",b)}),u(O,w)});var P=_(U);{var R=O=>{var b=ge(),w=B(b);$(w,17,()=>Object.entries(n(Object.fromEntries(Object.entries(s.graphs).filter(([C])=>t[C])))),ee,(C,F,E)=>{let k=()=>o(F)[1];var T=mt();N(z=>{Y(T,"stroke",m[E%m.length]),Y(T,"points",z)},[()=>k().map(z=>`${z.x},${z.y}`).join(" ")]),u(C,T)}),u(O,b)};L(P,O=>{Object.keys(t).some(b=>t[b])&&O(R)})}f(M),f(y),N(()=>q(x,`(last ${s.timeWindow??""}s)`)),Xe(S,()=>s.timeWindow,O=>s.timeWindow=O),u(g,d)}}),J()}ve(["click"]);var xt=(a,e,t)=>e.onselect(o(t)),wt=j('<button class="svelte-6klxoa"> </button>'),yt=j('<p class="svelte-6klxoa">No opModes here.</p>'),bt=j("<!> <!>",1);function Ge(a,e){K(e,!0);var t=bt(),i=B(t);$(i,17,()=>s.opModes.filter(r=>r.flavour==e.flavour),ee,(r,m)=>{var g=wt();g.__click=[xt,e,m];var l=h(g);f(g),N(()=>q(l,`${o(m).name??""} / ${o(m).group??""}`)),u(r,g)});var c=_(i,2);{var n=r=>{var m=yt();u(r,m)};L(c,r=>{s.opModes.filter(m=>m.flavour==e.flavour).length==0&&r(n)})}u(a,t),J()}ve(["click"]);var kt=(a,e)=>e("autos"),St=(a,e)=>e("teleops"),Mt=j('<p class="title svelte-1owm73j">Nothing selected</p>'),Ot=j('<p class="title svelte-1owm73j"><span class="title_small svelte-1owm73j"> </span> </p>'),Vt=j('<div class="modal autos svelte-1owm73j"><!></div> <div class="modal teleops svelte-1owm73j"><!></div> <div class="controls svelte-1owm73j"><button class="svelte-1owm73j"><span class="svelte-1owm73j">Autos<!></span></button> <button class="svelte-1owm73j"><span class="svelte-1owm73j">TeleOps<!></span></button></div> <!> <div class="flex svelte-1owm73j"><!> <!> <!></div>',1);function jt(a,e){K(e,!0);let t=ye("");function i(r){o(t)!=r?ce(t,we(r)):ce(t,"")}function c(r){ce(n,we(r)),ce(t,"")}je(()=>{if(console.log(s.activeOpMode),s.activeOpMode==" ")return;console.log("Length: ",s.opModes.length);let r=null;for(const m of s.opModes)m.name==s.activeOpMode&&(r=m);r!=null&&ce(n,we(r))});let n=ye(we({name:"",group:"",flavour:"AUTONOMOUS"}));be(a,{children:(r,m)=>{var g=Vt(),l=B(g),d=h(l);const v=Z(()=>o(t)=="autos");Pe(d,{get isShown(){return o(v)},children:(G,Q)=>{Ge(G,{flavour:"AUTONOMOUS",onselect:c})}}),f(l);var S=_(l,2),I=h(S);const x=Z(()=>o(t)=="teleops");Pe(I,{get isShown(){return o(x)},children:(G,Q)=>{Ge(G,{flavour:"TELEOP",onselect:c})}}),f(S);var p=_(S,2),y=h(p);y.__click=[kt,i];var M=h(y),D=_(h(M));const A=Z(()=>o(t)=="autos");ze(D,{get isOpened(){return o(A)}}),f(M),f(y);var W=_(y,2);W.__click=[St,i];var U=h(W),P=_(h(U));const R=Z(()=>o(t)=="teleops");ze(P,{get isOpened(){return o(R)}}),f(U),f(W),f(p);var O=_(p,2);{var b=G=>{var Q=Mt();u(G,Q)},w=G=>{var Q=Ot(),te=h(Q),Ce=h(te,!0);f(te);var Ee=_(te);f(Q),N(()=>{q(Ce,o(n).flavour),q(Ee,` ${o(n).name??""}`)}),u(G,Q)};L(O,G=>{o(n).name==""?G(b):G(w,!1)})}var C=_(O,2),F=h(C);const E=Z(()=>o(n).name==""||s.activeOpModeStatus=="running"&&s.activeOpMode!="$Stop$Robot$"||s.activeOpModeStatus=="stopped"&&s.activeOpMode!="$Stop$Robot$"||o(n).name!=""&&s.activeOpModeStatus=="init");he(F,{get disabled(){return o(E)},onclick:()=>{Oe.sendMessage({kind:"initOpMode",opModeName:o(n).name})},children:(G,Q)=>{se();var te=me("Initialize");u(G,te)},$$slots:{default:!0}});var k=_(F,2);const T=Z(()=>s.activeOpMode=="$Stop$Robot$"||o(n).name==""||s.activeOpModeStatus!="init");he(k,{get disabled(){return o(T)},onclick:()=>{Oe.sendMessage({kind:"startActiveOpMode"})},children:(G,Q)=>{se();var te=me("Start");u(G,te)},$$slots:{default:!0}});var z=_(k,2);const _e=Z(()=>s.activeOpMode=="$Stop$Robot$"||o(n).name==""||s.activeOpModeStatus=="stopped");he(z,{get disabled(){return o(_e)},onclick:()=>{Oe.sendMessage({kind:"stopActiveOpMode"})},children:(G,Q)=>{se();var te=me("Stop");u(G,te)},$$slots:{default:!0}}),f(C),u(r,g)}}),J()}ve(["click"]);var Dt=j('<p> </p> <p> </p> <input type="range"> <div class="flex-item svelte-1o86sht"><p>Animation speed</p> <!></div> <div><div class="flex svelte-1o86sht"><!> <!> <!></div> <div class="flex svelte-1o86sht"><!> <!></div></div>',1);function Pt(a,e){K(e,!0);let t=ye("1x");je(()=>{o(t)!=null&&s.isForwarding&&(n=s.timestamp,c=performance.now())});let i=null,c=null,n=0;function r(g){if(!s.isForwarding||c===null)return;const l=g-c,d=parseFloat(o(t).replace("x",""));s.timestamp=Math.min(n+l*d,s.duration),s.timestamp<s.duration?i=requestAnimationFrame(r):(s.timestamp=s.duration,s.isForwarding=!1,i=null,c=null)}function m(){s.isForwarding=!s.isForwarding,s.isForwarding?(n=s.timestamp,c=performance.now(),i=requestAnimationFrame(r)):(c=null,i!==null&&(cancelAnimationFrame(i),i=null))}v0(()=>{i!==null&&cancelAnimationFrame(i)}),be(a,{children:(g,l)=>{var d=Dt(),v=B(d),S=h(v);f(v);var I=_(v,2),x=h(I);f(I);var p=_(I,2);qe(p),Y(p,"min",0);var y=_(p,2),M=_(h(y),2);Me(M,{startValue:"1x",value:"1x",possibleValues:["0.1x","0.25x","0.5x","1x","2x","3x","4x"],get isValid(){return s.hasRecording},alwaysValid:!0,get currentValue(){return o(t)},set currentValue(k){ce(t,we(k))}}),f(y);var D=_(y,2),A=h(D),W=h(A);he(W,{onclick:()=>{s.isRecording=!0},get disabled(){return s.isRecording},children:(k,T)=>{se();var z=me("Start");u(k,z)},$$slots:{default:!0}});var U=_(W,2);const P=Z(()=>!s.isRecording);he(U,{onclick:()=>{s.isRecording=!1},get disabled(){return o(P)},children:(k,T)=>{se();var z=me("Stop");u(k,z)},$$slots:{default:!0}});var R=_(U,2);const O=Z(()=>!s.hasRecording);he(R,{onclick:()=>{s.isRecording=!1,s.history=[],s.timestamp=0,s.isPlaying=!1},get disabled(){return o(O)},children:(k,T)=>{se();var z=me("Reset");u(k,z)},$$slots:{default:!0}}),f(A);var b=_(A,2),w=h(b);const C=Z(()=>!s.hasRecording);he(w,{onclick:()=>{s.isPlaying=!s.isPlaying},get disabled(){return o(C)},children:(k,T)=>{se();var z=me();N(()=>q(z,`${(s.isPlaying?"Disable":"Enable")??""} Visual Sync`)),u(k,z)},$$slots:{default:!0}});var F=_(w,2);const E=Z(()=>!s.hasRecording);he(F,{onclick:m,get disabled(){return o(E)},children:(k,T)=>{se();var z=me();N(()=>q(z,`${(s.isForwarding?"Stop":"Start")??""} Playing`)),u(k,z)},$$slots:{default:!0}}),f(b),f(D),N((k,T)=>{q(S,`Got ${s.history.length??""} entries`),q(x,`Timestamp: ${k??""}s / ${T??""}s`),p.disabled=!s.hasRecording,Y(p,"max",s.duration)},[()=>(s.timestamp/1e3).toFixed(2),()=>(s.duration/1e3).toFixed(2)]),Xe(p,()=>s.timestamp,k=>s.timestamp=k),u(g,d)}}),J()}var It=j("<p> </p>"),At=j("<p>No telemetry found.</p>"),Ft=j("<!> <!>",1);function Rt(a,e){K(e,!1),Le(),be(a,{children:(t,i)=>{var c=Ft(),n=B(c);$(n,1,()=>s.telemetry,ee,(g,l)=>{var d=It(),v=h(d,!0);f(d),N(()=>q(v,o(l))),u(g,d)});var r=_(n,2);{var m=g=>{var l=At();u(g,l)};L(r,g=>{s.telemetry.length==0&&g(m)})}u(t,c)}}),J()}var Ct=j('<p style="padding: 1rem;">CUSTOM not valid</p>'),Et=j('<p style="padding: 1rem;"> </p>');function Tt(a,e){K(e,!0);var t=ge(),i=B(t);{var c=r=>{jt(r,{})},n=(r,m)=>{{var g=d=>{h0(d,{get gamepad(){return m0.gamepads[0]}})},l=(d,v)=>{{var S=x=>{dt(x,{})},I=(x,p)=>{{var y=D=>{Rt(D,{})},M=(D,A)=>{{var W=P=>{at(P,{})},U=(P,R)=>{{var O=w=>{_t(w,{})},b=(w,C)=>{{var F=k=>{Pt(k,{})},E=(k,T)=>{{var z=G=>{var Q=ge(),te=B(Q);{var Ce=xe=>{k0(xe,{get pluginID(){return e.item.pluginID},get pageID(){return e.item.pageID}})},Ee=xe=>{var i0=Ct();u(xe,i0)};L(te,xe=>{e.item.pluginID&&e.item.pageID?xe(Ce):xe(Ee,!1)})}u(G,Q)},_e=G=>{var Q=Et(),te=h(Q);f(Q),N(()=>q(te,`This is an unknown widget of type "${e.item.type??""}"`)),u(G,Q)};L(k,G=>{e.item.type==oe.CUSTOM?G(z):G(_e,!1)},T)}};L(w,k=>{e.item.type==oe.CAPTURE?k(F):k(E,!1)},C)}};L(P,w=>{e.item.type==oe.GRAPH?w(O):w(b,!1)},R)}};L(D,P=>{e.item.type==oe.CONFIGURABLES?P(W):P(U,!1)},A)}};L(x,D=>{e.item.type==oe.TELEMETRY?D(y):D(M,!1)},p)}};L(d,x=>{e.item.type==oe.FIELD?x(S):x(I,!1)},v)}};L(r,d=>{e.item.type==oe.GAMEPAD?d(g):d(l,!1)},m)}};L(i,r=>{e.item.type==oe.CONTROLS?r(c):r(n,!1)})}u(a,t),J()}function zt(a,e,t){X.context.closeContextMenu(),e().widgets.splice(t.index,1),e().activeWidgetID==t.index&&(e().activeWidgetID>0?e().activeWidgetID=e().activeWidgetID-1:e().activeWidgetID=0)}var Nt=(a,e,t)=>{a.preventDefault(),X.context.openContextMenu(e().id,t.index)},Wt=(a,e,t)=>e().activeWidgetID=t.index,Lt=(a,e,t)=>{X.tabs.startMoving(a.clientX,a.clientY,e.index,t().id)},Zt=j("<p>No plugins found</p>"),Bt=j("<!> <!>",1),Ut=j('<button class="button svelte-vpv46l">Remove</button> <!> <!>',1),Gt=j('<div class="base svelte-vpv46l" role="button"><button> </button> <!></div>');function Ht(a,e){K(e,!0);let t=de(e,"m",7),i=Z(()=>t().widgets[e.index]);var c=Gt();c.__contextmenu=[Nt,t,e];var n=h(c);let r;n.__click=[Wt,t,e],n.__mousedown=[Lt,e,t];var m=h(n,!0);f(n);var g=_(n,2);{var l=d=>{Ye(d,{get id(){return t().id},children:(v,S)=>{var I=Ut(),x=B(I);x.__click=[zt,t,e];var p=_(x,2);Me(p,{keepOpened:!0,type:"",get startValue(){return t().widgets[e.index].type},get value(){return t().widgets[e.index].type},possibleValues:g0,isValid:!0,alwaysValid:!0,get currentValue(){return t().widgets[e.index].type},set currentValue(D){t().widgets[e.index].type=D}});var y=_(p,2);{var M=D=>{var A=ge(),W=B(A);{var U=R=>{var O=Zt();u(R,O)},P=R=>{var O=Bt(),b=B(O);const w=Z(()=>[...s.plugins.map(E=>E.id),"none"]);Me(b,{keepOpened:!0,type:"",get startValue(){return t().widgets[e.index].pluginID},get value(){return t().widgets[e.index].pluginID},get possibleValues(){return o(w)},isValid:!0,alwaysValid:!0,get currentValue(){return t().widgets[e.index].pluginID},set currentValue(E){t().widgets[e.index].pluginID=E}});var C=_(b,2);{var F=E=>{const k=Z(()=>{var T;return[...(((T=s.plugins.find(z=>t().widgets[e.index].type==oe.CUSTOM&&z.id==t().widgets[e.index].pluginID))==null?void 0:T.pages)??[]).map(z=>z.id),"none"]});Me(E,{keepOpened:!0,type:"",get startValue(){return t().widgets[e.index].pageID},get value(){return t().widgets[e.index].pageID},get possibleValues(){return o(k)},isValid:!0,alwaysValid:!0,get currentValue(){return t().widgets[e.index].pageID},set currentValue(T){t().widgets[e.index].pageID=T}})};L(C,E=>{t().widgets[e.index].pluginID!="none"&&E(F)})}u(R,O)};L(W,R=>{s.plugins.length==0?R(U):R(P,!1)})}u(D,A)};L(y,D=>{t().widgets[e.index].type==oe.CUSTOM&&D(M)})}u(v,I)},$$slots:{default:!0}})};L(g,d=>{X.context.isContextOpened(t().id,e.index)&&d(l)})}f(c),N(d=>{Y(c,"tabindex",e.index),r=re(n,1,"tab svelte-vpv46l",null,r,d),q(m,o(i).type)},[()=>({selected:e.index==t().activeWidgetID})]),u(a,c),J()}ve(["contextmenu","click","mousedown"]);var Xt=le('<svg width="100%" height="100%" viewBox="0 0 18 7" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" class="svelte-1ynz80y"><g><path d="M0.968,4.032c-0.207,-0.128 -0.333,-0.354 -0.333,-0.597c-0,-0.243 0.126,-0.469 0.333,-0.597c0.987,-0.608 2.514,-1.549 3.535,-2.179c0.217,-0.133 0.488,-0.139 0.71,-0.015c0.222,0.123 0.359,0.358 0.359,0.612c0,1.238 0,3.12 0,4.358c0,0.254 -0.137,0.489 -0.359,0.612c-0.222,0.124 -0.493,0.118 -0.71,-0.015c-1.021,-0.63 -2.548,-1.571 -3.535,-2.179Z" class="svelte-1ynz80y"></path><path d="M16.674,2.838c0.207,0.128 0.333,0.354 0.333,0.597c-0,0.243 -0.126,0.469 -0.333,0.597c-0.987,0.608 -2.514,1.549 -3.536,2.179c-0.216,0.133 -0.488,0.139 -0.709,0.015c-0.222,-0.123 -0.36,-0.358 -0.36,-0.612c0,-1.238 0,-3.12 0,-4.358c0,-0.254 0.138,-0.489 0.36,-0.612c0.221,-0.124 0.493,-0.118 0.709,0.015c1.022,0.63 2.549,1.571 3.536,2.179Z" class="svelte-1ynz80y"></path><path d="M3.71,2.97c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.807,0 2.749,0 3.556,0c0.096,0 0.188,0.038 0.256,0.106c0.068,0.068 0.106,0.16 0.106,0.256c-0,0.276 -0,0.654 -0,0.93c-0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.807,-0 -2.749,-0 -3.556,-0c-0.096,-0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.276 0,-0.654 0,-0.93Z" class="svelte-1ynz80y"></path><path d="M13.931,3.9c0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.068 -0.159,0.106 -0.255,0.106c-0.808,-0 -2.75,-0 -3.557,-0c-0.096,-0 -0.188,-0.038 -0.255,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c-0,-0.276 -0,-0.654 -0,-0.93c-0,-0.096 0.038,-0.188 0.106,-0.256c0.067,-0.068 0.159,-0.106 0.255,-0.106c0.807,0 2.749,0 3.557,0c0.096,0 0.187,0.038 0.255,0.106c0.068,0.068 0.106,0.16 0.106,0.256c0,0.276 0,0.654 0,0.93Z" class="svelte-1ynz80y"></path></g></svg>');function Yt(a){var e=Xt();u(a,e)}var qt=le('<svg width="100%" height="100%" viewBox="0 0 16 7" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" class="svelte-1ynz80y"><g><path d="M7.022,2.838c0.207,0.128 0.333,0.354 0.333,0.597c0,0.243 -0.126,0.469 -0.333,0.597c-0.987,0.608 -2.514,1.549 -3.536,2.179c-0.216,0.133 -0.487,0.139 -0.709,0.015c-0.222,-0.123 -0.359,-0.358 -0.359,-0.612c-0,-1.238 -0,-3.12 -0,-4.358c-0,-0.254 0.137,-0.489 0.359,-0.612c0.222,-0.124 0.493,-0.118 0.709,0.015c1.022,0.63 2.549,1.571 3.536,2.179Z" class="svelte-1ynz80y"></path><path d="M8.863,4.032c-0.207,-0.128 -0.333,-0.354 -0.333,-0.597c-0,-0.243 0.126,-0.469 0.333,-0.597c0.986,-0.608 2.513,-1.549 3.535,-2.179c0.216,-0.133 0.488,-0.139 0.71,-0.015c0.221,0.123 0.359,0.358 0.359,0.612c-0,1.238 -0,3.12 -0,4.358c-0,0.254 -0.138,0.489 -0.359,0.612c-0.222,0.124 -0.494,0.118 -0.71,-0.015c-1.022,-0.63 -2.549,-1.571 -3.535,-2.179Z" class="svelte-1ynz80y"></path><path d="M4.28,3.9c-0,0.096 -0.039,0.188 -0.106,0.256c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.807,-0 -2.749,-0 -3.556,-0c-0.096,-0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c-0,-0.276 -0,-0.654 -0,-0.93c-0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.807,0 2.749,0 3.556,0c0.096,0 0.188,0.038 0.256,0.106c0.067,0.068 0.106,0.16 0.106,0.256c-0,0.276 -0,0.654 -0,0.93Z" class="svelte-1ynz80y"></path><path d="M11.605,2.97c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.807,0 2.749,0 3.556,0c0.096,0 0.188,0.038 0.256,0.106c0.067,0.068 0.106,0.16 0.106,0.256c-0,0.276 -0,0.654 -0,0.93c-0,0.096 -0.039,0.188 -0.106,0.256c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.807,-0 -2.749,-0 -3.556,-0c-0.096,-0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.276 0,-0.654 0,-0.93Z" class="svelte-1ynz80y"></path></g></svg>');function Kt(a){var e=qt();u(a,e)}var Jt=le('<svg width="100%" height="100%" viewBox="0 0 7 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" class="svelte-1w64288"><g><path d="M2.838,0.968c0.128,-0.207 0.354,-0.333 0.597,-0.333c0.243,-0 0.469,0.126 0.597,0.333c0.608,0.987 1.549,2.514 2.179,3.535c0.133,0.217 0.139,0.488 0.015,0.71c-0.123,0.222 -0.358,0.359 -0.612,0.359c-1.238,0 -3.12,0 -4.358,0c-0.254,0 -0.489,-0.137 -0.612,-0.359c-0.124,-0.222 -0.118,-0.493 0.015,-0.71c0.63,-1.021 1.571,-2.548 2.179,-3.535Z" class="svelte-1w64288"></path><path d="M4.032,16.674c-0.128,0.207 -0.354,0.333 -0.597,0.333c-0.243,-0 -0.469,-0.126 -0.597,-0.333c-0.608,-0.987 -1.549,-2.514 -2.179,-3.536c-0.133,-0.216 -0.139,-0.488 -0.015,-0.709c0.123,-0.222 0.358,-0.36 0.612,-0.36c1.238,0 3.12,0 4.358,0c0.254,0 0.489,0.138 0.612,0.36c0.124,0.221 0.118,0.493 -0.015,0.709c-0.63,1.022 -1.571,2.549 -2.179,3.536Z" class="svelte-1w64288"></path><path d="M3.9,3.71c0.096,0 0.188,0.038 0.256,0.106c0.068,0.068 0.106,0.16 0.106,0.256c-0,0.807 -0,2.749 -0,3.556c-0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.276,-0 -0.654,-0 -0.93,-0c-0.096,-0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.807 0,-2.749 0,-3.556c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.276,0 0.654,0 0.93,0Z" class="svelte-1w64288"></path><path d="M2.97,13.931c-0.096,0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.159 -0.106,-0.255c0,-0.808 0,-2.75 0,-3.557c0,-0.096 0.038,-0.188 0.106,-0.255c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.276,-0 0.654,-0 0.93,-0c0.096,-0 0.188,0.038 0.256,0.106c0.068,0.067 0.106,0.159 0.106,0.255c-0,0.807 -0,2.749 -0,3.557c-0,0.096 -0.038,0.187 -0.106,0.255c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.276,0 -0.654,0 -0.93,0Z" class="svelte-1w64288"></path></g></svg>');function Qt(a){var e=Jt();u(a,e)}var $t=le('<svg width="100%" height="100%" viewBox="0 0 7 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" class="svelte-1xcbflq"><g><path d="M2.838,8.863c0.128,-0.207 0.354,-0.333 0.597,-0.333c0.243,-0 0.469,0.126 0.597,0.333c0.608,0.986 1.549,2.513 2.179,3.535c0.133,0.216 0.139,0.488 0.015,0.71c-0.123,0.221 -0.358,0.359 -0.612,0.359c-1.238,-0 -3.12,-0 -4.358,-0c-0.254,-0 -0.489,-0.138 -0.612,-0.359c-0.124,-0.222 -0.118,-0.494 0.015,-0.71c0.63,-1.022 1.571,-2.549 2.179,-3.535Z" class="svelte-1xcbflq"></path><path d="M4.032,7.022c-0.128,0.207 -0.354,0.333 -0.597,0.333c-0.243,0 -0.469,-0.126 -0.597,-0.333c-0.608,-0.987 -1.549,-2.514 -2.179,-3.536c-0.133,-0.216 -0.139,-0.487 -0.015,-0.709c0.123,-0.222 0.358,-0.359 0.612,-0.359c1.238,-0 3.12,-0 4.358,-0c0.254,-0 0.489,0.137 0.612,0.359c0.124,0.222 0.118,0.493 -0.015,0.709c-0.63,1.022 -1.571,2.549 -2.179,3.536Z" class="svelte-1xcbflq"></path><path d="M3.9,11.605c0.096,0 0.188,0.038 0.256,0.106c0.068,0.068 0.106,0.16 0.106,0.256c-0,0.807 -0,2.749 -0,3.556c-0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.067 -0.16,0.106 -0.256,0.106c-0.276,-0 -0.654,-0 -0.93,-0c-0.096,-0 -0.188,-0.039 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.807 0,-2.749 0,-3.556c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.276,0 0.654,0 0.93,0Z" class="svelte-1xcbflq"></path><path d="M2.97,4.28c-0.096,-0 -0.188,-0.039 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.807 0,-2.749 0,-3.556c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.276,-0 0.654,-0 0.93,-0c0.096,-0 0.188,0.038 0.256,0.106c0.068,0.068 0.106,0.16 0.106,0.256c-0,0.807 -0,2.749 -0,3.556c-0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.067 -0.16,0.106 -0.256,0.106c-0.276,-0 -0.654,-0 -0.93,-0Z" class="svelte-1xcbflq"></path></g></svg>');function ea(a){var e=$t();u(a,e)}var ta=(a,e,t)=>{e.gridManager.remove(t().id)},aa=(a,e)=>{e().widgets.push({type:oe.TEST}),console.log(e()),X.context.closeContextMenu()},na=(a,e,t)=>{if(e.gridManager.canExpandRight(t())){t().sizes.x++;return}if(e.gridManager.canExpandLeft(t())){t().sizes.x++,t().start.x--;return}Re.add("Not enough space to expand horizontally.")},sa=(a,e)=>{e().sizes.x<=2?Re.add("Cannot make this small."):e().sizes.x--},ia=(a,e,t)=>{if(e.gridManager.canExpandDown(t())){t().sizes.y++;return}if(e.gridManager.canExpandUp(t())){t().sizes.y++,t().start.y--;return}Re.add("Not enough space to expand vertically.")},ra=(a,e)=>{e().sizes.y<=2?Re.add("Cannot make this small."):e().sizes.y--},la=j('<button class="button svelte-tpsy4e">Remove Widget Group</button> <button class="button svelte-tpsy4e">Add tab</button> <button class="svelte-tpsy4e"><!> Expand horizontally</button> <button class="svelte-tpsy4e"><!> Shrink horizontally</button> <button class="svelte-tpsy4e"><!> Expand vertically</button> <button class="svelte-tpsy4e"><!> Shrink vertically</button>',1);function oa(a,e){K(e,!0);let t=de(e,"m",7);Ye(a,{get id(){return t().id},children:(i,c)=>{var n=la(),r=B(n);r.__click=[ta,e,t];var m=_(r,2);m.__click=[aa,t];var g=_(m,2);g.__click=[na,e,t];var l=h(g);Yt(l),se(),f(g);var d=_(g,2);d.__click=[sa,t];var v=h(d);Kt(v),se(),f(d);var S=_(d,2);S.__click=[ia,e,t];var I=h(S);Qt(I),se(),f(S);var x=_(S,2);x.__click=[ra,t];var p=h(x);ea(p),se(),f(x),u(i,n)},$$slots:{default:!0}}),J()}ve(["click"]);var ca=(a,e)=>{X.moving.startMov(e.m,a.clientX,a.clientY)},da=j("<div></div>"),va=j("<!> <!>",1),ua=(a,e)=>{a.preventDefault(),X.context.openContextMenu(e.m.id,-1)},ga=j('<div role="button"><!></div>'),fa=j("<div><!></div>"),pa=(a,e)=>{X.resizing.startResizing(e.m)},ma=j('<nav class="svelte-1mjuabd"><button aria-label="Mover"></button> <!> <!></nav> <!> <button class="resizer svelte-1mjuabd"><!></button>',1);function ha(a,e){K(e,!0),p0(a,{children:(t,i)=>{var c=ma(),n=B(c),r=h(n);let m;r.__mousedown=[ca,e];var g=_(r,2);$(g,17,()=>e.m.widgets,ee,(x,p,y)=>{var M=va(),D=B(M);{var A=P=>{var R=da();let O;Y(R,"data-index",y),N(b=>{O=re(R,1,"extra-small svelte-1mjuabd",null,O,b),Y(R,"data-id",e.m.id)},[()=>({selected:e.m.id==X.tabs.hoveringID&&y==X.tabs.hoveringIndex})]),u(P,R)};L(D,P=>{X.tabs.showExtra(e.m.id,y)&&P(A)})}var W=_(D,2);{var U=P=>{Ht(P,{get m(){return e.m},index:y})};L(W,P=>{X.tabs.showLabel(e.m.id,y)&&P(U)})}u(x,M)});var l=_(g,2);{var d=x=>{var p=ga();let y;Y(p,"tabindex",0),p.__contextmenu=[ua,e];var M=h(p);{var D=A=>{oa(A,{get m(){return e.m},get gridManager(){return e.gridManager}})};L(M,A=>{X.context.isContextOpened(e.m.id,-1)&&A(D)})}f(p),N(A=>{y=re(p,1,"extra svelte-1mjuabd",null,y,A),Y(p,"data-id",e.m.id),Y(p,"data-index",e.m.widgets.length)},[()=>({selected:e.m.id==X.tabs.hoveringID&&e.m.widgets.length==X.tabs.hoveringIndex||X.context.isContextOpened(e.m.id,-1)})]),u(x,p)};L(l,x=>{X.tabs.showExtra(e.m.id,e.m.widgets.length),x(d)})}f(n);var v=_(n,2);$(v,17,()=>e.m.widgets,ee,(x,p,y)=>{var M=fa();let D;var A=h(M);Tt(A,{get item(){return o(p)}}),f(M),N(W=>D=re(M,1,"content svelte-1mjuabd",null,D,W),[()=>({shown:y==e.m.activeWidgetID})]),u(x,M)});var S=_(v,2);S.__mousedown=[pa,e];var I=h(S);y0(I),f(S),N(x=>m=re(r,1,"mover svelte-1mjuabd",null,m,x),[()=>{var x;return{selected:((x=X.moving.movingModule)==null?void 0:x.id)==e.m.id}}]),u(t,c)},$$slots:{default:!0}}),J()}ve(["mousedown","contextmenu"]);var _a=j('<div><div class="color svelte-o20hn8"></div></div>');function xa(a,e){K(e,!0);var t=ge(),i=B(t);$(i,17,()=>Array.from({length:e.gridManager.cellsX*e.gridManager.cellsY}),ee,(c,n,r)=>{var m=ge();const g=Z(()=>Math.floor(r/e.gridManager.cellsX)+1),l=Z(()=>r%e.gridManager.cellsX+1),d=Z(()=>e.gridManager.widgetsMap[o(g)][o(l)]);var v=B(m);{var S=I=>{var x=_a();const p=Z(()=>X.showWidget(o(l),o(g)));let y;N(M=>{y=re(x,1,"overlay-item svelte-o20hn8",null,y,M),Y(x,"data-x",o(l)),Y(x,"data-y",o(g)),De(x,`grid-row: ${o(g)??""} / span 1; grid-column: ${o(l)??""} / span 1;`)},[()=>({isShown:o(p)})]),u(I,x)};L(v,I=>{var x,p;(o(d)==null||((x=X.resizing.resizingModule)==null?void 0:x.id)==o(d)||((p=X.moving.movingModule)==null?void 0:p.id)==o(d))&&I(S)})}u(c,m)}),u(a,t),J()}var wa=j('<div class="widget svelte-mb7wrg"><div class="content svelte-mb7wrg"><!></div></div>'),ya=j('<section class="svelte-mb7wrg"><!> <!></section>');function ba(a,e){K(e,!0);var t=ya(),i=h(t);$(i,17,()=>e.gridManager.widgets,ee,(n,r)=>{var m=wa(),g=h(m),l=h(g);ha(l,{get m(){return o(r)},get gridManager(){return e.gridManager}}),f(g),f(m),N(()=>{Y(m,"data-id",o(r).id),De(m,`
        grid-column: ${o(r).start.x??""} / span ${o(r).sizes.x??""};
        grid-row: ${o(r).start.y??""} / span ${o(r).sizes.y??""};
        `)}),u(n,m)});var c=_(i,2);xa(c,{get gridManager(){return e.gridManager}}),f(t),N(()=>De(t,`--cellsX:${e.gridManager.cellsX??""} ;--cellsY: ${e.gridManager.cellsY??""};`)),u(a,t),J()}var Te=He(()=>Se);function Ba(a,e){K(e,!1),Ze(()=>{const t=u0.url.searchParams.get("preset");t!=null&&Te(Te().selectedManagerID=t)}),Le(),ba(a,{get gridManager(){return Te().currentGrid}}),J()}export{Ba as component};
