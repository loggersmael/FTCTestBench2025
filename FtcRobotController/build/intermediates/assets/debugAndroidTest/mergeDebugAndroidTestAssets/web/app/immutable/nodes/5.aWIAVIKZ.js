import{n as Q,a as o,t as M,c as m0,d as l0}from"../chunks/I_BkWTEX.js";import"../chunks/DB8_wMiA.js";import{i as X0,k as Xe,aH as Ge,e as He,aI as Ye,a3 as se,C as G0,G as ae,F as re,w as R0,z as qe,q as Je,at as le,as as ne,aJ as oe,a5 as Ke,v as H0,x as Y0,aF as Qe,p as X,f as U,c as x,s as h,r as m,g as s,t as R,a as G,W as Q0,X as g0,Y as a0,n as n0,d as Z,l as V0}from"../chunks/CFBpeVWW.js";import{i as ee}from"../chunks/CX-ZsECA.js";import{a as et,W as r0,s as tt}from"../chunks/Cpx5LP4m.js";import{d as f0,s as B,e as ve}from"../chunks/DlOkS5KX.js";import{i as T}from"../chunks/Bqt_q7hB.js";import{e as J,i as K}from"../chunks/Clm_oxiX.js";import{S as d0,s as o0,H as de,T as ue}from"../chunks/Dvliivoq.js";import{s as P0,G as st}from"../chunks/eBslE963.js";import{p as c0}from"../chunks/B9fIG9m6.js";import{i as l,s as A0,T as t0,f as T0,C as i0,a as z0,n as Z0,g as at}from"../chunks/CEYokUmH.js";import{b as pe,S as F0,B as p0,h as L0}from"../chunks/Snjs9Jhp.js";import{G as rt}from"../chunks/D9rnK5bH.js";import{r as fe,s as q}from"../chunks/8tBkzkqp.js";import{p as O0}from"../chunks/Df3xjQUJ.js";import{C as h0}from"../chunks/CTmH_NJ2.js";import{a as lt,o as nt}from"../chunks/B_eryhZ5.js";import{A as K0,S as ot,a as it,r as ct,R as vt}from"../chunks/DL_YxSvc.js";import{s as ge}from"../chunks/geMghRiS.js";import{R as dt}from"../chunks/q8x6gjEd.js";const q0=0,E0=1,J0=2;function me(a,t,e,d,v){X0&&Xe();var n=a,u=Ge(),f=Ke,p=se,c,g,i,r=(u?ae:re)(void 0),_=(u?ae:re)(void 0),$=!1;function k(y,S){$=!0,S&&(le(P),ne(P),oe(f));try{y===q0&&e&&(c?H0(c):c=R0(()=>e(n))),y===E0&&d&&(g?H0(g):g=R0(()=>d(n,r))),y===J0&&v&&(i?H0(i):i=R0(()=>v(n,_))),y!==q0&&c&&Y0(c,()=>c=null),y!==E0&&g&&Y0(g,()=>g=null),y!==J0&&i&&Y0(i,()=>i=null)}finally{S&&(oe(null),ne(null),le(null),Qe())}}var P=He(()=>{if(p!==(p=t())){if(Ye(p)){var y=p;$=!1,y.then(S=>{y===p&&(G0(r,S),k(E0,!0))},S=>{if(y===p&&(G0(_,S),k(J0,!0),!v))throw _.v}),X0?e&&(c=R0(()=>e(n))):qe(()=>{$||k(q0,!0)})}else G0(r,p),k(E0,!1);return()=>p=se}});X0&&(n=Je)}var ut=Q('<svg width="100%" height="100%" viewBox="0 0 18 7" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" class="svelte-8ek7md"><g><path d="M0.968,4.032c-0.207,-0.128 -0.333,-0.354 -0.333,-0.597c-0,-0.243 0.126,-0.469 0.333,-0.597c0.987,-0.608 2.514,-1.549 3.535,-2.179c0.217,-0.133 0.488,-0.139 0.71,-0.015c0.222,0.123 0.359,0.358 0.359,0.612c0,1.238 0,3.12 0,4.358c0,0.254 -0.137,0.489 -0.359,0.612c-0.222,0.124 -0.493,0.118 -0.71,-0.015c-1.021,-0.63 -2.548,-1.571 -3.535,-2.179Z" class="svelte-8ek7md"></path><path d="M16.674,2.838c0.207,0.128 0.333,0.354 0.333,0.597c-0,0.243 -0.126,0.469 -0.333,0.597c-0.987,0.608 -2.514,1.549 -3.536,2.179c-0.216,0.133 -0.488,0.139 -0.709,0.015c-0.222,-0.123 -0.36,-0.358 -0.36,-0.612c0,-1.238 0,-3.12 0,-4.358c0,-0.254 0.138,-0.489 0.36,-0.612c0.221,-0.124 0.493,-0.118 0.709,0.015c1.022,0.63 2.549,1.571 3.536,2.179Z" class="svelte-8ek7md"></path><path d="M3.71,2.97c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.807,0 2.749,0 3.556,0c0.096,0 0.188,0.038 0.256,0.106c0.068,0.068 0.106,0.16 0.106,0.256c-0,0.276 -0,0.654 -0,0.93c-0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.807,-0 -2.749,-0 -3.556,-0c-0.096,-0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.276 0,-0.654 0,-0.93Z" class="svelte-8ek7md"></path><path d="M13.931,3.9c0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.068 -0.159,0.106 -0.255,0.106c-0.808,-0 -2.75,-0 -3.557,-0c-0.096,-0 -0.188,-0.038 -0.255,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c-0,-0.276 -0,-0.654 -0,-0.93c-0,-0.096 0.038,-0.188 0.106,-0.256c0.067,-0.068 0.159,-0.106 0.255,-0.106c0.807,0 2.749,0 3.557,0c0.096,0 0.187,0.038 0.255,0.106c0.068,0.068 0.106,0.16 0.106,0.256c0,0.276 0,0.654 0,0.93Z" class="svelte-8ek7md"></path></g></svg>');function pt(a){var t=ut();o(a,t)}var ft=Q('<svg width="100%" height="100%" viewBox="0 0 16 7" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" class="svelte-8ek7md"><g><path d="M7.022,2.838c0.207,0.128 0.333,0.354 0.333,0.597c0,0.243 -0.126,0.469 -0.333,0.597c-0.987,0.608 -2.514,1.549 -3.536,2.179c-0.216,0.133 -0.487,0.139 -0.709,0.015c-0.222,-0.123 -0.359,-0.358 -0.359,-0.612c-0,-1.238 -0,-3.12 -0,-4.358c-0,-0.254 0.137,-0.489 0.359,-0.612c0.222,-0.124 0.493,-0.118 0.709,0.015c1.022,0.63 2.549,1.571 3.536,2.179Z" class="svelte-8ek7md"></path><path d="M8.863,4.032c-0.207,-0.128 -0.333,-0.354 -0.333,-0.597c-0,-0.243 0.126,-0.469 0.333,-0.597c0.986,-0.608 2.513,-1.549 3.535,-2.179c0.216,-0.133 0.488,-0.139 0.71,-0.015c0.221,0.123 0.359,0.358 0.359,0.612c-0,1.238 -0,3.12 -0,4.358c-0,0.254 -0.138,0.489 -0.359,0.612c-0.222,0.124 -0.494,0.118 -0.71,-0.015c-1.022,-0.63 -2.549,-1.571 -3.535,-2.179Z" class="svelte-8ek7md"></path><path d="M4.28,3.9c-0,0.096 -0.039,0.188 -0.106,0.256c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.807,-0 -2.749,-0 -3.556,-0c-0.096,-0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c-0,-0.276 -0,-0.654 -0,-0.93c-0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.807,0 2.749,0 3.556,0c0.096,0 0.188,0.038 0.256,0.106c0.067,0.068 0.106,0.16 0.106,0.256c-0,0.276 -0,0.654 -0,0.93Z" class="svelte-8ek7md"></path><path d="M11.605,2.97c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.807,0 2.749,0 3.556,0c0.096,0 0.188,0.038 0.256,0.106c0.067,0.068 0.106,0.16 0.106,0.256c-0,0.276 -0,0.654 -0,0.93c-0,0.096 -0.039,0.188 -0.106,0.256c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.807,-0 -2.749,-0 -3.556,-0c-0.096,-0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.276 0,-0.654 0,-0.93Z" class="svelte-8ek7md"></path></g></svg>');function gt(a){var t=ft();o(a,t)}var mt=Q('<svg width="100%" height="100%" viewBox="0 0 18 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" class="svelte-7dk81x"><g><g><path d="M8.224,0.968c0.128,-0.207 0.354,-0.333 0.597,-0.333c0.243,-0 0.469,0.126 0.596,0.333c0.609,0.987 1.55,2.514 2.18,3.535c0.133,0.217 0.139,0.488 0.015,0.71c-0.124,0.222 -0.358,0.359 -0.612,0.359c-1.238,0 -3.12,0 -4.359,0c-0.254,0 -0.488,-0.137 -0.612,-0.359c-0.124,-0.222 -0.118,-0.493 0.016,-0.71c0.63,-1.021 1.571,-2.548 2.179,-3.535Z" style="fill:#fff;" class="svelte-7dk81x"></path><path d="M9.417,16.674c-0.127,0.207 -0.353,0.333 -0.596,0.333c-0.243,-0 -0.469,-0.126 -0.597,-0.333c-0.608,-0.987 -1.549,-2.514 -2.179,-3.536c-0.134,-0.216 -0.14,-0.488 -0.016,-0.709c0.124,-0.222 0.358,-0.36 0.612,-0.36c1.239,0 3.121,0 4.359,0c0.254,0 0.488,0.138 0.612,0.36c0.124,0.221 0.118,0.493 -0.015,0.709c-0.63,1.022 -1.571,2.549 -2.18,3.536Z" style="fill:#fff;" class="svelte-7dk81x"></path><path d="M9.286,3.71c0.096,0 0.188,0.038 0.256,0.106c0.067,0.068 0.105,0.16 0.105,0.256c0,0.807 0,2.749 0,3.556c0,0.096 -0.038,0.188 -0.105,0.256c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.276,-0 -0.654,-0 -0.93,-0c-0.096,-0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.807 0,-2.749 0,-3.556c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.276,0 0.654,0 0.93,0Z" style="fill:#fff;" class="svelte-7dk81x"></path><path d="M8.356,13.931c-0.096,0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.159 -0.106,-0.255c0,-0.808 0,-2.75 0,-3.557c0,-0.096 0.038,-0.188 0.106,-0.255c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.276,-0 0.654,-0 0.93,-0c0.096,-0 0.188,0.038 0.256,0.106c0.067,0.067 0.105,0.159 0.105,0.255c0,0.807 0,2.749 0,3.557c0,0.096 -0.038,0.187 -0.105,0.255c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.276,0 -0.654,0 -0.93,0Z" style="fill:#fff;" class="svelte-7dk81x"></path></g><g><path d="M0.968,9.417c-0.207,-0.127 -0.333,-0.353 -0.333,-0.596c-0,-0.243 0.126,-0.469 0.333,-0.597c0.987,-0.608 2.514,-1.549 3.535,-2.179c0.217,-0.134 0.488,-0.14 0.71,-0.016c0.222,0.124 0.359,0.358 0.359,0.612c0,1.239 0,3.121 0,4.359c0,0.254 -0.137,0.488 -0.359,0.612c-0.222,0.124 -0.493,0.118 -0.71,-0.015c-1.021,-0.63 -2.548,-1.571 -3.535,-2.18Z" style="fill:#fff;" class="svelte-7dk81x"></path><path d="M16.674,8.224c0.207,0.128 0.333,0.354 0.333,0.597c-0,0.243 -0.126,0.469 -0.333,0.596c-0.987,0.609 -2.514,1.55 -3.536,2.18c-0.216,0.133 -0.488,0.139 -0.709,0.015c-0.222,-0.124 -0.36,-0.358 -0.36,-0.612c0,-1.238 0,-3.12 0,-4.359c0,-0.254 0.138,-0.488 0.36,-0.612c0.221,-0.124 0.493,-0.118 0.709,0.016c1.022,0.63 2.549,1.571 3.536,2.179Z" style="fill:#fff;" class="svelte-7dk81x"></path><path d="M3.71,8.356c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.807,0 2.749,0 3.556,0c0.096,0 0.188,0.038 0.256,0.106c0.068,0.068 0.106,0.16 0.106,0.256c-0,0.276 -0,0.654 -0,0.93c-0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.067 -0.16,0.105 -0.256,0.105c-0.807,0 -2.749,0 -3.556,0c-0.096,0 -0.188,-0.038 -0.256,-0.105c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.276 0,-0.654 0,-0.93Z" style="fill:#fff;" class="svelte-7dk81x"></path><path d="M13.931,9.286c0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.067 -0.159,0.105 -0.255,0.105c-0.808,0 -2.75,0 -3.557,0c-0.096,0 -0.188,-0.038 -0.255,-0.105c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c-0,-0.276 -0,-0.654 -0,-0.93c-0,-0.096 0.038,-0.188 0.106,-0.256c0.067,-0.068 0.159,-0.106 0.255,-0.106c0.807,0 2.749,0 3.557,0c0.096,0 0.187,0.038 0.255,0.106c0.068,0.068 0.106,0.16 0.106,0.256c0,0.276 0,0.654 0,0.93Z" style="fill:#fff;" class="svelte-7dk81x"></path></g></g></svg>');function ht(a){var t=mt();o(a,t)}var _t=Q('<svg width="100%" height="100%" viewBox="0 0 7 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" class="svelte-1wm7yl4"><g><path d="M2.838,0.968c0.128,-0.207 0.354,-0.333 0.597,-0.333c0.243,-0 0.469,0.126 0.597,0.333c0.608,0.987 1.549,2.514 2.179,3.535c0.133,0.217 0.139,0.488 0.015,0.71c-0.123,0.222 -0.358,0.359 -0.612,0.359c-1.238,0 -3.12,0 -4.358,0c-0.254,0 -0.489,-0.137 -0.612,-0.359c-0.124,-0.222 -0.118,-0.493 0.015,-0.71c0.63,-1.021 1.571,-2.548 2.179,-3.535Z" class="svelte-1wm7yl4"></path><path d="M4.032,16.674c-0.128,0.207 -0.354,0.333 -0.597,0.333c-0.243,-0 -0.469,-0.126 -0.597,-0.333c-0.608,-0.987 -1.549,-2.514 -2.179,-3.536c-0.133,-0.216 -0.139,-0.488 -0.015,-0.709c0.123,-0.222 0.358,-0.36 0.612,-0.36c1.238,0 3.12,0 4.358,0c0.254,0 0.489,0.138 0.612,0.36c0.124,0.221 0.118,0.493 -0.015,0.709c-0.63,1.022 -1.571,2.549 -2.179,3.536Z" class="svelte-1wm7yl4"></path><path d="M3.9,3.71c0.096,0 0.188,0.038 0.256,0.106c0.068,0.068 0.106,0.16 0.106,0.256c-0,0.807 -0,2.749 -0,3.556c-0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.276,-0 -0.654,-0 -0.93,-0c-0.096,-0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.807 0,-2.749 0,-3.556c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.276,0 0.654,0 0.93,0Z" class="svelte-1wm7yl4"></path><path d="M2.97,13.931c-0.096,0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.159 -0.106,-0.255c0,-0.808 0,-2.75 0,-3.557c0,-0.096 0.038,-0.188 0.106,-0.255c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.276,-0 0.654,-0 0.93,-0c0.096,-0 0.188,0.038 0.256,0.106c0.068,0.067 0.106,0.159 0.106,0.255c-0,0.807 -0,2.749 -0,3.557c-0,0.096 -0.038,0.187 -0.106,0.255c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.276,0 -0.654,0 -0.93,0Z" class="svelte-1wm7yl4"></path></g></svg>');function xt(a){var t=_t();o(a,t)}var wt=Q('<svg width="100%" height="100%" viewBox="0 0 7 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" class="svelte-1wm7yl4"><g><path d="M2.838,8.863c0.128,-0.207 0.354,-0.333 0.597,-0.333c0.243,-0 0.469,0.126 0.597,0.333c0.608,0.986 1.549,2.513 2.179,3.535c0.133,0.216 0.139,0.488 0.015,0.71c-0.123,0.221 -0.358,0.359 -0.612,0.359c-1.238,-0 -3.12,-0 -4.358,-0c-0.254,-0 -0.489,-0.138 -0.612,-0.359c-0.124,-0.222 -0.118,-0.494 0.015,-0.71c0.63,-1.022 1.571,-2.549 2.179,-3.535Z" class="svelte-1wm7yl4"></path><path d="M4.032,7.022c-0.128,0.207 -0.354,0.333 -0.597,0.333c-0.243,0 -0.469,-0.126 -0.597,-0.333c-0.608,-0.987 -1.549,-2.514 -2.179,-3.536c-0.133,-0.216 -0.139,-0.487 -0.015,-0.709c0.123,-0.222 0.358,-0.359 0.612,-0.359c1.238,-0 3.12,-0 4.358,-0c0.254,-0 0.489,0.137 0.612,0.359c0.124,0.222 0.118,0.493 -0.015,0.709c-0.63,1.022 -1.571,2.549 -2.179,3.536Z" class="svelte-1wm7yl4"></path><path d="M3.9,11.605c0.096,0 0.188,0.038 0.256,0.106c0.068,0.068 0.106,0.16 0.106,0.256c-0,0.807 -0,2.749 -0,3.556c-0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.067 -0.16,0.106 -0.256,0.106c-0.276,-0 -0.654,-0 -0.93,-0c-0.096,-0 -0.188,-0.039 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.807 0,-2.749 0,-3.556c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.276,0 0.654,0 0.93,0Z" class="svelte-1wm7yl4"></path><path d="M2.97,4.28c-0.096,-0 -0.188,-0.039 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.807 0,-2.749 0,-3.556c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.276,-0 0.654,-0 0.93,-0c0.096,-0 0.188,0.038 0.256,0.106c0.068,0.068 0.106,0.16 0.106,0.256c-0,0.807 -0,2.749 -0,3.556c-0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.067 -0.16,0.106 -0.256,0.106c-0.276,-0 -0.654,-0 -0.93,-0Z" class="svelte-1wm7yl4"></path></g></svg>');function yt(a){var t=wt();o(a,t)}var kt=(a,t,e)=>t(e()),bt=M('<li class="svelte-1a0a577"><button> </button> </li>'),$t=Q('<text y="-2" font-size="2.5" fill="white" stroke="var(--text)" stroke-width="0.1" text-anchor="middle"> </text>'),St=Q('<text x="-2" font-size="2.5" fill="white" stroke="var(--text)" stroke-width="0.1" text-anchor="end"> </text>'),Mt=Q('<line x1="0" x2="100" stroke="var(--text)" stroke-width="0.2"></line><line y1="0" y2="100" stroke="var(--text)" stroke-width="0.2"></line>',1),Ot=Q('<polyline fill="none" stroke-width="0.6"></polyline>'),Vt=M('<div class="flex svelte-1a0a577"><input type="range" min="1" max="60" aria-label="Time window"> <p> </p></div> <ul class="svelte-1a0a577"></ul> <div class="graph svelte-1a0a577"><svg viewBox="-10 -10 120 120" preserveAspectRatio="none"><rect x="0" y="0" width="100" height="100" fill="var(--card)"></rect><!><!><!><!></svg></div>',1);function Pt(a,t){X(t,!0);const e=O0({});function d(f){e[f]=!e[f]}function v(f,p,c,g=[0,1]){return c===p?f.map(()=>.5):f.map(i=>(i-p)/(c-p)*(g[1]-g[0])+g[0])}function n(f){const p=Object.values(f).flat().map(k=>k.data),c=Object.values(f).flat().map(k=>k.timestamp),g=Math.min(...p),i=Math.max(...p),r=Math.min(...c),_=r+l.timeWindow*1e3,$={};return Object.entries(f).forEach(([k,P])=>{const y=P.map(C=>C.timestamp),S=P.map(C=>C.data),F=v(y,r,_,[0,100]),I=v(S,g,i,[0,100]);$[k]=P.map((C,j)=>({x:Math.min(100,Math.max(0,F[j])),y:100-I[j]}))}),$}const u=["red","lime","cyan","yellow","magenta","orange"];d0(a,{title:"Graph View",children:(f,p)=>{h0(f,{children:(c,g)=>{var i=Vt(),r=U(i),_=x(r);fe(_);var $=h(_,2),k=x($);m($),m(r);var P=h(r,2);J(P,21,()=>Object.entries(l.graphs),K,(O,V)=>{let b=()=>s(V)[0],N=()=>s(V)[1];var w=bt(),z=x(w);z.__click=[kt,d,b];let D;var E=x(z,!0);m(z);var A=h(z);m(w),R((H,W)=>{q(z,"aria-pressed",e[b()]),D=o0(z,1,"svelte-1a0a577",null,D,H),B(E,b()),B(A,` â€“ ${N().length??""} entries / ${W??""}`)},[()=>({selected:e[b()]}),()=>parseFloat(N()[N().length-1].data.toString()).toFixed(3)]),o(O,w)}),m(P);var y=h(P,2),S=x(y),F=h(x(S));J(F,16,()=>[0,25,50,75,100],K,(O,V)=>{var b=$t(),N=x(b);m(b),R(w=>{q(b,"x",V),B(N,`${w??""}s`)},[()=>Math.round(V/100*l.timeWindow)]),o(O,b)});var I=h(F);J(I,16,()=>[0,25,50,75,100],K,(O,V)=>{var b=St(),N=x(b,!0);m(b),R(w=>{q(b,"y",100-V),B(N,w)},[()=>(V/100*(Object.values(Object.values(l.graphs).flat().map(w=>w.data)).reduce((w,z)=>Math.max(w,z),-1/0)-Object.values(Object.values(l.graphs).flat().map(w=>w.data)).reduce((w,z)=>Math.min(w,z),1/0))+Object.values(Object.values(l.graphs).flat().map(w=>w.data)).reduce((w,z)=>Math.min(w,z),1/0)).toFixed(2)]),o(O,b)});var C=h(I);J(C,16,()=>[25,50,75],K,(O,V)=>{var b=Mt(),N=U(b),w=h(N);R(()=>{q(N,"y1",V),q(N,"y2",V),q(w,"x1",V),q(w,"x2",V)}),o(O,b)});var j=h(C);{var L=O=>{var V=m0(),b=U(V);J(b,17,()=>Object.entries(n(Object.fromEntries(Object.entries(l.graphs).filter(([N])=>e[N])))),K,(N,w,z)=>{let D=()=>s(w)[1];var E=Ot();R(A=>{q(E,"stroke",u[z%u.length]),q(E,"points",A)},[()=>D().map(A=>`${A.x},${A.y}`).join(" ")]),o(N,E)}),o(O,V)};T(j,O=>{Object.keys(e).some(V=>e[V])&&O(L)})}m(S),m(y),R(()=>B(k,`(last ${l.timeWindow??""}s)`)),pe(_,()=>l.timeWindow,O=>l.timeWindow=O),o(c,i)}})},$$slots:{default:!0}}),G()}f0(["click"]);var At=M('<p> </p> <p> </p> <input type="range"> <div class="flex-item svelte-1o86sht"><p>Animation speed</p> <!></div> <div><div class="flex svelte-1o86sht"><!> <!> <!></div> <div class="flex svelte-1o86sht"><!> <!></div></div>',1);function Ft(a,t){X(t,!0);let e=g0("1x");Q0(()=>{s(e)!=null&&l.isForwarding&&(n=l.timestamp,v=performance.now())});let d=null,v=null,n=0;function u(p){if(!l.isForwarding||v===null)return;const c=p-v,g=parseFloat(s(e).replace("x",""));l.timestamp=Math.min(n+c*g,l.duration),l.timestamp<l.duration?d=requestAnimationFrame(u):(l.timestamp=l.duration,l.isForwarding=!1,d=null,v=null)}function f(){l.isForwarding=!l.isForwarding,l.isForwarding?(n=l.timestamp,v=performance.now(),d=requestAnimationFrame(u)):(v=null,d!==null&&(cancelAnimationFrame(d),d=null))}lt(()=>{d!==null&&cancelAnimationFrame(d)}),d0(a,{title:"Capture",children:(p,c)=>{h0(p,{children:(g,i)=>{var r=At(),_=U(r),$=x(_);m(_);var k=h(_,2),P=x(k);m(k);var y=h(k,2);fe(y),q(y,"min",0);var S=h(y,2),F=h(x(S),2);F0(F,{startValue:"1x",value:"1x",possibleValues:["0.1x","0.25x","0.5x","1x","2x","3x","4x"],get isValid(){return l.hasRecording},alwaysValid:!0,get currentValue(){return s(e)},set currentValue(A){a0(e,O0(A))}}),m(S);var I=h(S,2),C=x(I),j=x(C);p0(j,{onclick:()=>{l.isRecording=!0},get disabled(){return l.isRecording},children:(A,H)=>{n0();var W=l0("Start");o(A,W)},$$slots:{default:!0}});var L=h(j,2);const O=Z(()=>!l.isRecording);p0(L,{onclick:()=>{l.isRecording=!1},get disabled(){return s(O)},children:(A,H)=>{n0();var W=l0("Stop");o(A,W)},$$slots:{default:!0}});var V=h(L,2);const b=Z(()=>!l.hasRecording);p0(V,{onclick:()=>{l.isRecording=!1,l.history=[],l.timestamp=0,l.isPlaying=!1},get disabled(){return s(b)},children:(A,H)=>{n0();var W=l0("Reset");o(A,W)},$$slots:{default:!0}}),m(C);var N=h(C,2),w=x(N);const z=Z(()=>!l.hasRecording);p0(w,{onclick:()=>{l.isPlaying=!l.isPlaying},get disabled(){return s(z)},children:(A,H)=>{n0();var W=l0();R(()=>B(W,`${(l.isPlaying?"Disable":"Enable")??""} Visual Sync`)),o(A,W)},$$slots:{default:!0}});var D=h(w,2);const E=Z(()=>!l.hasRecording);p0(D,{onclick:f,get disabled(){return s(E)},children:(A,H)=>{n0();var W=l0();R(()=>B(W,`${(l.isForwarding?"Stop":"Start")??""} Playing`)),o(A,W)},$$slots:{default:!0}}),m(N),m(I),R((A,H)=>{B($,`Got ${l.history.length??""} entries`),B(P,`Timestamp: ${A??""}s / ${H??""}s`),y.disabled=!l.hasRecording,q(y,"max",l.duration)},[()=>(l.timestamp/1e3).toFixed(2),()=>(l.duration/1e3).toFixed(2)]),pe(y,()=>l.timestamp,A=>l.timestamp=A),o(g,r)}})},$$slots:{default:!0}}),G()}var jt=(a,t,e)=>t.onselect(s(e)),Dt=M('<button class="svelte-6klxoa"> </button>'),It=M('<p class="svelte-6klxoa">No opModes here.</p>'),Ct=M("<!> <!>",1);function ie(a,t){X(t,!0);var e=Ct(),d=U(e);J(d,17,()=>l.opModes.filter(u=>u.flavour==t.flavour),K,(u,f)=>{var p=Dt();p.__click=[jt,t,f];var c=x(p);m(p),R(()=>B(c,`${s(f).name??""} / ${s(f).group??""}`)),o(u,p)});var v=h(d,2);{var n=u=>{var f=It();o(u,f)};T(v,u=>{l.opModes.filter(f=>f.flavour==t.flavour).length==0&&u(n)})}o(a,e),G()}f0(["click"]);var Nt=M('<div><div class="inner svelte-sf14j4"><!></div></div>');function D0(a,t){var e=Nt();let d;var v=x(e),n=x(v);ge(n,()=>t.children),m(v),m(e),R(u=>d=o0(e,1,"hiddable svelte-sf14j4",null,d,u),[()=>({shown:t.isShown})]),o(a,e)}var Rt=(a,t)=>t("autos"),Lt=(a,t)=>t("teleops"),Et=M('<button class="svelte-wf5nbz"><span class="svelte-wf5nbz">Autos<!></span></button> <!> <button class="svelte-wf5nbz"><span class="svelte-wf5nbz">TeleOps<!></span></button>',1),Tt=M('<p class="title svelte-wf5nbz">Nothing selected</p>'),zt=M('<p class="title svelte-wf5nbz"><span class="title_small svelte-wf5nbz"> </span> </p>'),Zt=M('<div class="modal autos svelte-wf5nbz"><!></div> <div class="modal teleops svelte-wf5nbz"><!></div> <!> <div class="flex svelte-wf5nbz"><!> <!> <!></div>',1),Ut=M("<!> <!>",1);function Bt(a,t){X(t,!0);let e=g0("");function d(u){s(e)!=u?a0(e,O0(u)):a0(e,"")}function v(u){a0(n,O0(u)),a0(e,"")}Q0(()=>{if(console.log(l.activeOpMode),l.activeOpMode==" ")return;console.log("Length: ",l.opModes.length);let u=null;for(const f of l.opModes)f.name==l.activeOpMode&&(u=f);u!=null&&a0(n,O0(u))});let n=g0(O0({name:"",group:"",flavour:"AUTONOMOUS"}));d0(a,{children:(u,f)=>{var p=Ut(),c=U(p);de(c,{children:(i,r)=>{var _=Et(),$=U(_);$.__click=[Rt,d];var k=x($),P=h(x(k));const y=Z(()=>s(e)=="autos");K0(P,{get isOpened(){return s(y)}}),m(k),m($);var S=h($,2);ue(S,{children:(L,O)=>{n0();var V=l0("OpMode Control");o(L,V)}});var F=h(S,2);F.__click=[Lt,d];var I=x(F),C=h(x(I));const j=Z(()=>s(e)=="teleops");K0(C,{get isOpened(){return s(j)}}),m(I),m(F),o(i,_)}});var g=h(c,2);h0(g,{children:(i,r)=>{var _=Zt(),$=U(_),k=x($);const P=Z(()=>s(e)=="autos");D0(k,{get isShown(){return s(P)},children:(D,E)=>{ie(D,{flavour:"AUTONOMOUS",onselect:v})}}),m($);var y=h($,2),S=x(y);const F=Z(()=>s(e)=="teleops");D0(S,{get isShown(){return s(F)},children:(D,E)=>{ie(D,{flavour:"TELEOP",onselect:v})}}),m(y);var I=h(y,2);{var C=D=>{var E=Tt();o(D,E)},j=D=>{var E=zt(),A=x(E),H=x(A,!0);m(A);var W=h(A);m(E),R(()=>{B(H,s(n).flavour),B(W,` ${s(n).name??""}`)}),o(D,E)};T(I,D=>{s(n).name==""?D(C):D(j,!1)})}var L=h(I,2),O=x(L);const V=Z(()=>s(n).name==""||l.activeOpModeStatus=="running"&&l.activeOpMode!="$Stop$Robot$"||l.activeOpModeStatus=="stopped"&&l.activeOpMode!="$Stop$Robot$"||s(n).name!=""&&l.activeOpModeStatus=="init");p0(O,{get disabled(){return s(V)},onclick:()=>{A0.sendMessage({kind:"initOpMode",opModeName:s(n).name})},children:(D,E)=>{n0();var A=l0("Initialize");o(D,A)},$$slots:{default:!0}});var b=h(O,2);const N=Z(()=>l.activeOpMode=="$Stop$Robot$"||s(n).name==""||l.activeOpModeStatus!="init");p0(b,{get disabled(){return s(N)},onclick:()=>{A0.sendMessage({kind:"startActiveOpMode"})},children:(D,E)=>{n0();var A=l0("Start");o(D,A)},$$slots:{default:!0}});var w=h(b,2);const z=Z(()=>l.activeOpMode=="$Stop$Robot$"||s(n).name==""||l.activeOpModeStatus=="stopped");p0(w,{get disabled(){return s(z)},onclick:()=>{A0.sendMessage({kind:"stopActiveOpMode"})},children:(D,E)=>{n0();var A=l0("Stop");o(D,A)},$$slots:{default:!0}}),m(L),o(i,_)}}),o(u,p)},$$slots:{default:!0}}),G()}f0(["click"]);var Wt=M("<p> </p>"),Xt=M("<p>No telemetry found.</p>"),Gt=M("<!> <!>",1);function Ht(a,t){X(t,!1),ee(),d0(a,{title:"Telemetry",children:(e,d)=>{h0(e,{children:(v,n)=>{var u=Gt(),f=U(u);J(f,1,()=>l.telemetry,K,(g,i)=>{var r=Wt(),_=x(r,!0);m(r),R(()=>B(_,s(i))),o(g,r)});var p=h(f,2);{var c=g=>{var i=Xt();o(g,i)};T(p,g=>{l.telemetry.length==0&&g(c)})}o(v,u)}})},$$slots:{default:!0}}),G()}var Yt=Q('<svg width="100%" height="100%" viewBox="0 0 13 14" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><path d="M0.478,8.19c-0.432,-1.595 -0.19,-3.216 0.551,-4.558c0.11,-0.194 0.067,-0.439 -0.103,-0.583c-0.192,-0.167 -0.455,-0.39 -0.711,-0.608c-0.173,-0.146 -0.25,-0.376 -0.2,-0.597c0.049,-0.22 0.216,-0.395 0.435,-0.454l5.055,-1.369c0.218,-0.059 0.451,0.008 0.605,0.174c0.075,0.08 0.125,0.177 0.148,0.28c0.025,0.11 0.019,0.226 -0.02,0.336l-1.533,4.358c-0.066,0.189 -0.221,0.334 -0.415,0.386c-0.193,0.052 -0.4,0.006 -0.553,-0.123l-0.75,-0.638c-0.114,-0.096 -0.266,-0.132 -0.411,-0.098c-0.11,0.026 -0.206,0.092 -0.27,0.182c-0.371,0.878 -0.463,1.881 -0.197,2.871l0.002,0.008c0.366,1.353 1.319,2.396 2.515,2.908c0.109,0.047 0.171,0.163 0.148,0.279c-0.06,0.297 -0.172,0.852 -0.24,1.189c-0.014,0.072 -0.059,0.134 -0.123,0.169c-0.045,0.026 -0.096,0.036 -0.147,0.031c-0.021,-0.002 -0.041,-0.007 -0.061,-0.014c-1.763,-0.679 -3.192,-2.159 -3.722,-4.12l-0.003,-0.009Zm6.045,4.524c-0.025,-0.11 -0.019,-0.226 0.02,-0.336l1.533,-4.359c0.066,-0.189 0.221,-0.333 0.415,-0.385c0.193,-0.053 0.4,-0.006 0.553,0.123l0.75,0.637c0.114,0.097 0.266,0.133 0.411,0.099c0.11,-0.027 0.206,-0.092 0.27,-0.182c0.371,-0.878 0.463,-1.881 0.197,-2.871l-0.002,-0.008c-0.367,-1.353 -1.322,-2.39 -2.515,-2.909c-0.109,-0.046 -0.171,-0.162 -0.148,-0.278c0.06,-0.297 0.172,-0.852 0.24,-1.189c0.014,-0.072 0.059,-0.134 0.123,-0.17c0.045,-0.025 0.096,-0.035 0.147,-0.03c0.021,0.002 0.041,0.007 0.061,0.014c1.763,0.679 3.191,2.159 3.722,4.12l0.003,0.009c0.432,1.595 0.19,3.216 -0.551,4.558c-0.11,0.194 -0.067,0.439 0.103,0.583c0.192,0.166 0.455,0.39 0.711,0.607c0.173,0.147 0.25,0.377 0.2,0.597c-0.049,0.221 -0.216,0.396 -0.435,0.455l-5.055,1.369c-0.218,0.059 -0.451,-0.008 -0.605,-0.174c-0.075,-0.08 -0.125,-0.177 -0.148,-0.28Z" class="svelte-wof6i3"></path></svg>');function qt(a,t){let e=c0(t,"isActive",3,!0),d=c0(t,"isSelected",3,!1);var v=Yt();let n;R(u=>n=o0(v,0,"svelte-wof6i3",null,n,u),[()=>({disabled:!e(),spin:d()})]),o(a,v)}function Jt(a,t,e){t()&&(a0(e,!0),setTimeout(()=>{a0(e,!1)},300))}var Kt=Q(`<svg width="100%" height="100%" viewBox="0 0 14 13" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g><path d="M3.654,5.076c-0.113,-0.097 -0.265,-0.133 -0.41,-0.099c-0.145,0.035 -0.264,0.136 -0.322,0.274c-0.329,0.858 -0.404,1.825 -0.145,2.779c0.639,2.363 3.076,3.761 5.438,3.122c2.363,-0.64 3.762,-3.077 3.122,-5.439c-0.366,-1.353 -1.321,-2.389 -2.515,-2.908c-0.109,-0.046 -0.17,-0.163 -0.147,-0.279c0.059,-0.297 0.171,-0.852 0.239,-1.189c0.015,-0.072 0.06,-0.134 0.123,-0.169c0.064,-0.036 0.141,-0.042 0.209,-0.017c1.763,0.679 3.191,2.159 3.722,4.121c0.883,3.262 -1.049,6.628 -4.311,7.511c-3.263,0.883 -6.628,-1.049 -7.511,-4.311c-0.432,-1.596 -0.191,-3.216 0.55,-4.559c0.111,-0.194 0.068,-0.439 -0.102,-0.583c-0.192,-0.166 -0.455,-0.389 -0.711,-0.607c-0.173,-0.147 -0.25,-0.377 -0.201,-0.597c0.05,-0.221 0.217,-0.396 0.436,-0.455c1.371,-0.371 3.683,-0.997 5.055,-1.369c0.218,-0.059 0.451,0.008 0.605,0.174c0.154,0.166 0.203,0.403 0.128,0.616c-0.436,1.24 -1.138,3.237 -1.533,4.359c-0.066,0.189 -0.222,0.333 -0.415,0.385c-0.194,0.053 -0.401,0.007 -0.553,-0.123c-0.249,-0.212 -0.525,-0.446 -0.751,-0.637Z" class="svelte-jhhttk"></path><g transform="matrix(4.00107,0,0,4.00107,10.405,8.71918)"></g><text x="4.247px" y="8.719px" style="font-family:'Varta-Bold', 'Varta';font-weight:700;font-size:4.001px;" class="svelte-jhhttk">ALL</text></g></svg>`);function Qt(a,t){let e=c0(t,"isActive",3,!0),d=g0(!1);var v=Kt();v.__click=[Jt,e,d];let n;R(u=>n=o0(v,0,"svelte-jhhttk",null,n,u),[()=>({disabled:!e(),spin:s(d)})]),o(a,v)}f0(["click"]);var es=(a,t)=>{t()==!0?t(!1):(t()==!1,t(!0))},ts=M('<button class="svelte-whxx7j"><!> <!></button>');function he(a,t){X(t,!0);let e=c0(t,"isOpened",15);var d=ts();d.__click=[es,e];var v=x(d);K0(v,{get isOpened(){return e()},isVertical:!1});var n=h(v,2);ge(n,()=>t.children),m(d),o(a,d),G()}f0(["click"]);var ss=M('<h3 class="svelte-utaoqk"> </h3>');function as(a,t){X(t,!0);let e=c0(t,"isOpened",15);function d(n){return n.split(".").at(-1)||""}function v(n){return n.split("."+d(n))[0]}he(a,{get isOpened(){return e()},set isOpened(n){e(n)},children:(n,u)=>{var f=ss(),p=x(f,!0);m(f),R((c,g)=>{q(f,"data-class",c),B(p,g)},[()=>v(t.name),()=>d(t.name)]),o(n,f)},$$slots:{default:!0}}),G()}var rs=Q('<svg width="100%" height="100%" viewBox="0 0 14 13" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g><path d="M3.654,5.076c-0.113,-0.097 -0.265,-0.133 -0.41,-0.099c-0.145,0.035 -0.264,0.136 -0.322,0.274c-0.329,0.858 -0.404,1.825 -0.145,2.779c0.639,2.363 3.076,3.761 5.438,3.122c2.363,-0.64 3.762,-3.077 3.122,-5.439c-0.366,-1.353 -1.321,-2.389 -2.515,-2.908c-0.109,-0.046 -0.17,-0.163 -0.147,-0.279c0.059,-0.297 0.171,-0.852 0.239,-1.189c0.015,-0.072 0.06,-0.134 0.123,-0.169c0.064,-0.036 0.141,-0.042 0.209,-0.017c1.763,0.679 3.191,2.159 3.722,4.121c0.883,3.262 -1.049,6.628 -4.311,7.511c-3.263,0.883 -6.628,-1.049 -7.511,-4.311c-0.432,-1.596 -0.191,-3.216 0.55,-4.559c0.111,-0.194 0.068,-0.439 -0.102,-0.583c-0.192,-0.166 -0.455,-0.389 -0.711,-0.607c-0.173,-0.147 -0.25,-0.377 -0.201,-0.597c0.05,-0.221 0.217,-0.396 0.436,-0.455c1.371,-0.371 3.683,-0.997 5.055,-1.369c0.218,-0.059 0.451,0.008 0.605,0.174c0.154,0.166 0.203,0.403 0.128,0.616c-0.436,1.24 -1.138,3.237 -1.533,4.359c-0.066,0.189 -0.222,0.333 -0.415,0.385c-0.194,0.053 -0.401,0.007 -0.553,-0.123c-0.249,-0.212 -0.525,-0.446 -0.751,-0.637Z" class="svelte-1p9cwh8"></path></g></svg>');function ce(a,t){X(t,!0);let e=c0(t,"isActive",3,!0),d=g0(!1);Q0(()=>{e()||s(d)||(a0(d,!0),setTimeout(()=>{a0(d,!1)},300))});var v=rs();let n;R(u=>n=o0(v,0,"svelte-1p9cwh8",null,n,u),[()=>({disabled:!e(),spin:s(d)})]),o(a,v),G()}function ls(a,t){let e=c0(t,"depth",3,0);_e(a,{get item(){return t.item},get depth(){return e()}})}var ns=(a,t)=>{t()},os=M('<p style="margin-left: -24px;" class="svelte-f7jrs1"><button class="svelte-f7jrs1"><!></button> <!></p> <form><!></form>',1),is=(a,t)=>{t()},cs=M('<p style="margin-left: -24px;" class="svelte-f7jrs1"><button class="svelte-f7jrs1"><!></button> <!></p> <!>',1),vs=M('<p class="svelte-f7jrs1"><!> </p>'),ds=M('<div class="two svelte-f7jrs1" style="margin-left: -20px;"><!></div> <div class="two svelte-f7jrs1"></div>',1),us=M('<div class="two svelte-f7jrs1"><p class="svelte-f7jrs1"><!> </p></div>'),ps=M("<div><!></div>");function _e(a,t){X(t,!0);let e=c0(t,"item",7),d=c0(t,"depth",3,0);function v(){e().isValid&&(A0.sendMessage({kind:"updatedJvmFields",fields:[{id:e().id,newValueString:e().newValueString}]}),e().valueString=e().newValueString,e().value=e().newValueString)}function n(c){var k;const g=(k=l.searchParam)==null?void 0:k.toLowerCase();if(!g)return c;const i=c.toLowerCase().indexOf(g);if(i===-1)return c;const r=c.slice(0,i),_=c.slice(i,i+g.length),$=c.slice(i+g.length);return`<span>${r}<span class="highlight">${_}</span>${$}</span>`}var u=m0(),f=U(u);{var p=c=>{var g=ps();let i;var r=x(g);{var _=k=>{var P=os(),y=U(P),S=x(y);S.__click=[ns,v];var F=x(S);const I=Z(()=>e().valueString!=e().newValueString&&e().isValid);ce(F,{get isActive(){return s(I)}}),m(S);var C=h(S,2);L0(C,()=>n(e().fieldName)),m(y);var j=h(y,2),L=x(j);const O=Z(()=>e().type.toUpperCase()),V=Z(()=>it(e().type));ot(L,{get type(){return s(O)},get validate(){return s(V)},get value(){return e().value},set value(b){e().value=b},get isValid(){return e().isValid},set isValid(b){e().isValid=b},get startValue(){return e().valueString},set startValue(b){e().valueString=b},get currentValue(){return e().newValueString},set currentValue(b){e().newValueString=b}}),m(j),ve("submit",j,()=>{v()}),o(k,P)},$=(k,P)=>{{var y=F=>{var I=cs(),C=U(I),j=x(C);j.__click=[is,v];var L=x(j);const O=Z(()=>e().valueString!=e().newValueString&&e().isValid);ce(L,{get isActive(){return s(O)}}),m(j);var V=h(j,2);L0(V,()=>n(e().fieldName)),m(C);var b=h(C,2);const N=Z(()=>e().type.toUpperCase());F0(b,{get possibleValues(){return e().possibleValues},get type(){return s(N)},get value(){return e().value},set value(w){e().value=w},get isValid(){return e().isValid},set isValid(w){e().isValid=w},get startValue(){return e().valueString},set startValue(w){e().valueString=w},get currentValue(){return e().newValueString},set currentValue(w){e().newValueString=w}}),o(F,I)},S=(F,I)=>{{var C=L=>{var O=ds(),V=U(O),b=x(V);he(b,{get isOpened(){return e().isOpened},set isOpened(w){e().isOpened=w},children:(w,z)=>{var D=vs(),E=x(D);L0(E,()=>n(e().fieldName));var A=h(E);m(D),R(()=>B(A,` ${e().type??""}`)),o(w,D)},$$slots:{default:!0}}),m(V);var N=h(V,2);J(N,21,()=>e().customValues,K,(w,z)=>{D0(w,{get isShown(){return e().isOpened},children:(D,E)=>{const A=Z(()=>d()+1);ls(D,{get item(){return s(z)},get depth(){return s(A)}})}})}),m(N),o(L,O)},j=L=>{var O=us(),V=x(O),b=x(V);L0(b,()=>n(e().fieldName));var N=h(b);m(V),m(O),R(()=>B(N,` ${e().type??""}`)),o(L,O)};T(F,L=>{e().type==t0.CUSTOM||e().type==t0.ARRAY||e().type==t0.MAP||e().type==t0.LIST?L(C):L(j,!1)},I)}};T(k,F=>{e().type===t0.ENUM||e().type===t0.BOOLEAN?F(y):F(S,!1)},P)}};T(r,k=>{[t0.INT,t0.LONG,t0.DOUBLE,t0.FLOAT,t0.STRING].includes(e().type)?k(_):k($,!1)})}m(g),R(k=>{P0(g,`--depth:${d()??""};`),i=o0(g,1,"svelte-f7jrs1",null,i,k)},[()=>({item:e(),disabled:e().type==t0.UNKNOWN,first:d()==0})]),o(c,g)};T(f,c=>{e().isShown&&c(p)})}o(a,u),G()}f0(["click"]);function xe(a,t){if(!a)return;const e={};T0(a,v=>{const n=t(v);return v.isShown=n,n},(v,n)=>{const u=t(v),f=n.some(Boolean),p=u||f;return u?(v.isOpened=!0,v.isShown=!0,z0(v.customValues??[],c=>{c.isShown=!0},c=>{c.isShown=!0,c.isOpened=!0})):(v.isOpened=f,v.isShown=p),p});const d=v=>{v.isShown&&(e[v.className]=!0)};z0(l.jvmFields,d,d),l.openedStates=e}function fs(a,t){a=a.toLowerCase(),xe(t,e=>{var d;return(d=e.fieldName)==null?void 0:d.toLowerCase().includes(a)})}let j0={openedStates:{},isOpenedMap:new Map};function we(){j0.openedStates={...l.openedStates},j0.isOpenedMap=new Map,z0(l.jvmFields,a=>{},a=>{j0.isOpenedMap.set(a.id,a.isOpened??!1)})}function ye(){l.openedStates={...j0.openedStates},z0(l.jvmFields,a=>{a.isShown=!0},a=>{a.isShown=!0,a.isOpened=j0.isOpenedMap.get(a.id)??!1})}function gs(a){if(l.searchParam=a,a!="")l.configurablesState==i0.NORMAL&&we(),l.configurablesState=i0.SEARCH,fs(a,l.jvmFields);else if(l.configurablesState==i0.SEARCH){l.configurablesState=i0.NORMAL,ye();return}}function ms(){if(l.configurablesState==i0.DIFF){ye(),l.configurablesState=i0.NORMAL;return}l.configurablesState==i0.NORMAL&&we(),l.configurablesState=i0.DIFF,hs(l.jvmFields)}function hs(a){xe(a,t=>t.valueString!=l.initialJvmFields.get(t.id))}function _s(a){let t=!1;return T0(a,e=>e.valueString!==l.initialJvmFields.get(e.id)?(t=!0,!0):!1,()=>t),t}var s0=ct(()=>l),xs=a=>{const t=a.target;t&&gs(t.value)},ws=()=>{ms()},ys=M('<!> <input class="search svelte-1epp9tw" type="text" placeholder="Search"> <button class="svelte-1epp9tw"><!></button> <button class="svelte-1epp9tw"><!></button>',1),ks=M("<!> <!>",1),bs=M("<p>No configurables found.</p>"),$s=M('<div class="content svelte-1epp9tw"><!> <!></div>'),Ss=M("<!> <!>",1);function Ms(a,t){X(t,!1);function e(u){const f={};for(const p of u)f.hasOwnProperty(p.className)||(f[p.className]=[]),f[p.className].push(p);return f}function d(u){return T0(u,f=>f.valueString!==f.newValueString&&f.isValid,(f,p)=>p.some(Boolean)).some(Boolean)}function v(u){return T0(u,p=>p.valueString!==p.newValueString&&p.isValid?{id:p.id,newValueString:p.newValueString}:null,(p,c)=>null).filter(p=>p!==null)}function n(u){u!=null&&A0.sendMessage({kind:"updatedJvmFields",fields:v(u)})}ee(),d0(a,{children:(u,f)=>{var p=Ss(),c=U(p);de(c,{children:(i,r)=>{var _=ys(),$=U(_);ue($,{children:(L,O)=>{n0();var V=l0("Configurables");o(L,V)}});var k=h($,2);k.__input=[xs];var P=h(k,2);P.__click=()=>{n(s0().jvmFields)};var y=x(P);const S=V0(()=>d(s0().jvmFields));Qt(y,{get isActive(){return s(S)}}),m(P);var F=h(P,2);F.__click=[ws];var I=x(F);const C=V0(()=>_s(s0().jvmFields)),j=V0(()=>s0().configurablesState==i0.DIFF);qt(I,{get isActive(){return s(C)},get isSelected(){return s(j)}}),m(F),o(i,_)}});var g=h(c,2);h0(g,{children:(i,r)=>{var _=$s(),$=x(_);J($,1,()=>Object.entries(e(s0().jvmFields)),K,(y,S)=>{let F=()=>s(S)[0],I=()=>s(S)[1];const C=V0(()=>s0().openedStates[F()]||s0().configurablesState==i0.NORMAL);D0(y,{get isShown(){return s(C)},children:(j,L)=>{var O=ks(),V=U(O);as(V,{get name(){return F()},get isOpened(){return s0().openedStates[F()]},set isOpened(w){s0(s0().openedStates[F()]=w)},$$legacy:!0});var b=h(V,2);const N=V0(()=>s0().openedStates[F()]==!0);D0(b,{get isShown(){return s(N)},children:(w,z)=>{var D=m0(),E=U(D);J(E,1,I,K,(A,H)=>{_e(A,{get item(){return s(H)}})}),o(w,D)},$$slots:{default:!0}}),o(j,O)}})});var k=h($,2);{var P=y=>{var S=bs();o(y,S)};T(k,y=>{s0().jvmFields.length==0&&y(P)})}m(_),o(i,_)}}),o(u,p)},$$slots:{default:!0}}),G()}f0(["input","click"]);var Os=M('<iframe title="Limelight Dashboard" class="svelte-cw66qk"></iframe>'),Vs=M("<p>Limelight not found.</p>"),Ps=M("<p>Loading...</p>");function As(a,t){X(t,!0);let e=g0(!1);function d(){return window.location.hostname=="localhost"?"http://192.168.43.1":window.location.hostname}async function v(){const n=`http://${d()}:5801`;try{const u=await fetch(n);return n}catch{throw a0(e,!0),new Error("no limelight")}}d0(a,{title:"Limelight Dashboard",get isDisabled(){return s(e)},children:(n,u)=>{h0(n,{children:(f,p)=>{var c=m0(),g=U(c);me(g,v,i=>{var r=Ps();o(i,r)},(i,r)=>{var _=Os();R(()=>q(_,"src",s(r))),o(i,_)},(i,r)=>{var _=Vs();o(i,_)}),o(f,c)}})},$$slots:{default:!0}}),G()}var Fs=M('<img alt="limelight feed" class="svelte-3d82xn">'),js=M("<p>Limelight not found.</p>"),Ds=M("<p>Loading...</p>");function Is(a,t){X(t,!0);let e=g0(!1);function d(){return window.location.hostname=="localhost"?"http://192.168.43.1":window.location.hostname}async function v(){const n=`http://${d()}:5800`;try{const u=await fetch(n);return n}catch{throw a0(e,!0),new Error("no limelight")}}d0(a,{title:"Limelight Feed",get isDisabled(){return s(e)},children:(n,u)=>{h0(n,{children:(f,p)=>{var c=m0(),g=U(c);me(g,v,i=>{var r=Ds();o(i,r)},(i,r)=>{var _=Fs();R(()=>q(_,"src",s(r))),o(i,_)},(i,r)=>{var _=js();o(i,_)}),o(f,c)}})},$$slots:{default:!0}}),G()}var Cs=Q('<svg width="100%" height="100%" viewBox="0 0 14 14" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" class="svelte-91aoq6"><g><path d="M13.732,7.331c-0,0.2 -0.162,0.362 -0.362,0.362c-1.937,-0 -11.072,-0 -13.009,-0c-0.199,-0 -0.361,-0.162 -0.361,-0.362c-0,-0.276 -0,-0.654 0,-0.93c-0,-0.2 0.162,-0.362 0.361,-0.362c1.937,0 11.072,0 13.009,0c0.2,0 0.362,0.162 0.362,0.362c-0,0.276 -0,0.654 -0,0.93Z" class="svelte-91aoq6"></path><path d="M6.401,13.732c-0.2,-0 -0.362,-0.162 -0.362,-0.362c0,-1.937 0,-11.072 0,-13.009c0,-0.199 0.162,-0.361 0.362,-0.361c0.276,-0 0.654,-0 0.93,-0c0.2,-0 0.362,0.162 0.362,0.361c-0,1.937 -0,11.072 -0,13.009c-0,0.2 -0.162,0.362 -0.362,0.362c-0.276,-0 -0.654,-0 -0.93,-0Z" class="svelte-91aoq6"></path></g></svg>');function Ns(a){var t=Cs();o(a,t)}var Rs=M("<h1> </h1> <!>",1),Ls=M("<p>Error</p>");function Es(a,t){X(t,!0);let e=Z(()=>l.plugins.find(c=>c.id===t.pluginID)),d=Z(()=>s(e).pages.find(c=>c.id===t.pageID)),v=Z(()=>s(d).html.replace(/<dynamic>(.*?)<\/dynamic>/gi,(c,g)=>{const i=g.trim();return s(e).globalVariables[g.trim()]?`<span class="dynamic" data-key="${i}">${s(e).globalVariables[g.trim()]}</span>`:(console.warn("Empty or invalid key inside <dynamic> tag"),'<span class="dynamic-placeholder-error">[Missing Key]</span>')}));nt(()=>{const c=i=>{const _=i.currentTarget.getAttribute("data-action");_!==null&&console.log("Action triggered:",_)},g=document.querySelectorAll("button.action");return g.forEach(i=>{i.addEventListener("click",c)}),()=>{g.forEach(i=>{i.removeEventListener("click",c)})}});var n=m0(),u=U(n);{var f=c=>{var g=Rs(),i=U(g),r=x(i,!0);m(i);var _=h(i,2);dt(_,{get html(){return s(v)},get id(){return s(e).id}}),R(()=>B(r,s(d).title)),o(c,g)},p=c=>{var g=Ls();o(c,g)};T(u,c=>{s(e)&&s(d)?c(f):c(p,!1)})}o(a,n),G()}var Ts=(a,t,e)=>{t().startMoving(s(e).id)},zs=(a,t,e)=>{t().remove(s(e).id)},Zs=(a,t,e)=>{if(t().canExpandRight(s(e))){s(e).sizes.x++;return}if(t().canExpandLeft(s(e))){s(e).sizes.x++,s(e).start.x--;return}Z0.add("Not enough space to expand horizontally.")},Us=(a,t)=>{s(t).sizes.x<=2?Z0.add("Cannot make this small."):s(t).sizes.x--},Bs=(a,t,e)=>{if(t().canExpandDown(s(e))){s(e).sizes.y++;return}if(t().canExpandUp(s(e))){s(e).sizes.y++,s(e).start.y--;return}Z0.add("Not enough space to expand vertically.")},Ws=(a,t)=>{s(t).sizes.y<=2?Z0.add("Cannot make this small."):s(t).sizes.y--},Xs=M("<!> <!>",1),Gs=M("<p>CUSTOM not valid</p>"),Hs=M('<div><div><button class="svelte-1phsk00"><!></button> <button class="svelte-1phsk00"><!></button> <button class="svelte-1phsk00"><!></button> <button class="svelte-1phsk00"><!></button> <button class="svelte-1phsk00"><!></button> <button class="svelte-1phsk00"><!></button> <!> <!></div> <!></div>'),Ys=M('<div class="item svelte-1phsk00"><!></div>'),qs=M("<button><!></button>"),Js=(a,t)=>{if(t().selectedWidget!=null){if(!t().canPlace){t().stopMoving("Cannot move there.");return}t().performMove(),t().stopMoving(null)}},Ks=M("<p></p>"),Qs=M('<section role="button" tabindex="0" class="svelte-1phsk00"></section>'),ea=M('<div class="container svelte-1phsk00"><section class="svelte-1phsk00"><!> <!> <!></section> <!></div>');function ta(a,t){X(t,!0);let e=c0(t,"gridManager",7);var d=ea(),v=x(d),n=x(v);J(n,17,()=>e().modules,K,(i,r,_)=>{var $=Hs();let k;var P=x($);let y;var S=x(P);S.__mousedown=[Ts,e,r];var F=x(S);ht(F),m(S);var I=h(S,2);I.__click=[zs,e,r];var C=x(I);vt(C),m(I);var j=h(I,2);j.__click=[Zs,e,r];var L=x(j);pt(L),m(j);var O=h(j,2);O.__click=[Us,r];var V=x(O);gt(V),m(O);var b=h(O,2);b.__click=[Bs,e,r];var N=x(b);xt(N),m(b);var w=h(b,2);w.__click=[Ws,r];var z=x(w);yt(z),m(w);var D=h(w,2);F0(D,{type:"",get startValue(){return s(r).type},get value(){return s(r).type},possibleValues:et,isValid:!0,alwaysValid:!0,get currentValue(){return s(r).type},set currentValue(Y){s(r).type=Y}});var E=h(D,2);{var A=Y=>{var _0=Xs(),I0=U(_0);const U0=Z(()=>[...l.plugins.map(v0=>v0.id),"none"]);F0(I0,{type:"",get startValue(){return s(r).pluginID},get value(){return s(r).pluginID},get possibleValues(){return s(U0)},isValid:!0,alwaysValid:!0,get currentValue(){return s(r).pluginID},set currentValue(v0){s(r).pluginID=v0}});var u0=h(I0,2);{var B0=v0=>{const W0=Z(()=>[...l.plugins.find(e0=>e0.id==s(r).pluginID).pages.map(e0=>e0.id),"none"]);F0(v0,{type:"",get startValue(){return s(r).pageID},get value(){return s(r).pageID},get possibleValues(){return s(W0)},isValid:!0,alwaysValid:!0,get currentValue(){return s(r).pageID},set currentValue(e0){s(r).pageID=e0}})};T(u0,v0=>{s(r).pluginID!="none"&&v0(B0)})}o(Y,_0)};T(E,Y=>{s(r).type==r0.CUSTOM&&Y(A)})}m(P);var H=h(P,2);{var W=Y=>{Bt(Y,{})},ke=(Y,_0)=>{{var I0=u0=>{st(u0,{get gamepad(){return at.gamepads[0]}})},U0=(u0,B0)=>{{var v0=e0=>{rt(e0,{})},W0=(e0,be)=>{{var $e=x0=>{Ht(x0,{})},Se=(x0,Me)=>{{var Oe=w0=>{Ms(w0,{})},Ve=(w0,Pe)=>{{var Ae=y0=>{Pt(y0,{})},Fe=(y0,je)=>{{var De=k0=>{As(k0,{})},Ie=(k0,Ce)=>{{var Ne=b0=>{Is(b0,{})},Re=(b0,Le)=>{{var Ee=$0=>{Ft($0,{})},Te=($0,ze)=>{{var Ze=S0=>{var C0=m0(),te=U(C0);{var N0=M0=>{Es(M0,{get pluginID(){return s(r).pluginID},get pageID(){return s(r).pageID}})},Be=M0=>{var We=Gs();o(M0,We)};T(te,M0=>{s(r).pluginID&&s(r).pageID?M0(N0):M0(Be,!1)})}o(S0,C0)},Ue=S0=>{d0(S0,{title:"Unknown Type",children:(C0,te)=>{n0();var N0=l0();R(()=>B(N0,`This is an unknown widget of type "${s(r).type??""}"`)),o(C0,N0)},$$slots:{default:!0}})};T($0,S0=>{s(r).type==r0.CUSTOM?S0(Ze):S0(Ue,!1)},ze)}};T(b0,$0=>{s(r).type==r0.CAPTURE?$0(Ee):$0(Te,!1)},Le)}};T(k0,b0=>{s(r).type==r0.LIMELIGHT_FEED?b0(Ne):b0(Re,!1)},Ce)}};T(y0,k0=>{s(r).type==r0.LIMELIGHT_DASH?k0(De):k0(Ie,!1)},je)}};T(w0,y0=>{s(r).type==r0.GRAPH?y0(Ae):y0(Fe,!1)},Pe)}};T(x0,w0=>{s(r).type==r0.CONFIGURABLES?w0(Oe):w0(Ve,!1)},Me)}};T(e0,x0=>{s(r).type==r0.TELEMETRY?x0($e):x0(Se,!1)},be)}};T(u0,e0=>{s(r).type==r0.FIELD?e0(v0):e0(W0,!1)},B0)}};T(Y,u0=>{s(r).type==r0.GAMEPAD?u0(I0):u0(U0,!1)},_0)}};T(H,Y=>{s(r).type==r0.CONTROLS?Y(W):Y(ke,!1)})}m($),R((Y,_0)=>{k=o0($,1,"item svelte-1phsk00",null,k,Y),P0($,`
        grid-column: ${s(r).start.x??""} / span ${s(r).sizes.x??""};
        grid-row: ${s(r).start.y??""} / span ${s(r).sizes.y??""};
        `),y=o0(P,1,"controls svelte-1phsk00",null,y,_0)},[()=>({isOverlay:e().selectedWidgetId==s(r).id}),()=>({shown:l.showEdit})]),o(i,$)});var u=h(n,2);{var f=i=>{var r=Ys(),_=x(r);d0(_,{isPrimary:!0}),m(r),R(()=>P0(r,`
  grid-column: ${e().selectedCellX??""} / span ${e().selectedWidget.sizes.x??""};
  grid-row: ${e().selectedCellY??""} / span ${e().selectedWidget.sizes.y??""};
  `)),o(i,r)};T(u,i=>{e().selectedWidget!=null&&i(f)})}var p=h(u,2);J(p,17,()=>Array.from({length:e().cellsX*e().cellsY}),K,(i,r,_)=>{var $=qs();const k=Z(()=>e().modulesMap[Math.floor(_/e().cellsX)+1][_%e().cellsX+1]);let P;$.__click=()=>{e().addNew(_%e().cellsX+1,Math.floor(_/e().cellsX)+1)};var y=x($);Ns(y),m($),R(S=>{P0($,s(k)!=null?"display: none;":""),P=o0($,1,"add svelte-1phsk00",null,P,S)},[()=>({shown:l.showEdit&&!e().isMoving})]),o(i,$)}),m(v);var c=h(v,2);{var g=i=>{var r=Qs();r.__mouseup=[Js,e],J(r,21,()=>Array.from({length:e().cellsX*e().cellsY}),K,(_,$,k)=>{var P=Ks();const y=Z(()=>e().modulesMap[Math.floor(k/e().cellsX)+1][k%e().cellsX+1]);let S;P.__mouseover=()=>{if(console.log(k),e().selectedWidget==null)return;const F=e().selectedWidget,I=k%e().cellsX+1,C=Math.floor(k/e().cellsX)+1,j=e().coreCheckPlace(I,C,F),L=e().coreCheckPlace(I,e().selectedCellY,F),O=e().coreCheckPlace(e().selectedCellX,C,F);console.log("canPlaceBoth",j),console.log("canPlaceX",L),console.log("canPlaceY",O),(L||j)&&(e().selectedCellX=I),(O||j)&&(e().selectedCellY=C)},R(F=>S=o0(P,1,"overlay-item svelte-1phsk00",null,S,F),[()=>({isEmpty:s(y)!=null&&s(y)!=e().selectedWidgetId})]),ve("focus",P,()=>{}),o(_,P)}),m(r),o(i,r)};T(c,i=>{e().isMoving&&i(g)})}m(d),R(()=>P0(d,`--cellsX:${e().cellsX??""} ;--cellsY: ${e().cellsY??""};`)),o(a,d),G()}f0(["mousedown","click","mouseup","mouseover"]);function ba(a,t){X(t,!1),ee(),ta(a,{get gridManager(){return tt.currentGrid}}),G()}export{ba as component};
