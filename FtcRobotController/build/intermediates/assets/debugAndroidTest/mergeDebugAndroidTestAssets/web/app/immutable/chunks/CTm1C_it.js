import{h,a as j,i as G,b as L,c as P,U as E,d as m,s as T,m as q,e as c,q as S,f as Z,g as w,j as A,k as C,l as g,r as p,p as y,n as z}from"./7Wps0LQi.js";const b=0,l=1,x=2;function F(D,H,n,I,o){h&&j();var i=D,N=G(),U=g,a=E,r,s,t,_=(N?T:q)(void 0),v=(N?T:q)(void 0),d=!1;function u(e,f){d=!0,f&&(w(k),A(k),C(U));try{e===b&&n&&(r?p(r):r=c(()=>n(i))),e===l&&I&&(s?p(s):s=c(()=>I(i,_))),e===x&&o&&(t?p(t):t=c(()=>o(i,v))),e!==b&&r&&y(r,()=>r=null),e!==l&&s&&y(s,()=>s=null),e!==x&&t&&y(t,()=>t=null)}finally{f&&(C(null),A(null),w(null),z())}}var k=L(()=>{if(a!==(a=H())){if(P(a)){var e=a;d=!1,e.then(f=>{e===a&&(m(_,f),u(l,!0))},f=>{if(e===a&&(m(v,f),u(x,!0),!o))throw v.v}),h?n&&(r=c(()=>n(i))):S(()=>{d||u(b,!0)})}else m(_,a),u(l,!1);return()=>a=E}});h&&(i=Z)}export{F as a};
