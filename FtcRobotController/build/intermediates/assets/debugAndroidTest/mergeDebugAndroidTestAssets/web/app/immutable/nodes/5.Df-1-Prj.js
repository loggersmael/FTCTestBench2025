import{n as q,a as n,t as A,c as j0,d as a0}from"../chunks/CVFpzJbc.js";import"../chunks/BsVzonBG.js";import{p as K,f as B,c as f,s as u,r as d,g as s,t as z,a as J,u as U0,b as P0,e as r0,n as l0,d as Z,_ as $0}from"../chunks/YTTbxKC9.js";import{i as W0}from"../chunks/DcbaTdVr.js";import{a as be,W as v0,s as $e}from"../chunks/DakgemTn.js";import{d as p0,s as W,e as H0}from"../chunks/D53KoI-C.js";import{i as L}from"../chunks/CRsx7d8H.js";import{r as q0,e as Y,i as H,s as s0}from"../chunks/BmHEcOXc.js";import{S as f0,s as n0,H as K0,T as J0}from"../chunks/RyCwTf9m.js";import{s as S0,G as Se}from"../chunks/C51O51J_.js";import{p as o0}from"../chunks/CCV5vNUE.js";import{i as a,s as M0,T as e0,f as I0,C as i0,a as D0,n as T0,g as Me}from"../chunks/DWCKsEeI.js";import{b as Q0,S as O0,B as u0,h as N0}from"../chunks/dFqu44So.js";import{G as Oe}from"../chunks/D2-iRYHR.js";import{p as y0}from"../chunks/DVvdcNCm.js";import{C as F0}from"../chunks/DoaRaG16.js";import{a as Ve,o as Pe}from"../chunks/BuTlqoie.js";import{A as B0,S as Ae,a as je,r as Fe,R as Ce}from"../chunks/ylU-cJ5A.js";import{s as ee}from"../chunks/DS7Ln8HH.js";import{R as Re}from"../chunks/Bg_RpEGU.js";var Ne=q('<svg width="100%" height="100%" viewBox="0 0 18 7" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" class="svelte-8ek7md"><g><path d="M0.968,4.032c-0.207,-0.128 -0.333,-0.354 -0.333,-0.597c-0,-0.243 0.126,-0.469 0.333,-0.597c0.987,-0.608 2.514,-1.549 3.535,-2.179c0.217,-0.133 0.488,-0.139 0.71,-0.015c0.222,0.123 0.359,0.358 0.359,0.612c0,1.238 0,3.12 0,4.358c0,0.254 -0.137,0.489 -0.359,0.612c-0.222,0.124 -0.493,0.118 -0.71,-0.015c-1.021,-0.63 -2.548,-1.571 -3.535,-2.179Z" class="svelte-8ek7md"></path><path d="M16.674,2.838c0.207,0.128 0.333,0.354 0.333,0.597c-0,0.243 -0.126,0.469 -0.333,0.597c-0.987,0.608 -2.514,1.549 -3.536,2.179c-0.216,0.133 -0.488,0.139 -0.709,0.015c-0.222,-0.123 -0.36,-0.358 -0.36,-0.612c0,-1.238 0,-3.12 0,-4.358c0,-0.254 0.138,-0.489 0.36,-0.612c0.221,-0.124 0.493,-0.118 0.709,0.015c1.022,0.63 2.549,1.571 3.536,2.179Z" class="svelte-8ek7md"></path><path d="M3.71,2.97c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.807,0 2.749,0 3.556,0c0.096,0 0.188,0.038 0.256,0.106c0.068,0.068 0.106,0.16 0.106,0.256c-0,0.276 -0,0.654 -0,0.93c-0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.807,-0 -2.749,-0 -3.556,-0c-0.096,-0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.276 0,-0.654 0,-0.93Z" class="svelte-8ek7md"></path><path d="M13.931,3.9c0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.068 -0.159,0.106 -0.255,0.106c-0.808,-0 -2.75,-0 -3.557,-0c-0.096,-0 -0.188,-0.038 -0.255,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c-0,-0.276 -0,-0.654 -0,-0.93c-0,-0.096 0.038,-0.188 0.106,-0.256c0.067,-0.068 0.159,-0.106 0.255,-0.106c0.807,0 2.749,0 3.557,0c0.096,0 0.187,0.038 0.255,0.106c0.068,0.068 0.106,0.16 0.106,0.256c0,0.276 0,0.654 0,0.93Z" class="svelte-8ek7md"></path></g></svg>');function Ie(r){var t=Ne();n(r,t)}var De=q('<svg width="100%" height="100%" viewBox="0 0 16 7" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" class="svelte-8ek7md"><g><path d="M7.022,2.838c0.207,0.128 0.333,0.354 0.333,0.597c0,0.243 -0.126,0.469 -0.333,0.597c-0.987,0.608 -2.514,1.549 -3.536,2.179c-0.216,0.133 -0.487,0.139 -0.709,0.015c-0.222,-0.123 -0.359,-0.358 -0.359,-0.612c-0,-1.238 -0,-3.12 -0,-4.358c-0,-0.254 0.137,-0.489 0.359,-0.612c0.222,-0.124 0.493,-0.118 0.709,0.015c1.022,0.63 2.549,1.571 3.536,2.179Z" class="svelte-8ek7md"></path><path d="M8.863,4.032c-0.207,-0.128 -0.333,-0.354 -0.333,-0.597c-0,-0.243 0.126,-0.469 0.333,-0.597c0.986,-0.608 2.513,-1.549 3.535,-2.179c0.216,-0.133 0.488,-0.139 0.71,-0.015c0.221,0.123 0.359,0.358 0.359,0.612c-0,1.238 -0,3.12 -0,4.358c-0,0.254 -0.138,0.489 -0.359,0.612c-0.222,0.124 -0.494,0.118 -0.71,-0.015c-1.022,-0.63 -2.549,-1.571 -3.535,-2.179Z" class="svelte-8ek7md"></path><path d="M4.28,3.9c-0,0.096 -0.039,0.188 -0.106,0.256c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.807,-0 -2.749,-0 -3.556,-0c-0.096,-0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c-0,-0.276 -0,-0.654 -0,-0.93c-0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.807,0 2.749,0 3.556,0c0.096,0 0.188,0.038 0.256,0.106c0.067,0.068 0.106,0.16 0.106,0.256c-0,0.276 -0,0.654 -0,0.93Z" class="svelte-8ek7md"></path><path d="M11.605,2.97c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.807,0 2.749,0 3.556,0c0.096,0 0.188,0.038 0.256,0.106c0.067,0.068 0.106,0.16 0.106,0.256c-0,0.276 -0,0.654 -0,0.93c-0,0.096 -0.039,0.188 -0.106,0.256c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.807,-0 -2.749,-0 -3.556,-0c-0.096,-0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.276 0,-0.654 0,-0.93Z" class="svelte-8ek7md"></path></g></svg>');function Te(r){var t=De();n(r,t)}var ze=q('<svg width="100%" height="100%" viewBox="0 0 18 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" class="svelte-7dk81x"><g><g><path d="M8.224,0.968c0.128,-0.207 0.354,-0.333 0.597,-0.333c0.243,-0 0.469,0.126 0.596,0.333c0.609,0.987 1.55,2.514 2.18,3.535c0.133,0.217 0.139,0.488 0.015,0.71c-0.124,0.222 -0.358,0.359 -0.612,0.359c-1.238,0 -3.12,0 -4.359,0c-0.254,0 -0.488,-0.137 -0.612,-0.359c-0.124,-0.222 -0.118,-0.493 0.016,-0.71c0.63,-1.021 1.571,-2.548 2.179,-3.535Z" style="fill:#fff;" class="svelte-7dk81x"></path><path d="M9.417,16.674c-0.127,0.207 -0.353,0.333 -0.596,0.333c-0.243,-0 -0.469,-0.126 -0.597,-0.333c-0.608,-0.987 -1.549,-2.514 -2.179,-3.536c-0.134,-0.216 -0.14,-0.488 -0.016,-0.709c0.124,-0.222 0.358,-0.36 0.612,-0.36c1.239,0 3.121,0 4.359,0c0.254,0 0.488,0.138 0.612,0.36c0.124,0.221 0.118,0.493 -0.015,0.709c-0.63,1.022 -1.571,2.549 -2.18,3.536Z" style="fill:#fff;" class="svelte-7dk81x"></path><path d="M9.286,3.71c0.096,0 0.188,0.038 0.256,0.106c0.067,0.068 0.105,0.16 0.105,0.256c0,0.807 0,2.749 0,3.556c0,0.096 -0.038,0.188 -0.105,0.256c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.276,-0 -0.654,-0 -0.93,-0c-0.096,-0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.807 0,-2.749 0,-3.556c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.276,0 0.654,0 0.93,0Z" style="fill:#fff;" class="svelte-7dk81x"></path><path d="M8.356,13.931c-0.096,0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.159 -0.106,-0.255c0,-0.808 0,-2.75 0,-3.557c0,-0.096 0.038,-0.188 0.106,-0.255c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.276,-0 0.654,-0 0.93,-0c0.096,-0 0.188,0.038 0.256,0.106c0.067,0.067 0.105,0.159 0.105,0.255c0,0.807 0,2.749 0,3.557c0,0.096 -0.038,0.187 -0.105,0.255c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.276,0 -0.654,0 -0.93,0Z" style="fill:#fff;" class="svelte-7dk81x"></path></g><g><path d="M0.968,9.417c-0.207,-0.127 -0.333,-0.353 -0.333,-0.596c-0,-0.243 0.126,-0.469 0.333,-0.597c0.987,-0.608 2.514,-1.549 3.535,-2.179c0.217,-0.134 0.488,-0.14 0.71,-0.016c0.222,0.124 0.359,0.358 0.359,0.612c0,1.239 0,3.121 0,4.359c0,0.254 -0.137,0.488 -0.359,0.612c-0.222,0.124 -0.493,0.118 -0.71,-0.015c-1.021,-0.63 -2.548,-1.571 -3.535,-2.18Z" style="fill:#fff;" class="svelte-7dk81x"></path><path d="M16.674,8.224c0.207,0.128 0.333,0.354 0.333,0.597c-0,0.243 -0.126,0.469 -0.333,0.596c-0.987,0.609 -2.514,1.55 -3.536,2.18c-0.216,0.133 -0.488,0.139 -0.709,0.015c-0.222,-0.124 -0.36,-0.358 -0.36,-0.612c0,-1.238 0,-3.12 0,-4.359c0,-0.254 0.138,-0.488 0.36,-0.612c0.221,-0.124 0.493,-0.118 0.709,0.016c1.022,0.63 2.549,1.571 3.536,2.179Z" style="fill:#fff;" class="svelte-7dk81x"></path><path d="M3.71,8.356c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.807,0 2.749,0 3.556,0c0.096,0 0.188,0.038 0.256,0.106c0.068,0.068 0.106,0.16 0.106,0.256c-0,0.276 -0,0.654 -0,0.93c-0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.067 -0.16,0.105 -0.256,0.105c-0.807,0 -2.749,0 -3.556,0c-0.096,0 -0.188,-0.038 -0.256,-0.105c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.276 0,-0.654 0,-0.93Z" style="fill:#fff;" class="svelte-7dk81x"></path><path d="M13.931,9.286c0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.067 -0.159,0.105 -0.255,0.105c-0.808,0 -2.75,0 -3.557,0c-0.096,0 -0.188,-0.038 -0.255,-0.105c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c-0,-0.276 -0,-0.654 -0,-0.93c-0,-0.096 0.038,-0.188 0.106,-0.256c0.067,-0.068 0.159,-0.106 0.255,-0.106c0.807,0 2.749,0 3.557,0c0.096,0 0.187,0.038 0.255,0.106c0.068,0.068 0.106,0.16 0.106,0.256c0,0.276 0,0.654 0,0.93Z" style="fill:#fff;" class="svelte-7dk81x"></path></g></g></svg>');function Ee(r){var t=ze();n(r,t)}var Ze=q('<svg width="100%" height="100%" viewBox="0 0 7 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" class="svelte-1wm7yl4"><g><path d="M2.838,0.968c0.128,-0.207 0.354,-0.333 0.597,-0.333c0.243,-0 0.469,0.126 0.597,0.333c0.608,0.987 1.549,2.514 2.179,3.535c0.133,0.217 0.139,0.488 0.015,0.71c-0.123,0.222 -0.358,0.359 -0.612,0.359c-1.238,0 -3.12,0 -4.358,0c-0.254,0 -0.489,-0.137 -0.612,-0.359c-0.124,-0.222 -0.118,-0.493 0.015,-0.71c0.63,-1.021 1.571,-2.548 2.179,-3.535Z" class="svelte-1wm7yl4"></path><path d="M4.032,16.674c-0.128,0.207 -0.354,0.333 -0.597,0.333c-0.243,-0 -0.469,-0.126 -0.597,-0.333c-0.608,-0.987 -1.549,-2.514 -2.179,-3.536c-0.133,-0.216 -0.139,-0.488 -0.015,-0.709c0.123,-0.222 0.358,-0.36 0.612,-0.36c1.238,0 3.12,0 4.358,0c0.254,0 0.489,0.138 0.612,0.36c0.124,0.221 0.118,0.493 -0.015,0.709c-0.63,1.022 -1.571,2.549 -2.179,3.536Z" class="svelte-1wm7yl4"></path><path d="M3.9,3.71c0.096,0 0.188,0.038 0.256,0.106c0.068,0.068 0.106,0.16 0.106,0.256c-0,0.807 -0,2.749 -0,3.556c-0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.276,-0 -0.654,-0 -0.93,-0c-0.096,-0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.807 0,-2.749 0,-3.556c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.276,0 0.654,0 0.93,0Z" class="svelte-1wm7yl4"></path><path d="M2.97,13.931c-0.096,0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.159 -0.106,-0.255c0,-0.808 0,-2.75 0,-3.557c0,-0.096 0.038,-0.188 0.106,-0.255c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.276,-0 0.654,-0 0.93,-0c0.096,-0 0.188,0.038 0.256,0.106c0.068,0.067 0.106,0.159 0.106,0.255c-0,0.807 -0,2.749 -0,3.557c-0,0.096 -0.038,0.187 -0.106,0.255c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.276,0 -0.654,0 -0.93,0Z" class="svelte-1wm7yl4"></path></g></svg>');function Le(r){var t=Ze();n(r,t)}var Be=q('<svg width="100%" height="100%" viewBox="0 0 7 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" class="svelte-1wm7yl4"><g><path d="M2.838,8.863c0.128,-0.207 0.354,-0.333 0.597,-0.333c0.243,-0 0.469,0.126 0.597,0.333c0.608,0.986 1.549,2.513 2.179,3.535c0.133,0.216 0.139,0.488 0.015,0.71c-0.123,0.221 -0.358,0.359 -0.612,0.359c-1.238,-0 -3.12,-0 -4.358,-0c-0.254,-0 -0.489,-0.138 -0.612,-0.359c-0.124,-0.222 -0.118,-0.494 0.015,-0.71c0.63,-1.022 1.571,-2.549 2.179,-3.535Z" class="svelte-1wm7yl4"></path><path d="M4.032,7.022c-0.128,0.207 -0.354,0.333 -0.597,0.333c-0.243,0 -0.469,-0.126 -0.597,-0.333c-0.608,-0.987 -1.549,-2.514 -2.179,-3.536c-0.133,-0.216 -0.139,-0.487 -0.015,-0.709c0.123,-0.222 0.358,-0.359 0.612,-0.359c1.238,-0 3.12,-0 4.358,-0c0.254,-0 0.489,0.137 0.612,0.359c0.124,0.222 0.118,0.493 -0.015,0.709c-0.63,1.022 -1.571,2.549 -2.179,3.536Z" class="svelte-1wm7yl4"></path><path d="M3.9,11.605c0.096,0 0.188,0.038 0.256,0.106c0.068,0.068 0.106,0.16 0.106,0.256c-0,0.807 -0,2.749 -0,3.556c-0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.067 -0.16,0.106 -0.256,0.106c-0.276,-0 -0.654,-0 -0.93,-0c-0.096,-0 -0.188,-0.039 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.807 0,-2.749 0,-3.556c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.276,0 0.654,0 0.93,0Z" class="svelte-1wm7yl4"></path><path d="M2.97,4.28c-0.096,-0 -0.188,-0.039 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.807 0,-2.749 0,-3.556c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.276,-0 0.654,-0 0.93,-0c0.096,-0 0.188,0.038 0.256,0.106c0.068,0.068 0.106,0.16 0.106,0.256c-0,0.807 -0,2.749 -0,3.556c-0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.067 -0.16,0.106 -0.256,0.106c-0.276,-0 -0.654,-0 -0.93,-0Z" class="svelte-1wm7yl4"></path></g></svg>');function Ue(r){var t=Be();n(r,t)}var We=(r,t,e)=>t(e()),Xe=A('<li class="svelte-1a0a577"><button> </button> </li>'),Ge=q('<text y="-2" font-size="2.5" fill="white" stroke="var(--text)" stroke-width="0.1" text-anchor="middle"> </text>'),Ye=q('<text x="-2" font-size="2.5" fill="white" stroke="var(--text)" stroke-width="0.1" text-anchor="end"> </text>'),He=q('<line x1="0" x2="100" stroke="var(--text)" stroke-width="0.2"></line><line y1="0" y2="100" stroke="var(--text)" stroke-width="0.2"></line>',1),qe=q('<polyline fill="none" stroke-width="0.6"></polyline>'),Ke=A('<div class="flex svelte-1a0a577"><input type="range" min="1" max="60" aria-label="Time window"> <p> </p></div> <ul class="svelte-1a0a577"></ul> <div class="graph svelte-1a0a577"><svg viewBox="-10 -10 120 120" preserveAspectRatio="none"><rect x="0" y="0" width="100" height="100" fill="var(--card)"></rect><!><!><!><!></svg></div>',1);function Je(r,t){K(t,!0);const e=y0({});function c(g){e[g]=!e[g]}function i(g,h,p,w=[0,1]){return p===h?g.map(()=>.5):g.map(_=>(_-h)/(p-h)*(w[1]-w[0])+w[0])}function o(g){const h=Object.values(g).flat().map(k=>k.data),p=Object.values(g).flat().map(k=>k.timestamp),w=Math.min(...h),_=Math.max(...h),l=Math.min(...p),$=l+a.timeWindow*1e3,S={};return Object.entries(g).forEach(([k,P])=>{const O=P.map(N=>N.timestamp),j=P.map(N=>N.data),V=i(O,l,$,[0,100]),R=i(j,w,_,[0,100]);S[k]=P.map((N,F)=>({x:Math.min(100,Math.max(0,V[F])),y:100-R[F]}))}),S}const v=["red","lime","cyan","yellow","magenta","orange"];f0(r,{title:"Graph View",children:(g,h)=>{F0(g,{children:(p,w)=>{var _=Ke(),l=B(_),$=f(l);q0($);var S=u($,2),k=f(S);d(S),d(l);var P=u(l,2);Y(P,21,()=>Object.entries(a.graphs),H,(y,b)=>{let x=()=>s(b)[0],I=()=>s(b)[1];var m=Xe(),E=f(m);E.__click=[We,c,x];let C;var T=f(E,!0);d(E);var M=u(E);d(m),z((X,U)=>{s0(E,"aria-pressed",e[x()]),C=n0(E,1,"svelte-1a0a577",null,C,X),W(T,x()),W(M,` – ${I().length??""} entries / ${U??""}`)},[()=>({selected:e[x()]}),()=>parseFloat(I()[I().length-1].data.toString()).toFixed(3)]),n(y,m)}),d(P);var O=u(P,2),j=f(O),V=u(f(j));Y(V,16,()=>[0,25,50,75,100],H,(y,b)=>{var x=Ge(),I=f(x);d(x),z(m=>{s0(x,"x",b),W(I,`${m??""}s`)},[()=>Math.round(b/100*a.timeWindow)]),n(y,x)});var R=u(V);Y(R,16,()=>[0,25,50,75,100],H,(y,b)=>{var x=Ye(),I=f(x,!0);d(x),z(m=>{s0(x,"y",100-b),W(I,m)},[()=>(b/100*(Object.values(Object.values(a.graphs).flat().map(m=>m.data)).reduce((m,E)=>Math.max(m,E),-1/0)-Object.values(Object.values(a.graphs).flat().map(m=>m.data)).reduce((m,E)=>Math.min(m,E),1/0))+Object.values(Object.values(a.graphs).flat().map(m=>m.data)).reduce((m,E)=>Math.min(m,E),1/0)).toFixed(2)]),n(y,x)});var N=u(R);Y(N,16,()=>[25,50,75],H,(y,b)=>{var x=He(),I=B(x),m=u(I);z(()=>{s0(I,"y1",b),s0(I,"y2",b),s0(m,"x1",b),s0(m,"x2",b)}),n(y,x)});var F=u(N);{var D=y=>{var b=j0(),x=B(b);Y(x,17,()=>Object.entries(o(Object.fromEntries(Object.entries(a.graphs).filter(([I])=>e[I])))),H,(I,m,E)=>{let C=()=>s(m)[1];var T=qe();z(M=>{s0(T,"stroke",v[E%v.length]),s0(T,"points",M)},[()=>C().map(M=>`${M.x},${M.y}`).join(" ")]),n(I,T)}),n(y,b)};L(F,y=>{Object.keys(e).some(b=>e[b])&&y(D)})}d(j),d(O),z(()=>W(k,`(last ${a.timeWindow??""}s)`)),Q0($,()=>a.timeWindow,y=>a.timeWindow=y),n(p,_)}})},$$slots:{default:!0}}),J()}p0(["click"]);var Qe=A('<p> </p> <p> </p> <input type="range"> <div class="flex-item svelte-1o86sht"><p>Animation speed</p> <!></div> <div><div class="flex svelte-1o86sht"><!> <!> <!></div> <div class="flex svelte-1o86sht"><!> <!></div></div>',1);function et(r,t){K(t,!0);let e=P0("1x");U0(()=>{s(e)!=null&&a.isForwarding&&(o=a.timestamp,i=performance.now())});let c=null,i=null,o=0;function v(h){if(!a.isForwarding||i===null)return;const p=h-i,w=parseFloat(s(e).replace("x",""));a.timestamp=Math.min(o+p*w,a.duration),a.timestamp<a.duration?c=requestAnimationFrame(v):(a.timestamp=a.duration,a.isForwarding=!1,c=null,i=null)}function g(){a.isForwarding=!a.isForwarding,a.isForwarding?(o=a.timestamp,i=performance.now(),c=requestAnimationFrame(v)):(i=null,c!==null&&(cancelAnimationFrame(c),c=null))}Ve(()=>{c!==null&&cancelAnimationFrame(c)}),f0(r,{title:"Capture",children:(h,p)=>{F0(h,{children:(w,_)=>{var l=Qe(),$=B(l),S=f($);d($);var k=u($,2),P=f(k);d(k);var O=u(k,2);q0(O),s0(O,"min",0);var j=u(O,2),V=u(f(j),2);O0(V,{startValue:"1x",value:"1x",possibleValues:["0.1x","0.25x","0.5x","1x","2x","3x","4x"],get isValid(){return a.hasRecording},alwaysValid:!0,get currentValue(){return s(e)},set currentValue(M){r0(e,y0(M))}}),d(j);var R=u(j,2),N=f(R),F=f(N);u0(F,{onclick:()=>{a.isRecording=!0},get disabled(){return a.isRecording},children:(M,X)=>{l0();var U=a0("Start");n(M,U)},$$slots:{default:!0}});var D=u(F,2);const y=Z(()=>!a.isRecording);u0(D,{onclick:()=>{a.isRecording=!1},get disabled(){return s(y)},children:(M,X)=>{l0();var U=a0("Stop");n(M,U)},$$slots:{default:!0}});var b=u(D,2);const x=Z(()=>!a.hasRecording);u0(b,{onclick:()=>{a.isRecording=!1,a.history=[],a.timestamp=0,a.isPlaying=!1},get disabled(){return s(x)},children:(M,X)=>{l0();var U=a0("Reset");n(M,U)},$$slots:{default:!0}}),d(N);var I=u(N,2),m=f(I);const E=Z(()=>!a.hasRecording);u0(m,{onclick:()=>{a.isPlaying=!a.isPlaying},get disabled(){return s(E)},children:(M,X)=>{l0();var U=a0();z(()=>W(U,`${(a.isPlaying?"Disable":"Enable")??""} Visual Sync`)),n(M,U)},$$slots:{default:!0}});var C=u(m,2);const T=Z(()=>!a.hasRecording);u0(C,{onclick:g,get disabled(){return s(T)},children:(M,X)=>{l0();var U=a0();z(()=>W(U,`${(a.isForwarding?"Stop":"Start")??""} Playing`)),n(M,U)},$$slots:{default:!0}}),d(I),d(R),z((M,X)=>{W(S,`Got ${a.history.length??""} entries`),W(P,`Timestamp: ${M??""}s / ${X??""}s`),O.disabled=!a.hasRecording,s0(O,"max",a.duration)},[()=>(a.timestamp/1e3).toFixed(2),()=>(a.duration/1e3).toFixed(2)]),Q0(O,()=>a.timestamp,M=>a.timestamp=M),n(w,l)}})},$$slots:{default:!0}}),J()}var tt=(r,t,e)=>t.onselect(s(e)),st=A('<button class="svelte-6klxoa"> </button>'),at=A('<p class="svelte-6klxoa">No opModes here.</p>'),rt=A("<!> <!>",1);function G0(r,t){K(t,!0);var e=rt(),c=B(e);Y(c,17,()=>a.opModes.filter(v=>v.flavour==t.flavour),H,(v,g)=>{var h=st();h.__click=[tt,t,g];var p=f(h);d(h),z(()=>W(p,`${s(g).name??""} / ${s(g).group??""}`)),n(v,h)});var i=u(c,2);{var o=v=>{var g=at();n(v,g)};L(i,v=>{a.opModes.filter(g=>g.flavour==t.flavour).length==0&&v(o)})}n(r,e),J()}p0(["click"]);var lt=A('<div><div class="inner svelte-sf14j4"><!></div></div>');function A0(r,t){var e=lt();let c;var i=f(e),o=f(i);ee(o,()=>t.children),d(i),d(e),z(v=>c=n0(e,1,"hiddable svelte-sf14j4",null,c,v),[()=>({shown:t.isShown})]),n(r,e)}var nt=(r,t)=>t("autos"),it=(r,t)=>t("teleops"),ot=A('<button class="svelte-wf5nbz"><span class="svelte-wf5nbz">Autos<!></span></button> <!> <button class="svelte-wf5nbz"><span class="svelte-wf5nbz">TeleOps<!></span></button>',1),ct=A('<p class="title svelte-wf5nbz">Nothing selected</p>'),vt=A('<p class="title svelte-wf5nbz"><span class="title_small svelte-wf5nbz"> </span> </p>'),dt=A('<div class="modal autos svelte-wf5nbz"><!></div> <div class="modal teleops svelte-wf5nbz"><!></div> <!> <div class="flex svelte-wf5nbz"><!> <!> <!></div>',1),ut=A("<!> <!>",1);function pt(r,t){K(t,!0);let e=P0("");function c(v){s(e)!=v?r0(e,y0(v)):r0(e,"")}function i(v){r0(o,y0(v)),r0(e,"")}U0(()=>{if(console.log(a.activeOpMode),a.activeOpMode==" ")return;console.log("Length: ",a.opModes.length);let v=null;for(const g of a.opModes)g.name==a.activeOpMode&&(v=g);v!=null&&r0(o,y0(v))});let o=P0(y0({name:"",group:"",flavour:"AUTONOMOUS"}));f0(r,{children:(v,g)=>{var h=ut(),p=B(h);K0(p,{children:(_,l)=>{var $=ot(),S=B($);S.__click=[nt,c];var k=f(S),P=u(f(k));const O=Z(()=>s(e)=="autos");B0(P,{get isOpened(){return s(O)}}),d(k),d(S);var j=u(S,2);J0(j,{children:(D,y)=>{l0();var b=a0("OpMode Control");n(D,b)}});var V=u(j,2);V.__click=[it,c];var R=f(V),N=u(f(R));const F=Z(()=>s(e)=="teleops");B0(N,{get isOpened(){return s(F)}}),d(R),d(V),n(_,$)}});var w=u(p,2);F0(w,{children:(_,l)=>{var $=dt(),S=B($),k=f(S);const P=Z(()=>s(e)=="autos");A0(k,{get isShown(){return s(P)},children:(C,T)=>{G0(C,{flavour:"AUTONOMOUS",onselect:i})}}),d(S);var O=u(S,2),j=f(O);const V=Z(()=>s(e)=="teleops");A0(j,{get isShown(){return s(V)},children:(C,T)=>{G0(C,{flavour:"TELEOP",onselect:i})}}),d(O);var R=u(O,2);{var N=C=>{var T=ct();n(C,T)},F=C=>{var T=vt(),M=f(T),X=f(M,!0);d(M);var U=u(M);d(T),z(()=>{W(X,s(o).flavour),W(U,` ${s(o).name??""}`)}),n(C,T)};L(R,C=>{s(o).name==""?C(N):C(F,!1)})}var D=u(R,2),y=f(D);const b=Z(()=>s(o).name==""||a.activeOpModeStatus=="running"&&a.activeOpMode!="$Stop$Robot$"||a.activeOpModeStatus=="stopped"&&a.activeOpMode!="$Stop$Robot$"||s(o).name!=""&&a.activeOpModeStatus=="init");u0(y,{get disabled(){return s(b)},onclick:()=>{M0.sendMessage({kind:"initOpMode",opModeName:s(o).name})},children:(C,T)=>{l0();var M=a0("Initialize");n(C,M)},$$slots:{default:!0}});var x=u(y,2);const I=Z(()=>a.activeOpMode=="$Stop$Robot$"||s(o).name==""||a.activeOpModeStatus!="init");u0(x,{get disabled(){return s(I)},onclick:()=>{M0.sendMessage({kind:"startActiveOpMode"})},children:(C,T)=>{l0();var M=a0("Start");n(C,M)},$$slots:{default:!0}});var m=u(x,2);const E=Z(()=>a.activeOpMode=="$Stop$Robot$"||s(o).name==""||a.activeOpModeStatus=="stopped");u0(m,{get disabled(){return s(E)},onclick:()=>{M0.sendMessage({kind:"stopActiveOpMode"})},children:(C,T)=>{l0();var M=a0("Stop");n(C,M)},$$slots:{default:!0}}),d(D),n(_,$)}}),n(v,h)},$$slots:{default:!0}}),J()}p0(["click"]);var ft=A("<p> </p>"),gt=A("<p>No telemetry found.</p>"),mt=A("<!> <!>",1);function ht(r,t){K(t,!1),W0(),f0(r,{title:"Telemetry",children:(e,c)=>{F0(e,{children:(i,o)=>{var v=mt(),g=B(v);Y(g,1,()=>a.telemetry,H,(w,_)=>{var l=ft(),$=f(l,!0);d(l),z(()=>W($,s(_))),n(w,l)});var h=u(g,2);{var p=w=>{var _=gt();n(w,_)};L(h,w=>{a.telemetry.length==0&&w(p)})}n(i,v)}})},$$slots:{default:!0}}),J()}var _t=q('<svg width="100%" height="100%" viewBox="0 0 13 14" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><path d="M0.478,8.19c-0.432,-1.595 -0.19,-3.216 0.551,-4.558c0.11,-0.194 0.067,-0.439 -0.103,-0.583c-0.192,-0.167 -0.455,-0.39 -0.711,-0.608c-0.173,-0.146 -0.25,-0.376 -0.2,-0.597c0.049,-0.22 0.216,-0.395 0.435,-0.454l5.055,-1.369c0.218,-0.059 0.451,0.008 0.605,0.174c0.075,0.08 0.125,0.177 0.148,0.28c0.025,0.11 0.019,0.226 -0.02,0.336l-1.533,4.358c-0.066,0.189 -0.221,0.334 -0.415,0.386c-0.193,0.052 -0.4,0.006 -0.553,-0.123l-0.75,-0.638c-0.114,-0.096 -0.266,-0.132 -0.411,-0.098c-0.11,0.026 -0.206,0.092 -0.27,0.182c-0.371,0.878 -0.463,1.881 -0.197,2.871l0.002,0.008c0.366,1.353 1.319,2.396 2.515,2.908c0.109,0.047 0.171,0.163 0.148,0.279c-0.06,0.297 -0.172,0.852 -0.24,1.189c-0.014,0.072 -0.059,0.134 -0.123,0.169c-0.045,0.026 -0.096,0.036 -0.147,0.031c-0.021,-0.002 -0.041,-0.007 -0.061,-0.014c-1.763,-0.679 -3.192,-2.159 -3.722,-4.12l-0.003,-0.009Zm6.045,4.524c-0.025,-0.11 -0.019,-0.226 0.02,-0.336l1.533,-4.359c0.066,-0.189 0.221,-0.333 0.415,-0.385c0.193,-0.053 0.4,-0.006 0.553,0.123l0.75,0.637c0.114,0.097 0.266,0.133 0.411,0.099c0.11,-0.027 0.206,-0.092 0.27,-0.182c0.371,-0.878 0.463,-1.881 0.197,-2.871l-0.002,-0.008c-0.367,-1.353 -1.322,-2.39 -2.515,-2.909c-0.109,-0.046 -0.171,-0.162 -0.148,-0.278c0.06,-0.297 0.172,-0.852 0.24,-1.189c0.014,-0.072 0.059,-0.134 0.123,-0.17c0.045,-0.025 0.096,-0.035 0.147,-0.03c0.021,0.002 0.041,0.007 0.061,0.014c1.763,0.679 3.191,2.159 3.722,4.12l0.003,0.009c0.432,1.595 0.19,3.216 -0.551,4.558c-0.11,0.194 -0.067,0.439 0.103,0.583c0.192,0.166 0.455,0.39 0.711,0.607c0.173,0.147 0.25,0.377 0.2,0.597c-0.049,0.221 -0.216,0.396 -0.435,0.455l-5.055,1.369c-0.218,0.059 -0.451,-0.008 -0.605,-0.174c-0.075,-0.08 -0.125,-0.177 -0.148,-0.28Z" class="svelte-wof6i3"></path></svg>');function xt(r,t){let e=o0(t,"isActive",3,!0),c=o0(t,"isSelected",3,!1);var i=_t();let o;z(v=>o=n0(i,0,"svelte-wof6i3",null,o,v),[()=>({disabled:!e(),spin:c()})]),n(r,i)}function wt(r,t,e){t()&&(r0(e,!0),setTimeout(()=>{r0(e,!1)},300))}var kt=q(`<svg width="100%" height="100%" viewBox="0 0 14 13" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g><path d="M3.654,5.076c-0.113,-0.097 -0.265,-0.133 -0.41,-0.099c-0.145,0.035 -0.264,0.136 -0.322,0.274c-0.329,0.858 -0.404,1.825 -0.145,2.779c0.639,2.363 3.076,3.761 5.438,3.122c2.363,-0.64 3.762,-3.077 3.122,-5.439c-0.366,-1.353 -1.321,-2.389 -2.515,-2.908c-0.109,-0.046 -0.17,-0.163 -0.147,-0.279c0.059,-0.297 0.171,-0.852 0.239,-1.189c0.015,-0.072 0.06,-0.134 0.123,-0.169c0.064,-0.036 0.141,-0.042 0.209,-0.017c1.763,0.679 3.191,2.159 3.722,4.121c0.883,3.262 -1.049,6.628 -4.311,7.511c-3.263,0.883 -6.628,-1.049 -7.511,-4.311c-0.432,-1.596 -0.191,-3.216 0.55,-4.559c0.111,-0.194 0.068,-0.439 -0.102,-0.583c-0.192,-0.166 -0.455,-0.389 -0.711,-0.607c-0.173,-0.147 -0.25,-0.377 -0.201,-0.597c0.05,-0.221 0.217,-0.396 0.436,-0.455c1.371,-0.371 3.683,-0.997 5.055,-1.369c0.218,-0.059 0.451,0.008 0.605,0.174c0.154,0.166 0.203,0.403 0.128,0.616c-0.436,1.24 -1.138,3.237 -1.533,4.359c-0.066,0.189 -0.222,0.333 -0.415,0.385c-0.194,0.053 -0.401,0.007 -0.553,-0.123c-0.249,-0.212 -0.525,-0.446 -0.751,-0.637Z" class="svelte-jhhttk"></path><g transform="matrix(4.00107,0,0,4.00107,10.405,8.71918)"></g><text x="4.247px" y="8.719px" style="font-family:'Varta-Bold', 'Varta';font-weight:700;font-size:4.001px;" class="svelte-jhhttk">ALL</text></g></svg>`);function yt(r,t){let e=o0(t,"isActive",3,!0),c=P0(!1);var i=kt();i.__click=[wt,e,c];let o;z(v=>o=n0(i,0,"svelte-jhhttk",null,o,v),[()=>({disabled:!e(),spin:s(c)})]),n(r,i)}p0(["click"]);var bt=(r,t)=>{t()==!0?t(!1):(t()==!1,t(!0))},$t=A('<button class="svelte-whxx7j"><!> <!></button>');function te(r,t){K(t,!0);let e=o0(t,"isOpened",15);var c=$t();c.__click=[bt,e];var i=f(c);B0(i,{get isOpened(){return e()},isVertical:!1});var o=u(i,2);ee(o,()=>t.children),d(c),n(r,c),J()}p0(["click"]);var St=A('<h3 class="svelte-utaoqk"> </h3>');function Mt(r,t){K(t,!0);let e=o0(t,"isOpened",15);function c(o){return o.split(".").at(-1)||""}function i(o){return o.split("."+c(o))[0]}te(r,{get isOpened(){return e()},set isOpened(o){e(o)},children:(o,v)=>{var g=St(),h=f(g,!0);d(g),z((p,w)=>{s0(g,"data-class",p),W(h,w)},[()=>i(t.name),()=>c(t.name)]),n(o,g)},$$slots:{default:!0}}),J()}var Ot=q('<svg width="100%" height="100%" viewBox="0 0 14 13" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g><path d="M3.654,5.076c-0.113,-0.097 -0.265,-0.133 -0.41,-0.099c-0.145,0.035 -0.264,0.136 -0.322,0.274c-0.329,0.858 -0.404,1.825 -0.145,2.779c0.639,2.363 3.076,3.761 5.438,3.122c2.363,-0.64 3.762,-3.077 3.122,-5.439c-0.366,-1.353 -1.321,-2.389 -2.515,-2.908c-0.109,-0.046 -0.17,-0.163 -0.147,-0.279c0.059,-0.297 0.171,-0.852 0.239,-1.189c0.015,-0.072 0.06,-0.134 0.123,-0.169c0.064,-0.036 0.141,-0.042 0.209,-0.017c1.763,0.679 3.191,2.159 3.722,4.121c0.883,3.262 -1.049,6.628 -4.311,7.511c-3.263,0.883 -6.628,-1.049 -7.511,-4.311c-0.432,-1.596 -0.191,-3.216 0.55,-4.559c0.111,-0.194 0.068,-0.439 -0.102,-0.583c-0.192,-0.166 -0.455,-0.389 -0.711,-0.607c-0.173,-0.147 -0.25,-0.377 -0.201,-0.597c0.05,-0.221 0.217,-0.396 0.436,-0.455c1.371,-0.371 3.683,-0.997 5.055,-1.369c0.218,-0.059 0.451,0.008 0.605,0.174c0.154,0.166 0.203,0.403 0.128,0.616c-0.436,1.24 -1.138,3.237 -1.533,4.359c-0.066,0.189 -0.222,0.333 -0.415,0.385c-0.194,0.053 -0.401,0.007 -0.553,-0.123c-0.249,-0.212 -0.525,-0.446 -0.751,-0.637Z" class="svelte-1p9cwh8"></path></g></svg>');function Y0(r,t){K(t,!0);let e=o0(t,"isActive",3,!0),c=P0(!1);U0(()=>{e()||s(c)||(r0(c,!0),setTimeout(()=>{r0(c,!1)},300))});var i=Ot();let o;z(v=>o=n0(i,0,"svelte-1p9cwh8",null,o,v),[()=>({disabled:!e(),spin:s(c)})]),n(r,i),J()}function Vt(r,t){let e=o0(t,"depth",3,0);se(r,{get item(){return t.item},get depth(){return e()}})}var Pt=(r,t)=>{t()},At=A('<p style="margin-left: -24px;" class="svelte-f7jrs1"><button class="svelte-f7jrs1"><!></button> <!></p> <form><!></form>',1),jt=(r,t)=>{t()},Ft=A('<p style="margin-left: -24px;" class="svelte-f7jrs1"><button class="svelte-f7jrs1"><!></button> <!></p> <!>',1),Ct=A('<p class="svelte-f7jrs1"><!> </p>'),Rt=A('<div class="two svelte-f7jrs1" style="margin-left: -20px;"><!></div> <div class="two svelte-f7jrs1"></div>',1),Nt=A('<div class="two svelte-f7jrs1"><p class="svelte-f7jrs1"><!> </p></div>'),It=A("<div><!></div>");function se(r,t){K(t,!0);let e=o0(t,"item",7),c=o0(t,"depth",3,0);function i(){e().isValid&&(M0.sendMessage({kind:"updatedJvmFields",fields:[{id:e().id,newValueString:e().newValueString}]}),e().valueString=e().newValueString,e().value=e().newValueString)}function o(p){var k;const w=(k=a.searchParam)==null?void 0:k.toLowerCase();if(!w)return p;const _=p.toLowerCase().indexOf(w);if(_===-1)return p;const l=p.slice(0,_),$=p.slice(_,_+w.length),S=p.slice(_+w.length);return`<span>${l}<span class="highlight">${$}</span>${S}</span>`}var v=j0(),g=B(v);{var h=p=>{var w=It();let _;var l=f(w);{var $=k=>{var P=At(),O=B(P),j=f(O);j.__click=[Pt,i];var V=f(j);const R=Z(()=>e().valueString!=e().newValueString&&e().isValid);Y0(V,{get isActive(){return s(R)}}),d(j);var N=u(j,2);N0(N,()=>o(e().fieldName)),d(O);var F=u(O,2),D=f(F);const y=Z(()=>e().type.toUpperCase()),b=Z(()=>je(e().type));Ae(D,{get type(){return s(y)},get validate(){return s(b)},get value(){return e().value},set value(x){e().value=x},get isValid(){return e().isValid},set isValid(x){e().isValid=x},get startValue(){return e().valueString},set startValue(x){e().valueString=x},get currentValue(){return e().newValueString},set currentValue(x){e().newValueString=x}}),d(F),H0("submit",F,()=>{i()}),n(k,P)},S=(k,P)=>{{var O=V=>{var R=Ft(),N=B(R),F=f(N);F.__click=[jt,i];var D=f(F);const y=Z(()=>e().valueString!=e().newValueString&&e().isValid);Y0(D,{get isActive(){return s(y)}}),d(F);var b=u(F,2);N0(b,()=>o(e().fieldName)),d(N);var x=u(N,2);const I=Z(()=>e().type.toUpperCase());O0(x,{get possibleValues(){return e().possibleValues},get type(){return s(I)},get value(){return e().value},set value(m){e().value=m},get isValid(){return e().isValid},set isValid(m){e().isValid=m},get startValue(){return e().valueString},set startValue(m){e().valueString=m},get currentValue(){return e().newValueString},set currentValue(m){e().newValueString=m}}),n(V,R)},j=(V,R)=>{{var N=D=>{var y=Rt(),b=B(y),x=f(b);te(x,{get isOpened(){return e().isOpened},set isOpened(m){e().isOpened=m},children:(m,E)=>{var C=Ct(),T=f(C);N0(T,()=>o(e().fieldName));var M=u(T);d(C),z(()=>W(M,` ${e().type??""}`)),n(m,C)},$$slots:{default:!0}}),d(b);var I=u(b,2);Y(I,21,()=>e().customValues,H,(m,E)=>{A0(m,{get isShown(){return e().isOpened},children:(C,T)=>{const M=Z(()=>c()+1);Vt(C,{get item(){return s(E)},get depth(){return s(M)}})}})}),d(I),n(D,y)},F=D=>{var y=Nt(),b=f(y),x=f(b);N0(x,()=>o(e().fieldName));var I=u(x);d(b),d(y),z(()=>W(I,` ${e().type??""}`)),n(D,y)};L(V,D=>{e().type==e0.CUSTOM||e().type==e0.ARRAY||e().type==e0.MAP||e().type==e0.LIST?D(N):D(F,!1)},R)}};L(k,V=>{e().type===e0.ENUM||e().type===e0.BOOLEAN?V(O):V(j,!1)},P)}};L(l,k=>{[e0.INT,e0.LONG,e0.DOUBLE,e0.FLOAT,e0.STRING].includes(e().type)?k($):k(S,!1)})}d(w),z(k=>{S0(w,`--depth:${c()??""};`),_=n0(w,1,"svelte-f7jrs1",null,_,k)},[()=>({item:e(),disabled:e().type==e0.UNKNOWN,first:c()==0})]),n(p,w)};L(g,p=>{e().isShown&&p(h)})}n(r,v),J()}p0(["click"]);function ae(r,t){if(!r)return;const e={};I0(r,i=>{const o=t(i);return i.isShown=o,o},(i,o)=>{const v=t(i),g=o.some(Boolean),h=v||g;return v?(i.isOpened=!0,i.isShown=!0,D0(i.customValues??[],p=>{p.isShown=!0},p=>{p.isShown=!0,p.isOpened=!0})):(i.isOpened=g,i.isShown=h),h});const c=i=>{i.isShown&&(e[i.className]=!0)};D0(a.jvmFields,c,c),a.openedStates=e}function Dt(r,t){r=r.toLowerCase(),ae(t,e=>{var c;return(c=e.fieldName)==null?void 0:c.toLowerCase().includes(r)})}let V0={openedStates:{},isOpenedMap:new Map};function re(){V0.openedStates={...a.openedStates},V0.isOpenedMap=new Map,D0(a.jvmFields,r=>{},r=>{V0.isOpenedMap.set(r.id,r.isOpened??!1)})}function le(){a.openedStates={...V0.openedStates},D0(a.jvmFields,r=>{r.isShown=!0},r=>{r.isShown=!0,r.isOpened=V0.isOpenedMap.get(r.id)??!1})}function Tt(r){if(a.searchParam=r,r!="")a.configurablesState==i0.NORMAL&&re(),a.configurablesState=i0.SEARCH,Dt(r,a.jvmFields);else if(a.configurablesState==i0.SEARCH){a.configurablesState=i0.NORMAL,le();return}}function zt(){if(a.configurablesState==i0.DIFF){le(),a.configurablesState=i0.NORMAL;return}a.configurablesState==i0.NORMAL&&re(),a.configurablesState=i0.DIFF,Et(a.jvmFields)}function Et(r){ae(r,t=>t.valueString!=a.initialJvmFields.get(t.id))}function Zt(r){let t=!1;return I0(r,e=>e.valueString!==a.initialJvmFields.get(e.id)?(t=!0,!0):!1,()=>t),t}var t0=Fe(()=>a),Lt=r=>{const t=r.target;t&&Tt(t.value)},Bt=()=>{zt()},Ut=A('<!> <input class="search svelte-1epp9tw" type="text" placeholder="Search"> <button class="svelte-1epp9tw"><!></button> <button class="svelte-1epp9tw"><!></button>',1),Wt=A("<!> <!>",1),Xt=A("<p>No configurables found.</p>"),Gt=A('<div class="content svelte-1epp9tw"><!> <!></div>'),Yt=A("<!> <!>",1);function Ht(r,t){K(t,!1);function e(v){const g={};for(const h of v)g.hasOwnProperty(h.className)||(g[h.className]=[]),g[h.className].push(h);return g}function c(v){return I0(v,g=>g.valueString!==g.newValueString&&g.isValid,(g,h)=>h.some(Boolean)).some(Boolean)}function i(v){return I0(v,h=>h.valueString!==h.newValueString&&h.isValid?{id:h.id,newValueString:h.newValueString}:null,(h,p)=>null).filter(h=>h!==null)}function o(v){v!=null&&M0.sendMessage({kind:"updatedJvmFields",fields:i(v)})}W0(),f0(r,{children:(v,g)=>{var h=Yt(),p=B(h);K0(p,{children:(_,l)=>{var $=Ut(),S=B($);J0(S,{children:(D,y)=>{l0();var b=a0("Configurables");n(D,b)}});var k=u(S,2);k.__input=[Lt];var P=u(k,2);P.__click=()=>{o(t0().jvmFields)};var O=f(P);const j=$0(()=>c(t0().jvmFields));yt(O,{get isActive(){return s(j)}}),d(P);var V=u(P,2);V.__click=[Bt];var R=f(V);const N=$0(()=>Zt(t0().jvmFields)),F=$0(()=>t0().configurablesState==i0.DIFF);xt(R,{get isActive(){return s(N)},get isSelected(){return s(F)}}),d(V),n(_,$)}});var w=u(p,2);F0(w,{children:(_,l)=>{var $=Gt(),S=f($);Y(S,1,()=>Object.entries(e(t0().jvmFields)),H,(O,j)=>{let V=()=>s(j)[0],R=()=>s(j)[1];const N=$0(()=>t0().openedStates[V()]||t0().configurablesState==i0.NORMAL);A0(O,{get isShown(){return s(N)},children:(F,D)=>{var y=Wt(),b=B(y);Mt(b,{get name(){return V()},get isOpened(){return t0().openedStates[V()]},set isOpened(m){t0(t0().openedStates[V()]=m)},$$legacy:!0});var x=u(b,2);const I=$0(()=>t0().openedStates[V()]==!0);A0(x,{get isShown(){return s(I)},children:(m,E)=>{var C=j0(),T=B(C);Y(T,1,R,H,(M,X)=>{se(M,{get item(){return s(X)}})}),n(m,C)},$$slots:{default:!0}}),n(F,y)}})});var k=u(S,2);{var P=O=>{var j=Xt();n(O,j)};L(k,O=>{t0().jvmFields.length==0&&O(P)})}d($),n(_,$)}}),n(v,h)},$$slots:{default:!0}}),J()}p0(["input","click"]);var qt=q('<svg width="100%" height="100%" viewBox="0 0 14 14" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" class="svelte-91aoq6"><g><path d="M13.732,7.331c-0,0.2 -0.162,0.362 -0.362,0.362c-1.937,-0 -11.072,-0 -13.009,-0c-0.199,-0 -0.361,-0.162 -0.361,-0.362c-0,-0.276 -0,-0.654 0,-0.93c-0,-0.2 0.162,-0.362 0.361,-0.362c1.937,0 11.072,0 13.009,0c0.2,0 0.362,0.162 0.362,0.362c-0,0.276 -0,0.654 -0,0.93Z" class="svelte-91aoq6"></path><path d="M6.401,13.732c-0.2,-0 -0.362,-0.162 -0.362,-0.362c0,-1.937 0,-11.072 0,-13.009c0,-0.199 0.162,-0.361 0.362,-0.361c0.276,-0 0.654,-0 0.93,-0c0.2,-0 0.362,0.162 0.362,0.361c-0,1.937 -0,11.072 -0,13.009c-0,0.2 -0.162,0.362 -0.362,0.362c-0.276,-0 -0.654,-0 -0.93,-0Z" class="svelte-91aoq6"></path></g></svg>');function Kt(r){var t=qt();n(r,t)}var Jt=A('<p style="padding: 1rem;">Waiting for data</p>');function Qt(r,t){K(t,!0);let e=Z(()=>a.plugins.find(p=>p.id===t.pluginID)),c=Z(()=>s(e).pages.find(p=>p.id===t.pageID)),i=Z(()=>s(c).html.replace(/<dynamic>(.*?)<\/dynamic>/gi,(p,w)=>{const _=w.trim();return s(e).globalVariables[w.trim()]?`<span class="dynamic" data-key="${_}">${s(e).globalVariables[w.trim()]}</span>`:(console.warn("Empty or invalid key inside <dynamic> tag"),'<span class="dynamic-placeholder-error">[Missing Key]</span>')}));Pe(()=>{const p=_=>{const $=_.currentTarget.getAttribute("data-action");$!==null&&console.log("Action triggered:",$)},w=document.querySelectorAll("button.action");return w.forEach(_=>{_.addEventListener("click",p)}),()=>{w.forEach(_=>{_.removeEventListener("click",p)})}});var o=j0(),v=B(o);{var g=p=>{Re(p,{get html(){return s(i)},get id(){return s(e).id}})},h=p=>{var w=Jt();n(p,w)};L(v,p=>{s(e)&&s(c)?p(g):p(h,!1)})}n(r,o),J()}var es=(r,t,e)=>{t().startMoving(s(e).id)},ts=(r,t,e)=>{t().remove(s(e).id)},ss=(r,t,e)=>{if(t().canExpandRight(s(e))){s(e).sizes.x++;return}if(t().canExpandLeft(s(e))){s(e).sizes.x++,s(e).start.x--;return}T0.add("Not enough space to expand horizontally.")},as=(r,t)=>{s(t).sizes.x<=2?T0.add("Cannot make this small."):s(t).sizes.x--},rs=(r,t,e)=>{if(t().canExpandDown(s(e))){s(e).sizes.y++;return}if(t().canExpandUp(s(e))){s(e).sizes.y++,s(e).start.y--;return}T0.add("Not enough space to expand vertically.")},ls=(r,t)=>{s(t).sizes.y<=2?T0.add("Cannot make this small."):s(t).sizes.y--},ns=A("<!> <!>",1),is=A('<p style="padding: 1rem;">CUSTOM not valid</p>'),os=A('<p style="padding: 1rem;"> </p>'),cs=A('<div><div><button class="svelte-1phsk00"><!></button> <button class="svelte-1phsk00"><!></button> <button class="svelte-1phsk00"><!></button> <button class="svelte-1phsk00"><!></button> <button class="svelte-1phsk00"><!></button> <button class="svelte-1phsk00"><!></button> <!> <!></div> <!></div>'),vs=A('<div class="item svelte-1phsk00"><!></div>'),ds=A("<button><!></button>"),us=(r,t)=>{if(t().selectedWidget!=null){if(!t().canPlace){t().stopMoving("Cannot move there.");return}t().performMove(),t().stopMoving(null)}},ps=A("<p></p>"),fs=A('<section role="button" tabindex="0" class="svelte-1phsk00"></section>'),gs=A('<div class="container svelte-1phsk00"><section class="svelte-1phsk00"><!> <!> <!></section> <!></div>');function ms(r,t){K(t,!0);let e=o0(t,"gridManager",7);var c=gs(),i=f(c),o=f(i);Y(o,17,()=>e().modules,H,(_,l,$)=>{var S=cs();let k;var P=f(S);let O;var j=f(P);j.__mousedown=[es,e,l];var V=f(j);Ee(V),d(j);var R=u(j,2);R.__click=[ts,e,l];var N=f(R);Ce(N),d(R);var F=u(R,2);F.__click=[ss,e,l];var D=f(F);Ie(D),d(F);var y=u(F,2);y.__click=[as,l];var b=f(y);Te(b),d(y);var x=u(y,2);x.__click=[rs,e,l];var I=f(x);Le(I),d(x);var m=u(x,2);m.__click=[ls,l];var E=f(m);Ue(E),d(m);var C=u(m,2);O0(C,{type:"",get startValue(){return s(l).type},get value(){return s(l).type},possibleValues:be,isValid:!0,alwaysValid:!0,get currentValue(){return s(l).type},set currentValue(G){s(l).type=G}});var T=u(C,2);{var M=G=>{var g0=ns(),C0=B(g0);const z0=Z(()=>[...a.plugins.map(c0=>c0.id),"none"]);O0(C0,{type:"",get startValue(){return s(l).pluginID},get value(){return s(l).pluginID},get possibleValues(){return s(z0)},isValid:!0,alwaysValid:!0,get currentValue(){return s(l).pluginID},set currentValue(c0){s(l).pluginID=c0}});var d0=u(C0,2);{var E0=c0=>{const Z0=Z(()=>[...a.plugins.find(Q=>Q.id==s(l).pluginID).pages.map(Q=>Q.id),"none"]);O0(c0,{type:"",get startValue(){return s(l).pageID},get value(){return s(l).pageID},get possibleValues(){return s(Z0)},isValid:!0,alwaysValid:!0,get currentValue(){return s(l).pageID},set currentValue(Q){s(l).pageID=Q}})};L(d0,c0=>{s(l).pluginID!="none"&&c0(E0)})}n(G,g0)};L(T,G=>{s(l).type==v0.CUSTOM&&G(M)})}d(P);var X=u(P,2);{var U=G=>{pt(G,{})},ne=(G,g0)=>{{var C0=d0=>{Se(d0,{get gamepad(){return Me.gamepads[0]}})},z0=(d0,E0)=>{{var c0=Q=>{Oe(Q,{})},Z0=(Q,ie)=>{{var oe=m0=>{ht(m0,{})},ce=(m0,ve)=>{{var de=h0=>{Ht(h0,{})},ue=(h0,pe)=>{{var fe=_0=>{Je(_0,{})},ge=(_0,me)=>{{var he=x0=>{et(x0,{})},_e=(x0,xe)=>{{var we=w0=>{var R0=j0(),X0=B(R0);{var b0=k0=>{Qt(k0,{get pluginID(){return s(l).pluginID},get pageID(){return s(l).pageID}})},L0=k0=>{var ye=is();n(k0,ye)};L(X0,k0=>{s(l).pluginID&&s(l).pageID?k0(b0):k0(L0,!1)})}n(w0,R0)},ke=w0=>{f0(w0,{title:"Unknown Type",children:(R0,X0)=>{var b0=os(),L0=f(b0);d(b0),z(()=>W(L0,`This is an unknown widget of type "${s(l).type??""}"`)),n(R0,b0)},$$slots:{default:!0}})};L(x0,w0=>{s(l).type==v0.CUSTOM?w0(we):w0(ke,!1)},xe)}};L(_0,x0=>{s(l).type==v0.CAPTURE?x0(he):x0(_e,!1)},me)}};L(h0,_0=>{s(l).type==v0.GRAPH?_0(fe):_0(ge,!1)},pe)}};L(m0,h0=>{s(l).type==v0.CONFIGURABLES?h0(de):h0(ue,!1)},ve)}};L(Q,m0=>{s(l).type==v0.TELEMETRY?m0(oe):m0(ce,!1)},ie)}};L(d0,Q=>{s(l).type==v0.FIELD?Q(c0):Q(Z0,!1)},E0)}};L(G,d0=>{s(l).type==v0.GAMEPAD?d0(C0):d0(z0,!1)},g0)}};L(X,G=>{s(l).type==v0.CONTROLS?G(U):G(ne,!1)})}d(S),z((G,g0)=>{k=n0(S,1,"item svelte-1phsk00",null,k,G),S0(S,`
        grid-column: ${s(l).start.x??""} / span ${s(l).sizes.x??""};
        grid-row: ${s(l).start.y??""} / span ${s(l).sizes.y??""};
        `),O=n0(P,1,"controls svelte-1phsk00",null,O,g0)},[()=>({isOverlay:e().selectedWidgetId==s(l).id}),()=>({shown:a.showEdit})]),n(_,S)});var v=u(o,2);{var g=_=>{var l=vs(),$=f(l);f0($,{isPrimary:!0}),d(l),z(()=>S0(l,`
  grid-column: ${e().selectedCellX??""} / span ${e().selectedWidget.sizes.x??""};
  grid-row: ${e().selectedCellY??""} / span ${e().selectedWidget.sizes.y??""};
  `)),n(_,l)};L(v,_=>{e().selectedWidget!=null&&_(g)})}var h=u(v,2);Y(h,17,()=>Array.from({length:e().cellsX*e().cellsY}),H,(_,l,$)=>{var S=ds();const k=Z(()=>e().modulesMap[Math.floor($/e().cellsX)+1][$%e().cellsX+1]);let P;S.__click=()=>{e().addNew($%e().cellsX+1,Math.floor($/e().cellsX)+1)};var O=f(S);Kt(O),d(S),z(j=>{S0(S,s(k)!=null?"display: none;":""),P=n0(S,1,"add svelte-1phsk00",null,P,j)},[()=>({shown:a.showEdit&&!e().isMoving})]),n(_,S)}),d(i);var p=u(i,2);{var w=_=>{var l=fs();l.__mouseup=[us,e],Y(l,21,()=>Array.from({length:e().cellsX*e().cellsY}),H,($,S,k)=>{var P=ps();const O=Z(()=>e().modulesMap[Math.floor(k/e().cellsX)+1][k%e().cellsX+1]);let j;P.__mouseover=()=>{if(console.log(k),e().selectedWidget==null)return;const V=e().selectedWidget,R=k%e().cellsX+1,N=Math.floor(k/e().cellsX)+1,F=e().coreCheckPlace(R,N,V),D=e().coreCheckPlace(R,e().selectedCellY,V),y=e().coreCheckPlace(e().selectedCellX,N,V);console.log("canPlaceBoth",F),console.log("canPlaceX",D),console.log("canPlaceY",y),(D||F)&&(e().selectedCellX=R),(y||F)&&(e().selectedCellY=N)},z(V=>j=n0(P,1,"overlay-item svelte-1phsk00",null,j,V),[()=>({isEmpty:s(O)!=null&&s(O)!=e().selectedWidgetId})]),H0("focus",P,()=>{}),n($,P)}),d(l),n(_,l)};L(p,_=>{e().isMoving&&_(w)})}d(c),z(()=>S0(c,`--cellsX:${e().cellsX??""} ;--cellsY: ${e().cellsY??""};`)),n(r,c),J()}p0(["mousedown","click","mouseup","mouseover"]);function Ds(r,t){K(t,!1),W0(),ms(r,{get gridManager(){return $e.currentGrid}}),J()}export{Ds as component};
