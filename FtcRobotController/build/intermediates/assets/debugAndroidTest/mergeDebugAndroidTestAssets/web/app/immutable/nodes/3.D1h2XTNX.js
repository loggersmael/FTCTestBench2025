import{t as f,c as D,b as l}from"../chunks/DgPgYHzS.js";import"../chunks/CE_tkPBO.js";import{Q as q,T as g,U as P,X as n,W as p,V as $,d as s,R as z,a6 as F,a7 as M,a5 as Q}from"../chunks/DxySB33y.js";import{s as A,e as I}from"../chunks/DG_-0HLc.js";import{e as S,i as w}from"../chunks/qMzyVM-B.js";import{i as R}from"../chunks/vRacDtxp.js";import{o as T}from"../chunks/DyQLA_-o.js";import{i as U}from"../chunks/DQEzFBYC.js";import{a as L}from"../chunks/B8qkImnQ.js";import{g as k,s as V,S as W}from"../chunks/CdgVfM5E.js";import{G as X}from"../chunks/CLDNsC-7.js";var j=f('<div class="trigger svelte-fy4rvm"><p> </p> <progress max="1" class="svelte-fy4rvm"></progress></div>'),E=f("<button> </button>"),H=f('<div class="axis svelte-fy4rvm"><label> </label> <progress max="2" class="svelte-fy4rvm"></progress></div>'),J=f('<h4>Buttons</h4> <div class="buttons svelte-fy4rvm"></div> <h4>Axes</h4> <div class="axes svelte-fy4rvm"></div>',1);function K(B,u){q(u,!0);var _=J(),x=g(P(_),2);S(x,21,()=>u.gamepad.buttons,w,(d,r,o)=>{var i=D(),a=P(i);{var m=v=>{var e=j(),t=p(e),h=p(t);n(t);var c=g(t,2);n(e),$((G,C)=>{A(h,`${G??""} (${C??""}%)`),L(c,s(r).value)},[()=>k.getPS4ButtonLabel(o),()=>(s(r).value*100).toFixed(0)]),l(v,e)},b=v=>{var e=E();let t;var h=p(e,!0);n(e),$((c,G)=>{t=V(e,1,"svelte-fy4rvm",null,t,c),A(h,G)},[()=>({pressed:s(r).pressed}),()=>k.getPS4ButtonLabel(o)]),l(v,e)};U(a,v=>{o===6||o===7?v(m):v(b,!1)})}l(d,i)}),n(x);var y=g(x,4);S(y,21,()=>u.gamepad.axes,w,(d,r,o)=>{var i=H(),a=p(i),m=p(a);n(a);var b=g(a,2);n(i),$(v=>{A(m,`Axis ${o??""} (${v??""})`),L(b,s(r)+1)},[()=>s(r).toFixed(2)]),l(d,i)}),n(y),l(B,_),z()}var N=f('<div class="gamepad svelte-1bzmxyh"><p> </p> <!> <!></div>'),O=f("<h2>Connected Gamepads</h2> <!>",1);function ma(B,u){q(u,!1);let _=M([]);function x(a){console.log("Gamepad connected:",a.gamepad),d()}function y(a){console.log("Gamepad disconnected:",a.gamepad),d()}function d(){Q(_,navigator.getGamepads?Array.from(navigator.getGamepads()).filter(a=>a):[])}function r(){d(),requestAnimationFrame(r)}T(()=>{r()}),R();var o=O();I("gamepadconnected",F,x),I("gamepaddisconnected",F,y);var i=g(P(o),2);S(i,1,()=>s(_),w,(a,m)=>{W(a,{get title(){return s(m).id},children:(b,v)=>{var e=N(),t=p(e),h=p(t);n(t);var c=g(t,2);X(c,{get gamepad(){return s(m)}});var G=g(c,2);K(G,{get gamepad(){return s(m)}}),n(e),$(()=>A(h,`Index: ${s(m).index??""}`)),l(b,e)},$$slots:{default:!0}})}),l(B,o),z()}export{ma as component};
