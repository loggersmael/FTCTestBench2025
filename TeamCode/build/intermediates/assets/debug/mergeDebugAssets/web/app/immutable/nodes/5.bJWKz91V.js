var je=Object.defineProperty;var Ce=(s,t,e)=>t in s?je(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var x0=(s,t,e)=>Ce(s,typeof t!="symbol"?t+"":t,e);import{n as t0,a as d,t as A,c as T0,d as n0}from"../chunks/DdhgiPT7.js";import{i as J0}from"../chunks/CxjMPZbY.js";import{p as K,u as U0,c as g,r as p,a as J,f as B,s as f,g as a,t as z,b as R0,e as i0,n as o0,d as Z,T as A0}from"../chunks/JIWhQ8jE.js";import{a as Re,W as p0,s as De}from"../chunks/C6tIL26B.js";import{d as g0,s as H,e as ae}from"../chunks/DO3h8_lC.js";import{i as W}from"../chunks/D2trKxqf.js";import{r as le,e as Q,i as e0,s as r0}from"../chunks/CmIvrgs0.js";import{S as _0,s as c0,H as re,T as ne}from"../chunks/CY4LmurE.js";import{s as I0,G as Te}from"../chunks/DbnbFdjk.js";import{p as v0}from"../chunks/Bn6eXXEA.js";import{i as r,s as F0,T as a0,f as L0,C as d0,a as Z0,n as B0,g as Ne}from"../chunks/BSN0bPPh.js";import{b as ie,a as j0,B as m0,A as q0,h as z0,S as Ee,c as ze,r as Le,R as Ze}from"../chunks/DZvVrwWJ.js";import{b as We}from"../chunks/Cko1okt-.js";import{o as oe,a as Ue}from"../chunks/DxECzNoP.js";import{C as P0}from"../chunks/DoZ-F7T3.js";import{p as O0}from"../chunks/cgOoaaI0.js";import{s as ce}from"../chunks/BKon7-pV.js";import{R as Be}from"../chunks/BaKEOy35.js";var Xe=t0('<svg width="100%" height="100%" viewBox="0 0 18 7" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" class="svelte-8ek7md"><g><path d="M0.968,4.032c-0.207,-0.128 -0.333,-0.354 -0.333,-0.597c-0,-0.243 0.126,-0.469 0.333,-0.597c0.987,-0.608 2.514,-1.549 3.535,-2.179c0.217,-0.133 0.488,-0.139 0.71,-0.015c0.222,0.123 0.359,0.358 0.359,0.612c0,1.238 0,3.12 0,4.358c0,0.254 -0.137,0.489 -0.359,0.612c-0.222,0.124 -0.493,0.118 -0.71,-0.015c-1.021,-0.63 -2.548,-1.571 -3.535,-2.179Z" class="svelte-8ek7md"></path><path d="M16.674,2.838c0.207,0.128 0.333,0.354 0.333,0.597c-0,0.243 -0.126,0.469 -0.333,0.597c-0.987,0.608 -2.514,1.549 -3.536,2.179c-0.216,0.133 -0.488,0.139 -0.709,0.015c-0.222,-0.123 -0.36,-0.358 -0.36,-0.612c0,-1.238 0,-3.12 0,-4.358c0,-0.254 0.138,-0.489 0.36,-0.612c0.221,-0.124 0.493,-0.118 0.709,0.015c1.022,0.63 2.549,1.571 3.536,2.179Z" class="svelte-8ek7md"></path><path d="M3.71,2.97c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.807,0 2.749,0 3.556,0c0.096,0 0.188,0.038 0.256,0.106c0.068,0.068 0.106,0.16 0.106,0.256c-0,0.276 -0,0.654 -0,0.93c-0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.807,-0 -2.749,-0 -3.556,-0c-0.096,-0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.276 0,-0.654 0,-0.93Z" class="svelte-8ek7md"></path><path d="M13.931,3.9c0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.068 -0.159,0.106 -0.255,0.106c-0.808,-0 -2.75,-0 -3.557,-0c-0.096,-0 -0.188,-0.038 -0.255,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c-0,-0.276 -0,-0.654 -0,-0.93c-0,-0.096 0.038,-0.188 0.106,-0.256c0.067,-0.068 0.159,-0.106 0.255,-0.106c0.807,0 2.749,0 3.557,0c0.096,0 0.187,0.038 0.255,0.106c0.068,0.068 0.106,0.16 0.106,0.256c0,0.276 0,0.654 0,0.93Z" class="svelte-8ek7md"></path></g></svg>');function Ye(s){var t=Xe();d(s,t)}var He=t0('<svg width="100%" height="100%" viewBox="0 0 16 7" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" class="svelte-8ek7md"><g><path d="M7.022,2.838c0.207,0.128 0.333,0.354 0.333,0.597c0,0.243 -0.126,0.469 -0.333,0.597c-0.987,0.608 -2.514,1.549 -3.536,2.179c-0.216,0.133 -0.487,0.139 -0.709,0.015c-0.222,-0.123 -0.359,-0.358 -0.359,-0.612c-0,-1.238 -0,-3.12 -0,-4.358c-0,-0.254 0.137,-0.489 0.359,-0.612c0.222,-0.124 0.493,-0.118 0.709,0.015c1.022,0.63 2.549,1.571 3.536,2.179Z" class="svelte-8ek7md"></path><path d="M8.863,4.032c-0.207,-0.128 -0.333,-0.354 -0.333,-0.597c-0,-0.243 0.126,-0.469 0.333,-0.597c0.986,-0.608 2.513,-1.549 3.535,-2.179c0.216,-0.133 0.488,-0.139 0.71,-0.015c0.221,0.123 0.359,0.358 0.359,0.612c-0,1.238 -0,3.12 -0,4.358c-0,0.254 -0.138,0.489 -0.359,0.612c-0.222,0.124 -0.494,0.118 -0.71,-0.015c-1.022,-0.63 -2.549,-1.571 -3.535,-2.179Z" class="svelte-8ek7md"></path><path d="M4.28,3.9c-0,0.096 -0.039,0.188 -0.106,0.256c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.807,-0 -2.749,-0 -3.556,-0c-0.096,-0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c-0,-0.276 -0,-0.654 -0,-0.93c-0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.807,0 2.749,0 3.556,0c0.096,0 0.188,0.038 0.256,0.106c0.067,0.068 0.106,0.16 0.106,0.256c-0,0.276 -0,0.654 -0,0.93Z" class="svelte-8ek7md"></path><path d="M11.605,2.97c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.807,0 2.749,0 3.556,0c0.096,0 0.188,0.038 0.256,0.106c0.067,0.068 0.106,0.16 0.106,0.256c-0,0.276 -0,0.654 -0,0.93c-0,0.096 -0.039,0.188 -0.106,0.256c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.807,-0 -2.749,-0 -3.556,-0c-0.096,-0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.276 0,-0.654 0,-0.93Z" class="svelte-8ek7md"></path></g></svg>');function Ge(s){var t=He();d(s,t)}var qe=t0('<svg width="100%" height="100%" viewBox="0 0 18 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" class="svelte-7dk81x"><g><g><path d="M8.224,0.968c0.128,-0.207 0.354,-0.333 0.597,-0.333c0.243,-0 0.469,0.126 0.596,0.333c0.609,0.987 1.55,2.514 2.18,3.535c0.133,0.217 0.139,0.488 0.015,0.71c-0.124,0.222 -0.358,0.359 -0.612,0.359c-1.238,0 -3.12,0 -4.359,0c-0.254,0 -0.488,-0.137 -0.612,-0.359c-0.124,-0.222 -0.118,-0.493 0.016,-0.71c0.63,-1.021 1.571,-2.548 2.179,-3.535Z" style="fill:#fff;" class="svelte-7dk81x"></path><path d="M9.417,16.674c-0.127,0.207 -0.353,0.333 -0.596,0.333c-0.243,-0 -0.469,-0.126 -0.597,-0.333c-0.608,-0.987 -1.549,-2.514 -2.179,-3.536c-0.134,-0.216 -0.14,-0.488 -0.016,-0.709c0.124,-0.222 0.358,-0.36 0.612,-0.36c1.239,0 3.121,0 4.359,0c0.254,0 0.488,0.138 0.612,0.36c0.124,0.221 0.118,0.493 -0.015,0.709c-0.63,1.022 -1.571,2.549 -2.18,3.536Z" style="fill:#fff;" class="svelte-7dk81x"></path><path d="M9.286,3.71c0.096,0 0.188,0.038 0.256,0.106c0.067,0.068 0.105,0.16 0.105,0.256c0,0.807 0,2.749 0,3.556c0,0.096 -0.038,0.188 -0.105,0.256c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.276,-0 -0.654,-0 -0.93,-0c-0.096,-0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.807 0,-2.749 0,-3.556c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.276,0 0.654,0 0.93,0Z" style="fill:#fff;" class="svelte-7dk81x"></path><path d="M8.356,13.931c-0.096,0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.159 -0.106,-0.255c0,-0.808 0,-2.75 0,-3.557c0,-0.096 0.038,-0.188 0.106,-0.255c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.276,-0 0.654,-0 0.93,-0c0.096,-0 0.188,0.038 0.256,0.106c0.067,0.067 0.105,0.159 0.105,0.255c0,0.807 0,2.749 0,3.557c0,0.096 -0.038,0.187 -0.105,0.255c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.276,0 -0.654,0 -0.93,0Z" style="fill:#fff;" class="svelte-7dk81x"></path></g><g><path d="M0.968,9.417c-0.207,-0.127 -0.333,-0.353 -0.333,-0.596c-0,-0.243 0.126,-0.469 0.333,-0.597c0.987,-0.608 2.514,-1.549 3.535,-2.179c0.217,-0.134 0.488,-0.14 0.71,-0.016c0.222,0.124 0.359,0.358 0.359,0.612c0,1.239 0,3.121 0,4.359c0,0.254 -0.137,0.488 -0.359,0.612c-0.222,0.124 -0.493,0.118 -0.71,-0.015c-1.021,-0.63 -2.548,-1.571 -3.535,-2.18Z" style="fill:#fff;" class="svelte-7dk81x"></path><path d="M16.674,8.224c0.207,0.128 0.333,0.354 0.333,0.597c-0,0.243 -0.126,0.469 -0.333,0.596c-0.987,0.609 -2.514,1.55 -3.536,2.18c-0.216,0.133 -0.488,0.139 -0.709,0.015c-0.222,-0.124 -0.36,-0.358 -0.36,-0.612c0,-1.238 0,-3.12 0,-4.359c0,-0.254 0.138,-0.488 0.36,-0.612c0.221,-0.124 0.493,-0.118 0.709,0.016c1.022,0.63 2.549,1.571 3.536,2.179Z" style="fill:#fff;" class="svelte-7dk81x"></path><path d="M3.71,8.356c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.807,0 2.749,0 3.556,0c0.096,0 0.188,0.038 0.256,0.106c0.068,0.068 0.106,0.16 0.106,0.256c-0,0.276 -0,0.654 -0,0.93c-0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.067 -0.16,0.105 -0.256,0.105c-0.807,0 -2.749,0 -3.556,0c-0.096,0 -0.188,-0.038 -0.256,-0.105c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.276 0,-0.654 0,-0.93Z" style="fill:#fff;" class="svelte-7dk81x"></path><path d="M13.931,9.286c0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.067 -0.159,0.105 -0.255,0.105c-0.808,0 -2.75,0 -3.557,0c-0.096,0 -0.188,-0.038 -0.255,-0.105c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c-0,-0.276 -0,-0.654 -0,-0.93c-0,-0.096 0.038,-0.188 0.106,-0.256c0.067,-0.068 0.159,-0.106 0.255,-0.106c0.807,0 2.749,0 3.557,0c0.096,0 0.187,0.038 0.255,0.106c0.068,0.068 0.106,0.16 0.106,0.256c0,0.276 0,0.654 0,0.93Z" style="fill:#fff;" class="svelte-7dk81x"></path></g></g></svg>');function Ke(s){var t=qe();d(s,t)}var Je=t0('<svg width="100%" height="100%" viewBox="0 0 7 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" class="svelte-1wm7yl4"><g><path d="M2.838,0.968c0.128,-0.207 0.354,-0.333 0.597,-0.333c0.243,-0 0.469,0.126 0.597,0.333c0.608,0.987 1.549,2.514 2.179,3.535c0.133,0.217 0.139,0.488 0.015,0.71c-0.123,0.222 -0.358,0.359 -0.612,0.359c-1.238,0 -3.12,0 -4.358,0c-0.254,0 -0.489,-0.137 -0.612,-0.359c-0.124,-0.222 -0.118,-0.493 0.015,-0.71c0.63,-1.021 1.571,-2.548 2.179,-3.535Z" class="svelte-1wm7yl4"></path><path d="M4.032,16.674c-0.128,0.207 -0.354,0.333 -0.597,0.333c-0.243,-0 -0.469,-0.126 -0.597,-0.333c-0.608,-0.987 -1.549,-2.514 -2.179,-3.536c-0.133,-0.216 -0.139,-0.488 -0.015,-0.709c0.123,-0.222 0.358,-0.36 0.612,-0.36c1.238,0 3.12,0 4.358,0c0.254,0 0.489,0.138 0.612,0.36c0.124,0.221 0.118,0.493 -0.015,0.709c-0.63,1.022 -1.571,2.549 -2.179,3.536Z" class="svelte-1wm7yl4"></path><path d="M3.9,3.71c0.096,0 0.188,0.038 0.256,0.106c0.068,0.068 0.106,0.16 0.106,0.256c-0,0.807 -0,2.749 -0,3.556c-0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.276,-0 -0.654,-0 -0.93,-0c-0.096,-0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.807 0,-2.749 0,-3.556c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.276,0 0.654,0 0.93,0Z" class="svelte-1wm7yl4"></path><path d="M2.97,13.931c-0.096,0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.159 -0.106,-0.255c0,-0.808 0,-2.75 0,-3.557c0,-0.096 0.038,-0.188 0.106,-0.255c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.276,-0 0.654,-0 0.93,-0c0.096,-0 0.188,0.038 0.256,0.106c0.068,0.067 0.106,0.159 0.106,0.255c-0,0.807 -0,2.749 -0,3.557c-0,0.096 -0.038,0.187 -0.106,0.255c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.276,0 -0.654,0 -0.93,0Z" class="svelte-1wm7yl4"></path></g></svg>');function Qe(s){var t=Je();d(s,t)}var et=t0('<svg width="100%" height="100%" viewBox="0 0 7 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" class="svelte-1wm7yl4"><g><path d="M2.838,8.863c0.128,-0.207 0.354,-0.333 0.597,-0.333c0.243,-0 0.469,0.126 0.597,0.333c0.608,0.986 1.549,2.513 2.179,3.535c0.133,0.216 0.139,0.488 0.015,0.71c-0.123,0.221 -0.358,0.359 -0.612,0.359c-1.238,-0 -3.12,-0 -4.358,-0c-0.254,-0 -0.489,-0.138 -0.612,-0.359c-0.124,-0.222 -0.118,-0.494 0.015,-0.71c0.63,-1.022 1.571,-2.549 2.179,-3.535Z" class="svelte-1wm7yl4"></path><path d="M4.032,7.022c-0.128,0.207 -0.354,0.333 -0.597,0.333c-0.243,0 -0.469,-0.126 -0.597,-0.333c-0.608,-0.987 -1.549,-2.514 -2.179,-3.536c-0.133,-0.216 -0.139,-0.487 -0.015,-0.709c0.123,-0.222 0.358,-0.359 0.612,-0.359c1.238,-0 3.12,-0 4.358,-0c0.254,-0 0.489,0.137 0.612,0.359c0.124,0.222 0.118,0.493 -0.015,0.709c-0.63,1.022 -1.571,2.549 -2.179,3.536Z" class="svelte-1wm7yl4"></path><path d="M3.9,11.605c0.096,0 0.188,0.038 0.256,0.106c0.068,0.068 0.106,0.16 0.106,0.256c-0,0.807 -0,2.749 -0,3.556c-0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.067 -0.16,0.106 -0.256,0.106c-0.276,-0 -0.654,-0 -0.93,-0c-0.096,-0 -0.188,-0.039 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.807 0,-2.749 0,-3.556c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.276,0 0.654,0 0.93,0Z" class="svelte-1wm7yl4"></path><path d="M2.97,4.28c-0.096,-0 -0.188,-0.039 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.807 0,-2.749 0,-3.556c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.276,-0 0.654,-0 0.93,-0c0.096,-0 0.188,0.038 0.256,0.106c0.068,0.068 0.106,0.16 0.106,0.256c-0,0.807 -0,2.749 -0,3.556c-0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.067 -0.16,0.106 -0.256,0.106c-0.276,-0 -0.654,-0 -0.93,-0Z" class="svelte-1wm7yl4"></path></g></svg>');function tt(s){var t=et();d(s,t)}g0(["click"]);class U{constructor(t,e){x0(this,"inches");x0(this,"pixels");if(this.inches=t,e!==void 0)this.pixels=e;else{const n=f0.pixels/f0.inches;this.pixels=this.inches*n}}}const f0=new U(24*6,1024),K0=new U(24*6,1024);class Y{constructor(t,e){x0(this,"fieldX");x0(this,"fieldY");x0(this,"x");x0(this,"y");this.fieldX=t,this.fieldY=e;const n=f0.pixels/f0.inches;this.x=this.fieldX*n,this.y=this.fieldY*-n}static withData(t){return new Y(t.x,t.y)}}let x;function st(s){if(!s)return;const t=window.devicePixelRatio||1,e=f0.pixels*t,n=K0.pixels*t;s.width=e,s.height=n,x=s.getContext("2d"),x&&x.scale(t,t),x&&x.translate(f0.pixels/2,K0.pixels/2)}function at(s){x!=null&&x.moveTo(s.x,s.y)}function W0(s,t,e="red",n=new U(.03)){x!=null&&(x.beginPath(),at(s),x.lineTo(t.x,t.y),x.strokeStyle=e,x.lineWidth=n.pixels,x.stroke(),x.closePath())}function de(s,t="blue",e=3){x!=null&&(x.beginPath(),x.arc(s.x,s.y,e,0,2*Math.PI),x.fillStyle=t,x.fill(),x.closePath())}function lt(s,t){const e=f0.pixels/f0.inches,n=t*e;s.font=`${n}px Arial`}function rt(s,t="#333",e="#fff"){if(x==null)return;x.strokeStyle=t,x.lineWidth=1,x.fillStyle=e,lt(x,3);const n=new U(f0.inches/2),i=new U(K0.inches/2);for(let l=-n.inches;l<=n.inches;l+=s.inches){W0(new Y(l,-i.inches),new Y(l,i.inches),t,new U(.01));for(let c=-i.inches;c<=i.inches;c+=s.inches){const v=new Y(l,c);de(v,"white",2),x.fillText(`(${l}", ${c}")`,v.x+5,v.y+5)}}for(let l=-i.inches;l<=i.inches;l+=s.inches)W0(new Y(-n.inches,l),new Y(n.inches,l),t,new U(.01))}async function nt(s){const e=await(await fetch(s)).blob();return new Promise((n,i)=>{const l=new FileReader;l.onloadend=()=>n(l.result),l.onerror=i,l.readAsDataURL(e)})}async function it(s){const t=new Image;return t.src=s,await t.decode(),t}function ee(s,t,e,n){s!=null&&x!=null&&(x.save(),x.drawImage(s,t.x,t.y,e.pixels,n.pixels),x.restore())}function ot(s,t,e="blue",n="black",i=new U(.02)){x!=null&&(x.beginPath(),x.arc(s.x,s.y,t.pixels,0,2*Math.PI),x.fillStyle=e,x.fill(),x.strokeStyle=n,x.lineWidth=i.pixels,x.stroke(),x.closePath())}function ct(s,t,e,n="green",i="black",l=new U(.02)){if(x==null)return;const c=new Y(s.fieldX-t.inches/2,s.fieldY-e.inches/2);x.beginPath(),x.fillStyle=n,x.fillRect(c.x,c.y,t.pixels,e.pixels),x.strokeStyle=i,x.lineWidth=l.pixels,x.strokeRect(c.x,c.y,t.pixels,e.pixels),x.closePath()}var dt=A('<div style="width: 100%; overflow: hidden;"><canvas class="svelte-13trz2u"></canvas></div>');function vt(s,t){K(t,!0);let e,n,i;oe(async()=>{st(e),n=await nt("/fields/field.png"),i=await it(n),ee(i,new Y(-72,72),new U(24*6),new U(24*6)),W0(new Y(0,0),new Y(0,10),"blue",new U(1)),rt(new U(24)),de(new Y(0,0))}),U0(()=>{ee(i,new Y(-72,72),new U(24*6),new U(24*6)),r.canvas.lines&&r.canvas.lines.forEach(l=>{W0(Y.withData(l.start),Y.withData(l.end),l.look.outlineColor,new U(l.look.outlineWidth))}),r.canvas.rectangles&&r.canvas.rectangles.forEach(l=>{ct(Y.withData(l.center),new U(l.width),new U(l.height),l.look.fillColor,l.look.outlineColor,new U(l.look.outlineWidth))}),r.canvas.circles&&r.canvas.circles.forEach(l=>{ot(Y.withData(l.center),new U(l.radius),l.look.fillColor,l.look.outlineColor,new U(l.look.outlineWidth))})}),_0(s,{title:"Field",children:(l,c)=>{P0(l,{children:(v,h)=>{var u=dt(),w=g(u);We(w,_=>e=_,()=>e),p(u),d(v,u)}})},$$slots:{default:!0}}),J()}var ut=(s,t,e)=>t(e()),pt=A('<li class="svelte-1a0a577"><button> </button> </li>'),ft=t0('<text y="-2" font-size="2.5" fill="white" stroke="var(--text)" stroke-width="0.1" text-anchor="middle"> </text>'),gt=t0('<text x="-2" font-size="2.5" fill="white" stroke="var(--text)" stroke-width="0.1" text-anchor="end"> </text>'),ht=t0('<line x1="0" x2="100" stroke="var(--text)" stroke-width="0.2"></line><line y1="0" y2="100" stroke="var(--text)" stroke-width="0.2"></line>',1),mt=t0('<polyline fill="none" stroke-width="0.6"></polyline>'),_t=A('<div class="flex svelte-1a0a577"><input type="range" min="1" max="60" aria-label="Time window"> <p> </p></div> <ul class="svelte-1a0a577"></ul> <div class="graph svelte-1a0a577"><svg viewBox="-10 -10 120 120" preserveAspectRatio="none"><rect x="0" y="0" width="100" height="100" fill="var(--card)"></rect><!><!><!><!></svg></div>',1);function xt(s,t){K(t,!0);const e=O0({});function n(v){e[v]=!e[v]}function i(v,h,u,w=[0,1]){return u===h?v.map(()=>.5):v.map(_=>(_-h)/(u-h)*(w[1]-w[0])+w[0])}function l(v){const h=Object.values(v).flat().map(k=>k.data),u=Object.values(v).flat().map(k=>k.timestamp),w=Math.min(...h),_=Math.max(...h),o=Math.min(...u),S=o+r.timeWindow*1e3,M={};return Object.entries(v).forEach(([k,I])=>{const P=I.map(D=>D.timestamp),F=I.map(D=>D.data),V=i(P,o,S,[0,100]),R=i(F,w,_,[0,100]);M[k]=I.map((D,j)=>({x:Math.min(100,Math.max(0,V[j])),y:100-R[j]}))}),M}const c=["red","lime","cyan","yellow","magenta","orange"];_0(s,{title:"Graph View",children:(v,h)=>{P0(v,{children:(u,w)=>{var _=_t(),o=B(_),S=g(o);le(S);var M=f(S,2),k=g(M);p(M),p(o);var I=f(o,2);Q(I,21,()=>Object.entries(r.graphs),e0,(b,$)=>{let y=()=>a($)[0],T=()=>a($)[1];var m=pt(),L=g(m);L.__click=[ut,n,y];let C;var E=g(L,!0);p(L);var O=f(L);p(m),z((G,X)=>{r0(L,"aria-pressed",e[y()]),C=c0(L,1,"svelte-1a0a577",null,C,G),H(E,y()),H(O,` – ${T().length??""} entries / ${X??""}`)},[()=>({selected:e[y()]}),()=>parseFloat(T()[T().length-1].data.toString()).toFixed(3)]),d(b,m)}),p(I);var P=f(I,2),F=g(P),V=f(g(F));Q(V,16,()=>[0,25,50,75,100],e0,(b,$)=>{var y=ft(),T=g(y);p(y),z(m=>{r0(y,"x",$),H(T,`${m??""}s`)},[()=>Math.round($/100*r.timeWindow)]),d(b,y)});var R=f(V);Q(R,16,()=>[0,25,50,75,100],e0,(b,$)=>{var y=gt(),T=g(y,!0);p(y),z(m=>{r0(y,"y",100-$),H(T,m)},[()=>($/100*(Object.values(Object.values(r.graphs).flat().map(m=>m.data)).reduce((m,L)=>Math.max(m,L),-1/0)-Object.values(Object.values(r.graphs).flat().map(m=>m.data)).reduce((m,L)=>Math.min(m,L),1/0))+Object.values(Object.values(r.graphs).flat().map(m=>m.data)).reduce((m,L)=>Math.min(m,L),1/0)).toFixed(2)]),d(b,y)});var D=f(R);Q(D,16,()=>[25,50,75],e0,(b,$)=>{var y=ht(),T=B(y),m=f(T);z(()=>{r0(T,"y1",$),r0(T,"y2",$),r0(m,"x1",$),r0(m,"x2",$)}),d(b,y)});var j=f(D);{var N=b=>{var $=T0(),y=B($);Q(y,17,()=>Object.entries(l(Object.fromEntries(Object.entries(r.graphs).filter(([T])=>e[T])))),e0,(T,m,L)=>{let C=()=>a(m)[1];var E=mt();z(O=>{r0(E,"stroke",c[L%c.length]),r0(E,"points",O)},[()=>C().map(O=>`${O.x},${O.y}`).join(" ")]),d(T,E)}),d(b,$)};W(j,b=>{Object.keys(e).some($=>e[$])&&b(N)})}p(F),p(P),z(()=>H(k,`(last ${r.timeWindow??""}s)`)),ie(S,()=>r.timeWindow,b=>r.timeWindow=b),d(u,_)}})},$$slots:{default:!0}}),J()}g0(["click"]);var wt=A('<p> </p> <p> </p> <input type="range"> <div class="flex-item svelte-1o86sht"><p>Animation speed</p> <!></div> <div><div class="flex svelte-1o86sht"><!> <!> <!></div> <div class="flex svelte-1o86sht"><!> <!></div></div>',1);function yt(s,t){K(t,!0);let e=R0("1x");U0(()=>{a(e)!=null&&r.isForwarding&&(l=r.timestamp,i=performance.now())});let n=null,i=null,l=0;function c(h){if(!r.isForwarding||i===null)return;const u=h-i,w=parseFloat(a(e).replace("x",""));r.timestamp=Math.min(l+u*w,r.duration),r.timestamp<r.duration?n=requestAnimationFrame(c):(r.timestamp=r.duration,r.isForwarding=!1,n=null,i=null)}function v(){r.isForwarding=!r.isForwarding,r.isForwarding?(l=r.timestamp,i=performance.now(),n=requestAnimationFrame(c)):(i=null,n!==null&&(cancelAnimationFrame(n),n=null))}Ue(()=>{n!==null&&cancelAnimationFrame(n)}),_0(s,{title:"Capture",children:(h,u)=>{P0(h,{children:(w,_)=>{var o=wt(),S=B(o),M=g(S);p(S);var k=f(S,2),I=g(k);p(k);var P=f(k,2);le(P),r0(P,"min",0);var F=f(P,2),V=f(g(F),2);j0(V,{startValue:"1x",value:"1x",possibleValues:["0.1x","0.25x","0.5x","1x","2x","3x","4x"],get isValid(){return r.hasRecording},alwaysValid:!0,get currentValue(){return a(e)},set currentValue(O){i0(e,O0(O))}}),p(F);var R=f(F,2),D=g(R),j=g(D);m0(j,{onclick:()=>{r.isRecording=!0},get disabled(){return r.isRecording},children:(O,G)=>{o0();var X=n0("Start");d(O,X)},$$slots:{default:!0}});var N=f(j,2);const b=Z(()=>!r.isRecording);m0(N,{onclick:()=>{r.isRecording=!1},get disabled(){return a(b)},children:(O,G)=>{o0();var X=n0("Stop");d(O,X)},$$slots:{default:!0}});var $=f(N,2);const y=Z(()=>!r.hasRecording);m0($,{onclick:()=>{r.isRecording=!1,r.history=[],r.timestamp=0,r.isPlaying=!1},get disabled(){return a(y)},children:(O,G)=>{o0();var X=n0("Reset");d(O,X)},$$slots:{default:!0}}),p(D);var T=f(D,2),m=g(T);const L=Z(()=>!r.hasRecording);m0(m,{onclick:()=>{r.isPlaying=!r.isPlaying},get disabled(){return a(L)},children:(O,G)=>{o0();var X=n0();z(()=>H(X,`${(r.isPlaying?"Disable":"Enable")??""} Visual Sync`)),d(O,X)},$$slots:{default:!0}});var C=f(m,2);const E=Z(()=>!r.hasRecording);m0(C,{onclick:v,get disabled(){return a(E)},children:(O,G)=>{o0();var X=n0();z(()=>H(X,`${(r.isForwarding?"Stop":"Start")??""} Playing`)),d(O,X)},$$slots:{default:!0}}),p(T),p(R),z((O,G)=>{H(M,`Got ${r.history.length??""} entries`),H(I,`Timestamp: ${O??""}s / ${G??""}s`),P.disabled=!r.hasRecording,r0(P,"max",r.duration)},[()=>(r.timestamp/1e3).toFixed(2),()=>(r.duration/1e3).toFixed(2)]),ie(P,()=>r.timestamp,O=>r.timestamp=O),d(w,o)}})},$$slots:{default:!0}}),J()}var kt=(s,t,e)=>t.onselect(a(e)),bt=A('<button class="svelte-6klxoa"> </button>'),$t=A('<p class="svelte-6klxoa">No opModes here.</p>'),St=A("<!> <!>",1);function te(s,t){K(t,!0);var e=St(),n=B(e);Q(n,17,()=>r.opModes.filter(c=>c.flavour==t.flavour),e0,(c,v)=>{var h=bt();h.__click=[kt,t,v];var u=g(h);p(h),z(()=>H(u,`${a(v).name??""} / ${a(v).group??""}`)),d(c,h)});var i=f(n,2);{var l=c=>{var v=$t();d(c,v)};W(i,c=>{r.opModes.filter(v=>v.flavour==t.flavour).length==0&&c(l)})}d(s,e),J()}g0(["click"]);var Mt=A('<div><div class="inner svelte-sf14j4"><!></div></div>');function D0(s,t){var e=Mt();let n;var i=g(e),l=g(i);ce(l,()=>t.children),p(i),p(e),z(c=>n=c0(e,1,"hiddable svelte-sf14j4",null,n,c),[()=>({shown:t.isShown})]),d(s,e)}var Ot=(s,t)=>t("autos"),Pt=(s,t)=>t("teleops"),Vt=A('<button class="svelte-wf5nbz"><span class="svelte-wf5nbz">Autos<!></span></button> <!> <button class="svelte-wf5nbz"><span class="svelte-wf5nbz">TeleOps<!></span></button>',1),At=A('<p class="title svelte-wf5nbz">Nothing selected</p>'),It=A('<p class="title svelte-wf5nbz"><span class="title_small svelte-wf5nbz"> </span> </p>'),Ft=A('<div class="modal autos svelte-wf5nbz"><!></div> <div class="modal teleops svelte-wf5nbz"><!></div> <!> <div class="flex svelte-wf5nbz"><!> <!> <!></div>',1),jt=A("<!> <!>",1);function Ct(s,t){K(t,!0);let e=R0("");function n(c){a(e)!=c?i0(e,O0(c)):i0(e,"")}function i(c){i0(l,O0(c)),i0(e,"")}U0(()=>{if(console.log(r.activeOpMode),r.activeOpMode==" ")return;console.log("Length: ",r.opModes.length);let c=null;for(const v of r.opModes)v.name==r.activeOpMode&&(c=v);c!=null&&i0(l,O0(c))});let l=R0(O0({name:"",group:"",flavour:"AUTONOMOUS"}));_0(s,{children:(c,v)=>{var h=jt(),u=B(h);re(u,{children:(_,o)=>{var S=Vt(),M=B(S);M.__click=[Ot,n];var k=g(M),I=f(g(k));const P=Z(()=>a(e)=="autos");q0(I,{get isOpened(){return a(P)}}),p(k),p(M);var F=f(M,2);ne(F,{children:(N,b)=>{o0();var $=n0("OpMode Control");d(N,$)}});var V=f(F,2);V.__click=[Pt,n];var R=g(V),D=f(g(R));const j=Z(()=>a(e)=="teleops");q0(D,{get isOpened(){return a(j)}}),p(R),p(V),d(_,S)}});var w=f(u,2);P0(w,{children:(_,o)=>{var S=Ft(),M=B(S),k=g(M);const I=Z(()=>a(e)=="autos");D0(k,{get isShown(){return a(I)},children:(C,E)=>{te(C,{flavour:"AUTONOMOUS",onselect:i})}}),p(M);var P=f(M,2),F=g(P);const V=Z(()=>a(e)=="teleops");D0(F,{get isShown(){return a(V)},children:(C,E)=>{te(C,{flavour:"TELEOP",onselect:i})}}),p(P);var R=f(P,2);{var D=C=>{var E=At();d(C,E)},j=C=>{var E=It(),O=g(E),G=g(O,!0);p(O);var X=f(O);p(E),z(()=>{H(G,a(l).flavour),H(X,` ${a(l).name??""}`)}),d(C,E)};W(R,C=>{a(l).name==""?C(D):C(j,!1)})}var N=f(R,2),b=g(N);const $=Z(()=>a(l).name==""||r.activeOpModeStatus=="running"&&r.activeOpMode!="$Stop$Robot$"||r.activeOpModeStatus=="stopped"&&r.activeOpMode!="$Stop$Robot$"||a(l).name!=""&&r.activeOpModeStatus=="init");m0(b,{get disabled(){return a($)},onclick:()=>{F0.sendMessage({kind:"initOpMode",opModeName:a(l).name})},children:(C,E)=>{o0();var O=n0("Initialize");d(C,O)},$$slots:{default:!0}});var y=f(b,2);const T=Z(()=>r.activeOpMode=="$Stop$Robot$"||a(l).name==""||r.activeOpModeStatus!="init");m0(y,{get disabled(){return a(T)},onclick:()=>{F0.sendMessage({kind:"startActiveOpMode"})},children:(C,E)=>{o0();var O=n0("Start");d(C,O)},$$slots:{default:!0}});var m=f(y,2);const L=Z(()=>r.activeOpMode=="$Stop$Robot$"||a(l).name==""||r.activeOpModeStatus=="stopped");m0(m,{get disabled(){return a(L)},onclick:()=>{F0.sendMessage({kind:"stopActiveOpMode"})},children:(C,E)=>{o0();var O=n0("Stop");d(C,O)},$$slots:{default:!0}}),p(N),d(_,S)}}),d(c,h)},$$slots:{default:!0}}),J()}g0(["click"]);var Rt=A("<p> </p>"),Dt=A("<p>No telemetry found.</p>"),Tt=A("<!> <!>",1);function Nt(s,t){K(t,!1),J0(),_0(s,{title:"Telemetry",children:(e,n)=>{P0(e,{children:(i,l)=>{var c=Tt(),v=B(c);Q(v,1,()=>r.telemetry,e0,(w,_)=>{var o=Rt(),S=g(o,!0);p(o),z(()=>H(S,a(_))),d(w,o)});var h=f(v,2);{var u=w=>{var _=Dt();d(w,_)};W(h,w=>{r.telemetry.length==0&&w(u)})}d(i,c)}})},$$slots:{default:!0}}),J()}var Et=t0('<svg width="100%" height="100%" viewBox="0 0 13 14" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><path d="M0.478,8.19c-0.432,-1.595 -0.19,-3.216 0.551,-4.558c0.11,-0.194 0.067,-0.439 -0.103,-0.583c-0.192,-0.167 -0.455,-0.39 -0.711,-0.608c-0.173,-0.146 -0.25,-0.376 -0.2,-0.597c0.049,-0.22 0.216,-0.395 0.435,-0.454l5.055,-1.369c0.218,-0.059 0.451,0.008 0.605,0.174c0.075,0.08 0.125,0.177 0.148,0.28c0.025,0.11 0.019,0.226 -0.02,0.336l-1.533,4.358c-0.066,0.189 -0.221,0.334 -0.415,0.386c-0.193,0.052 -0.4,0.006 -0.553,-0.123l-0.75,-0.638c-0.114,-0.096 -0.266,-0.132 -0.411,-0.098c-0.11,0.026 -0.206,0.092 -0.27,0.182c-0.371,0.878 -0.463,1.881 -0.197,2.871l0.002,0.008c0.366,1.353 1.319,2.396 2.515,2.908c0.109,0.047 0.171,0.163 0.148,0.279c-0.06,0.297 -0.172,0.852 -0.24,1.189c-0.014,0.072 -0.059,0.134 -0.123,0.169c-0.045,0.026 -0.096,0.036 -0.147,0.031c-0.021,-0.002 -0.041,-0.007 -0.061,-0.014c-1.763,-0.679 -3.192,-2.159 -3.722,-4.12l-0.003,-0.009Zm6.045,4.524c-0.025,-0.11 -0.019,-0.226 0.02,-0.336l1.533,-4.359c0.066,-0.189 0.221,-0.333 0.415,-0.385c0.193,-0.053 0.4,-0.006 0.553,0.123l0.75,0.637c0.114,0.097 0.266,0.133 0.411,0.099c0.11,-0.027 0.206,-0.092 0.27,-0.182c0.371,-0.878 0.463,-1.881 0.197,-2.871l-0.002,-0.008c-0.367,-1.353 -1.322,-2.39 -2.515,-2.909c-0.109,-0.046 -0.171,-0.162 -0.148,-0.278c0.06,-0.297 0.172,-0.852 0.24,-1.189c0.014,-0.072 0.059,-0.134 0.123,-0.17c0.045,-0.025 0.096,-0.035 0.147,-0.03c0.021,0.002 0.041,0.007 0.061,0.014c1.763,0.679 3.191,2.159 3.722,4.12l0.003,0.009c0.432,1.595 0.19,3.216 -0.551,4.558c-0.11,0.194 -0.067,0.439 0.103,0.583c0.192,0.166 0.455,0.39 0.711,0.607c0.173,0.147 0.25,0.377 0.2,0.597c-0.049,0.221 -0.216,0.396 -0.435,0.455l-5.055,1.369c-0.218,0.059 -0.451,-0.008 -0.605,-0.174c-0.075,-0.08 -0.125,-0.177 -0.148,-0.28Z" class="svelte-wof6i3"></path></svg>');function zt(s,t){let e=v0(t,"isActive",3,!0),n=v0(t,"isSelected",3,!1);var i=Et();let l;z(c=>l=c0(i,0,"svelte-wof6i3",null,l,c),[()=>({disabled:!e(),spin:n()})]),d(s,i)}function Lt(s,t,e){t()&&(i0(e,!0),setTimeout(()=>{i0(e,!1)},300))}var Zt=t0(`<svg width="100%" height="100%" viewBox="0 0 14 13" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g><path d="M3.654,5.076c-0.113,-0.097 -0.265,-0.133 -0.41,-0.099c-0.145,0.035 -0.264,0.136 -0.322,0.274c-0.329,0.858 -0.404,1.825 -0.145,2.779c0.639,2.363 3.076,3.761 5.438,3.122c2.363,-0.64 3.762,-3.077 3.122,-5.439c-0.366,-1.353 -1.321,-2.389 -2.515,-2.908c-0.109,-0.046 -0.17,-0.163 -0.147,-0.279c0.059,-0.297 0.171,-0.852 0.239,-1.189c0.015,-0.072 0.06,-0.134 0.123,-0.169c0.064,-0.036 0.141,-0.042 0.209,-0.017c1.763,0.679 3.191,2.159 3.722,4.121c0.883,3.262 -1.049,6.628 -4.311,7.511c-3.263,0.883 -6.628,-1.049 -7.511,-4.311c-0.432,-1.596 -0.191,-3.216 0.55,-4.559c0.111,-0.194 0.068,-0.439 -0.102,-0.583c-0.192,-0.166 -0.455,-0.389 -0.711,-0.607c-0.173,-0.147 -0.25,-0.377 -0.201,-0.597c0.05,-0.221 0.217,-0.396 0.436,-0.455c1.371,-0.371 3.683,-0.997 5.055,-1.369c0.218,-0.059 0.451,0.008 0.605,0.174c0.154,0.166 0.203,0.403 0.128,0.616c-0.436,1.24 -1.138,3.237 -1.533,4.359c-0.066,0.189 -0.222,0.333 -0.415,0.385c-0.194,0.053 -0.401,0.007 -0.553,-0.123c-0.249,-0.212 -0.525,-0.446 -0.751,-0.637Z" class="svelte-jhhttk"></path><g transform="matrix(4.00107,0,0,4.00107,10.405,8.71918)"></g><text x="4.247px" y="8.719px" style="font-family:'Varta-Bold', 'Varta';font-weight:700;font-size:4.001px;" class="svelte-jhhttk">ALL</text></g></svg>`);function Wt(s,t){let e=v0(t,"isActive",3,!0),n=R0(!1);var i=Zt();i.__click=[Lt,e,n];let l;z(c=>l=c0(i,0,"svelte-jhhttk",null,l,c),[()=>({disabled:!e(),spin:a(n)})]),d(s,i)}g0(["click"]);var Ut=(s,t)=>{t()==!0?t(!1):(t()==!1,t(!0))},Bt=A('<button class="svelte-whxx7j"><!> <!></button>');function ve(s,t){K(t,!0);let e=v0(t,"isOpened",15);var n=Bt();n.__click=[Ut,e];var i=g(n);q0(i,{get isOpened(){return e()},isVertical:!1});var l=f(i,2);ce(l,()=>t.children),p(n),d(s,n),J()}g0(["click"]);var Xt=A('<h3 class="svelte-utaoqk"> </h3>');function Yt(s,t){K(t,!0);let e=v0(t,"isOpened",15);function n(l){return l.split(".").at(-1)||""}function i(l){return l.split("."+n(l))[0]}ve(s,{get isOpened(){return e()},set isOpened(l){e(l)},children:(l,c)=>{var v=Xt(),h=g(v,!0);p(v),z((u,w)=>{r0(v,"data-class",u),H(h,w)},[()=>i(t.name),()=>n(t.name)]),d(l,v)},$$slots:{default:!0}}),J()}var Ht=t0('<svg width="100%" height="100%" viewBox="0 0 14 13" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g><path d="M3.654,5.076c-0.113,-0.097 -0.265,-0.133 -0.41,-0.099c-0.145,0.035 -0.264,0.136 -0.322,0.274c-0.329,0.858 -0.404,1.825 -0.145,2.779c0.639,2.363 3.076,3.761 5.438,3.122c2.363,-0.64 3.762,-3.077 3.122,-5.439c-0.366,-1.353 -1.321,-2.389 -2.515,-2.908c-0.109,-0.046 -0.17,-0.163 -0.147,-0.279c0.059,-0.297 0.171,-0.852 0.239,-1.189c0.015,-0.072 0.06,-0.134 0.123,-0.169c0.064,-0.036 0.141,-0.042 0.209,-0.017c1.763,0.679 3.191,2.159 3.722,4.121c0.883,3.262 -1.049,6.628 -4.311,7.511c-3.263,0.883 -6.628,-1.049 -7.511,-4.311c-0.432,-1.596 -0.191,-3.216 0.55,-4.559c0.111,-0.194 0.068,-0.439 -0.102,-0.583c-0.192,-0.166 -0.455,-0.389 -0.711,-0.607c-0.173,-0.147 -0.25,-0.377 -0.201,-0.597c0.05,-0.221 0.217,-0.396 0.436,-0.455c1.371,-0.371 3.683,-0.997 5.055,-1.369c0.218,-0.059 0.451,0.008 0.605,0.174c0.154,0.166 0.203,0.403 0.128,0.616c-0.436,1.24 -1.138,3.237 -1.533,4.359c-0.066,0.189 -0.222,0.333 -0.415,0.385c-0.194,0.053 -0.401,0.007 -0.553,-0.123c-0.249,-0.212 -0.525,-0.446 -0.751,-0.637Z" class="svelte-1p9cwh8"></path></g></svg>');function se(s,t){K(t,!0);let e=v0(t,"isActive",3,!0),n=R0(!1);U0(()=>{e()||a(n)||(i0(n,!0),setTimeout(()=>{i0(n,!1)},300))});var i=Ht();let l;z(c=>l=c0(i,0,"svelte-1p9cwh8",null,l,c),[()=>({disabled:!e(),spin:a(n)})]),d(s,i),J()}function Gt(s,t){let e=v0(t,"depth",3,0);ue(s,{get item(){return t.item},get depth(){return e()}})}var qt=(s,t)=>{t()},Kt=A('<p style="margin-left: -24px;" class="svelte-f7jrs1"><button class="svelte-f7jrs1"><!></button> <!></p> <form><!></form>',1),Jt=(s,t)=>{t()},Qt=A('<p style="margin-left: -24px;" class="svelte-f7jrs1"><button class="svelte-f7jrs1"><!></button> <!></p> <!>',1),es=A('<p class="svelte-f7jrs1"><!> </p>'),ts=A('<div class="two svelte-f7jrs1" style="margin-left: -20px;"><!></div> <div class="two svelte-f7jrs1"></div>',1),ss=A('<div class="two svelte-f7jrs1"><p class="svelte-f7jrs1"><!> </p></div>'),as=A("<div><!></div>");function ue(s,t){K(t,!0);let e=v0(t,"item",7),n=v0(t,"depth",3,0);function i(){e().isValid&&(F0.sendMessage({kind:"updatedJvmFields",fields:[{id:e().id,newValueString:e().newValueString}]}),e().valueString=e().newValueString,e().value=e().newValueString)}function l(u){var k;const w=(k=r.searchParam)==null?void 0:k.toLowerCase();if(!w)return u;const _=u.toLowerCase().indexOf(w);if(_===-1)return u;const o=u.slice(0,_),S=u.slice(_,_+w.length),M=u.slice(_+w.length);return`<span>${o}<span class="highlight">${S}</span>${M}</span>`}var c=T0(),v=B(c);{var h=u=>{var w=as();let _;var o=g(w);{var S=k=>{var I=Kt(),P=B(I),F=g(P);F.__click=[qt,i];var V=g(F);const R=Z(()=>e().valueString!=e().newValueString&&e().isValid);se(V,{get isActive(){return a(R)}}),p(F);var D=f(F,2);z0(D,()=>l(e().fieldName)),p(P);var j=f(P,2),N=g(j);const b=Z(()=>e().type.toUpperCase()),$=Z(()=>ze(e().type));Ee(N,{get type(){return a(b)},get validate(){return a($)},get value(){return e().value},set value(y){e().value=y},get isValid(){return e().isValid},set isValid(y){e().isValid=y},get startValue(){return e().valueString},set startValue(y){e().valueString=y},get currentValue(){return e().newValueString},set currentValue(y){e().newValueString=y}}),p(j),ae("submit",j,()=>{i()}),d(k,I)},M=(k,I)=>{{var P=V=>{var R=Qt(),D=B(R),j=g(D);j.__click=[Jt,i];var N=g(j);const b=Z(()=>e().valueString!=e().newValueString&&e().isValid);se(N,{get isActive(){return a(b)}}),p(j);var $=f(j,2);z0($,()=>l(e().fieldName)),p(D);var y=f(D,2);const T=Z(()=>e().type.toUpperCase());j0(y,{get possibleValues(){return e().possibleValues},get type(){return a(T)},get value(){return e().value},set value(m){e().value=m},get isValid(){return e().isValid},set isValid(m){e().isValid=m},get startValue(){return e().valueString},set startValue(m){e().valueString=m},get currentValue(){return e().newValueString},set currentValue(m){e().newValueString=m}}),d(V,R)},F=(V,R)=>{{var D=N=>{var b=ts(),$=B(b),y=g($);ve(y,{get isOpened(){return e().isOpened},set isOpened(m){e().isOpened=m},children:(m,L)=>{var C=es(),E=g(C);z0(E,()=>l(e().fieldName));var O=f(E);p(C),z(()=>H(O,` ${e().type??""}`)),d(m,C)},$$slots:{default:!0}}),p($);var T=f($,2);Q(T,21,()=>e().customValues,e0,(m,L)=>{D0(m,{get isShown(){return e().isOpened},children:(C,E)=>{const O=Z(()=>n()+1);Gt(C,{get item(){return a(L)},get depth(){return a(O)}})}})}),p(T),d(N,b)},j=N=>{var b=ss(),$=g(b),y=g($);z0(y,()=>l(e().fieldName));var T=f(y);p($),p(b),z(()=>H(T,` ${e().type??""}`)),d(N,b)};W(V,N=>{e().type==a0.CUSTOM||e().type==a0.ARRAY||e().type==a0.MAP||e().type==a0.LIST?N(D):N(j,!1)},R)}};W(k,V=>{e().type===a0.ENUM||e().type===a0.BOOLEAN?V(P):V(F,!1)},I)}};W(o,k=>{[a0.INT,a0.LONG,a0.DOUBLE,a0.FLOAT,a0.STRING].includes(e().type)?k(S):k(M,!1)})}p(w),z(k=>{I0(w,`--depth:${n()??""};`),_=c0(w,1,"svelte-f7jrs1",null,_,k)},[()=>({item:e(),disabled:e().type==a0.UNKNOWN,first:n()==0})]),d(u,w)};W(v,u=>{e().isShown&&u(h)})}d(s,c),J()}g0(["click"]);function pe(s,t){if(!s)return;const e={};L0(s,i=>{const l=t(i);return i.isShown=l,l},(i,l)=>{const c=t(i),v=l.some(Boolean),h=c||v;return c?(i.isOpened=!0,i.isShown=!0,Z0(i.customValues??[],u=>{u.isShown=!0},u=>{u.isShown=!0,u.isOpened=!0})):(i.isOpened=v,i.isShown=h),h});const n=i=>{i.isShown&&(e[i.className]=!0)};Z0(r.jvmFields,n,n),r.openedStates=e}function ls(s,t){s=s.toLowerCase(),pe(t,e=>{var n;return(n=e.fieldName)==null?void 0:n.toLowerCase().includes(s)})}let C0={openedStates:{},isOpenedMap:new Map};function fe(){C0.openedStates={...r.openedStates},C0.isOpenedMap=new Map,Z0(r.jvmFields,s=>{},s=>{C0.isOpenedMap.set(s.id,s.isOpened??!1)})}function ge(){r.openedStates={...C0.openedStates},Z0(r.jvmFields,s=>{s.isShown=!0},s=>{s.isShown=!0,s.isOpened=C0.isOpenedMap.get(s.id)??!1})}function rs(s){if(r.searchParam=s,s!="")r.configurablesState==d0.NORMAL&&fe(),r.configurablesState=d0.SEARCH,ls(s,r.jvmFields);else if(r.configurablesState==d0.SEARCH){r.configurablesState=d0.NORMAL,ge();return}}function ns(){if(r.configurablesState==d0.DIFF){ge(),r.configurablesState=d0.NORMAL;return}r.configurablesState==d0.NORMAL&&fe(),r.configurablesState=d0.DIFF,is(r.jvmFields)}function is(s){pe(s,t=>t.valueString!=r.initialJvmFields.get(t.id))}function os(s){let t=!1;return L0(s,e=>e.valueString!==r.initialJvmFields.get(e.id)?(t=!0,!0):!1,()=>t),t}var l0=Le(()=>r),cs=s=>{const t=s.target;t&&rs(t.value)},ds=()=>{ns()},vs=A('<!> <input class="search svelte-1epp9tw" type="text" placeholder="Search"> <button class="svelte-1epp9tw"><!></button> <button class="svelte-1epp9tw"><!></button>',1),us=A("<!> <!>",1),ps=A("<p>No configurables found.</p>"),fs=A('<div class="content svelte-1epp9tw"><!> <!></div>'),gs=A("<!> <!>",1);function hs(s,t){K(t,!1);function e(c){const v={};for(const h of c)v.hasOwnProperty(h.className)||(v[h.className]=[]),v[h.className].push(h);return v}function n(c){return L0(c,v=>v.valueString!==v.newValueString&&v.isValid,(v,h)=>h.some(Boolean)).some(Boolean)}function i(c){return L0(c,h=>h.valueString!==h.newValueString&&h.isValid?{id:h.id,newValueString:h.newValueString}:null,(h,u)=>null).filter(h=>h!==null)}function l(c){c!=null&&F0.sendMessage({kind:"updatedJvmFields",fields:i(c)})}J0(),_0(s,{children:(c,v)=>{var h=gs(),u=B(h);re(u,{children:(_,o)=>{var S=vs(),M=B(S);ne(M,{children:(N,b)=>{o0();var $=n0("Configurables");d(N,$)}});var k=f(M,2);k.__input=[cs];var I=f(k,2);I.__click=()=>{l(l0().jvmFields)};var P=g(I);const F=A0(()=>n(l0().jvmFields));Wt(P,{get isActive(){return a(F)}}),p(I);var V=f(I,2);V.__click=[ds];var R=g(V);const D=A0(()=>os(l0().jvmFields)),j=A0(()=>l0().configurablesState==d0.DIFF);zt(R,{get isActive(){return a(D)},get isSelected(){return a(j)}}),p(V),d(_,S)}});var w=f(u,2);P0(w,{children:(_,o)=>{var S=fs(),M=g(S);Q(M,1,()=>Object.entries(e(l0().jvmFields)),e0,(P,F)=>{let V=()=>a(F)[0],R=()=>a(F)[1];const D=A0(()=>l0().openedStates[V()]||l0().configurablesState==d0.NORMAL);D0(P,{get isShown(){return a(D)},children:(j,N)=>{var b=us(),$=B(b);Yt($,{get name(){return V()},get isOpened(){return l0().openedStates[V()]},set isOpened(m){l0(l0().openedStates[V()]=m)},$$legacy:!0});var y=f($,2);const T=A0(()=>l0().openedStates[V()]==!0);D0(y,{get isShown(){return a(T)},children:(m,L)=>{var C=T0(),E=B(C);Q(E,1,R,e0,(O,G)=>{ue(O,{get item(){return a(G)}})}),d(m,C)},$$slots:{default:!0}}),d(j,b)}})});var k=f(M,2);{var I=P=>{var F=ps();d(P,F)};W(k,P=>{l0().jvmFields.length==0&&P(I)})}p(S),d(_,S)}}),d(c,h)},$$slots:{default:!0}}),J()}g0(["input","click"]);var ms=t0('<svg width="100%" height="100%" viewBox="0 0 14 14" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" class="svelte-91aoq6"><g><path d="M13.732,7.331c-0,0.2 -0.162,0.362 -0.362,0.362c-1.937,-0 -11.072,-0 -13.009,-0c-0.199,-0 -0.361,-0.162 -0.361,-0.362c-0,-0.276 -0,-0.654 0,-0.93c-0,-0.2 0.162,-0.362 0.361,-0.362c1.937,0 11.072,0 13.009,0c0.2,0 0.362,0.162 0.362,0.362c-0,0.276 -0,0.654 -0,0.93Z" class="svelte-91aoq6"></path><path d="M6.401,13.732c-0.2,-0 -0.362,-0.162 -0.362,-0.362c0,-1.937 0,-11.072 0,-13.009c0,-0.199 0.162,-0.361 0.362,-0.361c0.276,-0 0.654,-0 0.93,-0c0.2,-0 0.362,0.162 0.362,0.361c-0,1.937 -0,11.072 -0,13.009c-0,0.2 -0.162,0.362 -0.362,0.362c-0.276,-0 -0.654,-0 -0.93,-0Z" class="svelte-91aoq6"></path></g></svg>');function _s(s){var t=ms();d(s,t)}var xs=A('<p style="padding: 1rem;">Waiting for data</p>');function ws(s,t){K(t,!0);let e=Z(()=>r.plugins.find(u=>u.id===t.pluginID)),n=Z(()=>a(e).pages.find(u=>u.id===t.pageID)),i=Z(()=>a(n).html.replace(/<dynamic>(.*?)<\/dynamic>/gi,(u,w)=>{const _=w.trim();return a(e).globalVariables[w.trim()]?`<span class="dynamic" data-key="${_}">${a(e).globalVariables[w.trim()]}</span>`:(console.warn("Empty or invalid key inside <dynamic> tag"),'<span class="dynamic-placeholder-error">[Missing Key]</span>')}));oe(()=>{const u=_=>{const S=_.currentTarget.getAttribute("data-action");S!==null&&console.log("Action triggered:",S)},w=document.querySelectorAll("button.action");return w.forEach(_=>{_.addEventListener("click",u)}),()=>{w.forEach(_=>{_.removeEventListener("click",u)})}});var l=T0(),c=B(l);{var v=u=>{Be(u,{get html(){return a(i)},get id(){return a(e).id}})},h=u=>{var w=xs();d(u,w)};W(c,u=>{a(e)&&a(n)?u(v):u(h,!1)})}d(s,l),J()}var ys=(s,t,e)=>{t().startMoving(a(e).id)},ks=(s,t,e)=>{t().remove(a(e).id)},bs=(s,t,e)=>{if(t().canExpandRight(a(e))){a(e).sizes.x++;return}if(t().canExpandLeft(a(e))){a(e).sizes.x++,a(e).start.x--;return}B0.add("Not enough space to expand horizontally.")},$s=(s,t)=>{a(t).sizes.x<=2?B0.add("Cannot make this small."):a(t).sizes.x--},Ss=(s,t,e)=>{if(t().canExpandDown(a(e))){a(e).sizes.y++;return}if(t().canExpandUp(a(e))){a(e).sizes.y++,a(e).start.y--;return}B0.add("Not enough space to expand vertically.")},Ms=(s,t)=>{a(t).sizes.y<=2?B0.add("Cannot make this small."):a(t).sizes.y--},Os=A("<!> <!>",1),Ps=A('<p style="padding: 1rem;">CUSTOM not valid</p>'),Vs=A('<p style="padding: 1rem;"> </p>'),As=A('<div><div><button class="svelte-1phsk00"><!></button> <button class="svelte-1phsk00"><!></button> <button class="svelte-1phsk00"><!></button> <button class="svelte-1phsk00"><!></button> <button class="svelte-1phsk00"><!></button> <button class="svelte-1phsk00"><!></button> <!> <!></div> <!></div>'),Is=A('<div class="item svelte-1phsk00"><!></div>'),Fs=A("<button><!></button>"),js=(s,t)=>{if(t().selectedWidget!=null){if(!t().canPlace){t().stopMoving("Cannot move there.");return}t().performMove(),t().stopMoving(null)}},Cs=A("<p></p>"),Rs=A('<section role="button" tabindex="0" class="svelte-1phsk00"></section>'),Ds=A('<div class="container svelte-1phsk00"><section class="svelte-1phsk00"><!> <!> <!></section> <!></div>');function Ts(s,t){K(t,!0);let e=v0(t,"gridManager",7);var n=Ds(),i=g(n),l=g(i);Q(l,17,()=>e().modules,e0,(_,o,S)=>{var M=As();let k;var I=g(M);let P;var F=g(I);F.__mousedown=[ys,e,o];var V=g(F);Ke(V),p(F);var R=f(F,2);R.__click=[ks,e,o];var D=g(R);Ze(D),p(R);var j=f(R,2);j.__click=[bs,e,o];var N=g(j);Ye(N),p(j);var b=f(j,2);b.__click=[$s,o];var $=g(b);Ge($),p(b);var y=f(b,2);y.__click=[Ss,e,o];var T=g(y);Qe(T),p(y);var m=f(y,2);m.__click=[Ms,o];var L=g(m);tt(L),p(m);var C=f(m,2);j0(C,{type:"",get startValue(){return a(o).type},get value(){return a(o).type},possibleValues:Re,isValid:!0,alwaysValid:!0,get currentValue(){return a(o).type},set currentValue(q){a(o).type=q}});var E=f(C,2);{var O=q=>{var w0=Os(),N0=B(w0);const X0=Z(()=>[...r.plugins.map(u0=>u0.id),"none"]);j0(N0,{type:"",get startValue(){return a(o).pluginID},get value(){return a(o).pluginID},get possibleValues(){return a(X0)},isValid:!0,alwaysValid:!0,get currentValue(){return a(o).pluginID},set currentValue(u0){a(o).pluginID=u0}});var h0=f(N0,2);{var Y0=u0=>{const H0=Z(()=>[...r.plugins.find(s0=>s0.id==a(o).pluginID).pages.map(s0=>s0.id),"none"]);j0(u0,{type:"",get startValue(){return a(o).pageID},get value(){return a(o).pageID},get possibleValues(){return a(H0)},isValid:!0,alwaysValid:!0,get currentValue(){return a(o).pageID},set currentValue(s0){a(o).pageID=s0}})};W(h0,u0=>{a(o).pluginID!="none"&&u0(Y0)})}d(q,w0)};W(E,q=>{a(o).type==p0.CUSTOM&&q(O)})}p(I);var G=f(I,2);{var X=q=>{Ct(q,{})},he=(q,w0)=>{{var N0=h0=>{Te(h0,{get gamepad(){return Ne.gamepads[0]}})},X0=(h0,Y0)=>{{var u0=s0=>{vt(s0,{})},H0=(s0,me)=>{{var _e=y0=>{Nt(y0,{})},xe=(y0,we)=>{{var ye=k0=>{hs(k0,{})},ke=(k0,be)=>{{var $e=b0=>{xt(b0,{})},Se=(b0,Me)=>{{var Oe=$0=>{yt($0,{})},Pe=($0,Ve)=>{{var Ae=S0=>{var E0=T0(),Q0=B(E0);{var V0=M0=>{ws(M0,{get pluginID(){return a(o).pluginID},get pageID(){return a(o).pageID}})},G0=M0=>{var Fe=Ps();d(M0,Fe)};W(Q0,M0=>{a(o).pluginID&&a(o).pageID?M0(V0):M0(G0,!1)})}d(S0,E0)},Ie=S0=>{_0(S0,{title:"Unknown Type",children:(E0,Q0)=>{var V0=Vs(),G0=g(V0);p(V0),z(()=>H(G0,`This is an unknown widget of type "${a(o).type??""}"`)),d(E0,V0)},$$slots:{default:!0}})};W($0,S0=>{a(o).type==p0.CUSTOM?S0(Ae):S0(Ie,!1)},Ve)}};W(b0,$0=>{a(o).type==p0.CAPTURE?$0(Oe):$0(Pe,!1)},Me)}};W(k0,b0=>{a(o).type==p0.GRAPH?b0($e):b0(Se,!1)},be)}};W(y0,k0=>{a(o).type==p0.CONFIGURABLES?k0(ye):k0(ke,!1)},we)}};W(s0,y0=>{a(o).type==p0.TELEMETRY?y0(_e):y0(xe,!1)},me)}};W(h0,s0=>{a(o).type==p0.FIELD?s0(u0):s0(H0,!1)},Y0)}};W(q,h0=>{a(o).type==p0.GAMEPAD?h0(N0):h0(X0,!1)},w0)}};W(G,q=>{a(o).type==p0.CONTROLS?q(X):q(he,!1)})}p(M),z((q,w0)=>{k=c0(M,1,"item svelte-1phsk00",null,k,q),I0(M,`
        grid-column: ${a(o).start.x??""} / span ${a(o).sizes.x??""};
        grid-row: ${a(o).start.y??""} / span ${a(o).sizes.y??""};
        `),P=c0(I,1,"controls svelte-1phsk00",null,P,w0)},[()=>({isOverlay:e().selectedWidgetId==a(o).id}),()=>({shown:r.showEdit})]),d(_,M)});var c=f(l,2);{var v=_=>{var o=Is(),S=g(o);_0(S,{isPrimary:!0}),p(o),z(()=>I0(o,`
  grid-column: ${e().selectedCellX??""} / span ${e().selectedWidget.sizes.x??""};
  grid-row: ${e().selectedCellY??""} / span ${e().selectedWidget.sizes.y??""};
  `)),d(_,o)};W(c,_=>{e().selectedWidget!=null&&_(v)})}var h=f(c,2);Q(h,17,()=>Array.from({length:e().cellsX*e().cellsY}),e0,(_,o,S)=>{var M=Fs();const k=Z(()=>e().modulesMap[Math.floor(S/e().cellsX)+1][S%e().cellsX+1]);let I;M.__click=()=>{e().addNew(S%e().cellsX+1,Math.floor(S/e().cellsX)+1)};var P=g(M);_s(P),p(M),z(F=>{I0(M,a(k)!=null?"display: none;":""),I=c0(M,1,"add svelte-1phsk00",null,I,F)},[()=>({shown:r.showEdit&&!e().isMoving})]),d(_,M)}),p(i);var u=f(i,2);{var w=_=>{var o=Rs();o.__mouseup=[js,e],Q(o,21,()=>Array.from({length:e().cellsX*e().cellsY}),e0,(S,M,k)=>{var I=Cs();const P=Z(()=>e().modulesMap[Math.floor(k/e().cellsX)+1][k%e().cellsX+1]);let F;I.__mouseover=()=>{if(console.log(k),e().selectedWidget==null)return;const V=e().selectedWidget,R=k%e().cellsX+1,D=Math.floor(k/e().cellsX)+1,j=e().coreCheckPlace(R,D,V),N=e().coreCheckPlace(R,e().selectedCellY,V),b=e().coreCheckPlace(e().selectedCellX,D,V);console.log("canPlaceBoth",j),console.log("canPlaceX",N),console.log("canPlaceY",b),(N||j)&&(e().selectedCellX=R),(b||j)&&(e().selectedCellY=D)},z(V=>F=c0(I,1,"overlay-item svelte-1phsk00",null,F,V),[()=>({isEmpty:a(P)!=null&&a(P)!=e().selectedWidgetId})]),ae("focus",I,()=>{}),d(S,I)}),p(o),d(_,o)};W(u,_=>{e().isMoving&&_(w)})}p(n),z(()=>I0(n,`--cellsX:${e().cellsX??""} ;--cellsY: ${e().cellsY??""};`)),d(s,n),J()}g0(["mousedown","click","mouseup","mouseover"]);function aa(s,t){K(t,!1),J0(),Ts(s,{get gridManager(){return De.currentGrid}}),J()}export{aa as component};
