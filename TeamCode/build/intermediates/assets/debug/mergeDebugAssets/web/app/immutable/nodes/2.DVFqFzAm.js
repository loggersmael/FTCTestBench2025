import{t as k,b as m,c as xe,n as ie,e as H}from"../chunks/DgPgYHzS.js";import"../chunks/CE_tkPBO.js";import{Q as J,_ as le,R as W,U as G,T as u,V as C,W as f,X as v,d as p,a5 as K,aC as ce,a2 as z,aG as Z,f as Oe}from"../chunks/DxySB33y.js";import{p as E,a as ne,i as ee}from"../chunks/DQEzFBYC.js";import{i as we}from"../chunks/vRacDtxp.js";import{b as se,S as de,i as s,s as ue,a as ke,H as Ae,T as Ne,c as B,f as pe,d as ge,g as Se}from"../chunks/BTdU-I6U.js";import{s as Be,G as ze}from"../chunks/C3vuNzQZ.js";import{T as qe,b as je,h as ve,G as Ge}from"../chunks/CdR2uYQi.js";import{d as re,s as q,e as De}from"../chunks/DG_-0HLc.js";import{e as Q,i as Y}from"../chunks/qMzyVM-B.js";import{r as Pe,s as X}from"../chunks/B8qkImnQ.js";import{a as Ee}from"../chunks/DyQLA_-o.js";import{S as Fe,B as ae}from"../chunks/DFvzMxPq.js";import{A as he,r as Je}from"../chunks/56WxpmPK.js";function We(a,t){J(t,!0);let e=E(t,"currentValue",15),i=E(t,"isValid",15),r=E(t,"value",15),o=E(t,"validate",3,l=>!0),c=E(t,"extraChar",3,""),d=E(t,"type",3,"");le(()=>{r()==null&&(r(t.startValue),i(o()(r())))}),le(()=>{if(se.state=="closed"||se.state=="opened"){if(!o()(r())){i(!1);return}i(!0)}}),qe(a,{get type(){return d()},oninput:()=>{if(!o()(r())){i(!1);return}i(!0),e(r())},get isValid(){return i()},get extraChar(){return c()},get text(){return r()},set text(l){r(l)}}),W()}var Xe=(a,t,e)=>t(e()),He=k('<li class="svelte-zt9u0b"><button> </button> </li>'),Ke=ie('<text y="-2" font-size="2.5" fill="white" stroke="var(--text)" stroke-width="0.1" text-anchor="middle"> </text>'),Ze=ie('<text x="-2" font-size="2.5" fill="white" stroke="var(--text)" stroke-width="0.1" text-anchor="end"> </text>'),Qe=ie('<line x1="0" x2="100" stroke="var(--text)" stroke-width="0.2"></line><line y1="0" y2="100" stroke="var(--text)" stroke-width="0.2"></line>',1),Ye=ie('<polyline fill="none" stroke-width="0.6"></polyline>'),et=k('<div class="flex svelte-zt9u0b"><input type="range" min="1" max="60" aria-label="Time window"> <p> </p></div> <ul class="svelte-zt9u0b"></ul> <div class="graph svelte-zt9u0b"><svg viewBox="-10 -10 120 120" preserveAspectRatio="none" class="svelte-zt9u0b"><rect x="0" y="0" width="100" height="100" fill="var(--card)"></rect><!><!><!><!></svg></div>',1);function tt(a,t){J(t,!0);const e=ne({});function i(d){e[d]=!e[d]}function r(d,l,_,g=[0,1]){return _===l?d.map(()=>.5):d.map(w=>(w-l)/(_-l)*(g[1]-g[0])+g[0])}function o(d){const l=Object.values(d).flat().map(h=>h.data),_=Object.values(d).flat().map(h=>h.timestamp),g=Math.min(...l),w=Math.max(...l),L=Math.min(..._),F=L+s.timeWindow*1e3,N={};return Object.entries(d).forEach(([h,A])=>{const R=A.map(P=>P.timestamp),j=A.map(P=>P.data),M=r(R,L,F,[0,100]),T=r(j,g,w,[0,100]);N[h]=A.map((P,$)=>({x:Math.min(100,Math.max(0,M[$])),y:100-T[$]}))}),N}const c=["red","lime","cyan","yellow","magenta","orange"];de(a,{title:"Graph View",children:(d,l)=>{var _=et(),g=G(_),w=f(g);Pe(w);var L=u(w,2),F=f(L);v(L),v(g);var N=u(g,2);Q(N,21,()=>Object.entries(s.graphs),Y,($,O)=>{let x=()=>p(O)[0],S=()=>p(O)[1];var n=He(),b=f(n);b.__click=[Xe,i,x];let y;var I=f(b,!0);v(b);var V=u(b);v(n),C(D=>{X(b,"aria-pressed",e[x()]),y=ue(b,1,"svelte-zt9u0b",null,y,D),q(I,x()),q(V,` â€“ ${S().length??""} entries / ${S()[S().length-1].data??""}`)},[()=>({selected:e[x()]})]),m($,n)}),v(N);var h=u(N,2),A=f(h),R=u(f(A));Q(R,16,()=>[0,25,50,75,100],Y,($,O)=>{var x=Ke(),S=f(x);v(x),C(n=>{X(x,"x",O),q(S,`${n??""}s`)},[()=>Math.round(O/100*s.timeWindow)]),m($,x)});var j=u(R);Q(j,16,()=>[0,25,50,75,100],Y,($,O)=>{var x=Ze(),S=f(x,!0);v(x),C(n=>{X(x,"y",100-O),q(S,n)},[()=>(O/100*(Object.values(Object.values(s.graphs).flat().map(n=>n.data)).reduce((n,b)=>Math.max(n,b),-1/0)-Object.values(Object.values(s.graphs).flat().map(n=>n.data)).reduce((n,b)=>Math.min(n,b),1/0))+Object.values(Object.values(s.graphs).flat().map(n=>n.data)).reduce((n,b)=>Math.min(n,b),1/0)).toFixed(2)]),m($,x)});var M=u(j);Q(M,16,()=>[25,50,75],Y,($,O)=>{var x=Qe(),S=G(x),n=u(S);C(()=>{X(S,"y1",O),X(S,"y2",O),X(n,"x1",O),X(n,"x2",O)}),m($,x)});var T=u(M);{var P=$=>{var O=xe(),x=G(O);Q(x,17,()=>Object.entries(o(Object.fromEntries(Object.entries(s.graphs).filter(([S])=>e[S])))),Y,(S,n,b)=>{let y=()=>p(n)[1];var I=Ye();C(V=>{X(I,"stroke",c[b%c.length]),X(I,"points",V)},[()=>y().map(V=>`${V.x},${V.y}`).join(" ")]),m(S,I)}),m($,O)};ee(T,$=>{Object.keys(e).some(O=>e[O])&&$(P)})}v(A),v(h),C(()=>q(F,`(last ${s.timeWindow??""}s)`)),je(w,()=>s.timeWindow,$=>s.timeWindow=$),m(d,_)},$$slots:{default:!0}}),W()}re(["click"]);var at=k('<p> </p> <p> </p> <input type="range"> <div class="flex-item svelte-1o86sht"><p>Animation speed</p> <!></div> <div><div class="flex svelte-1o86sht"><!> <!> <!></div> <div class="flex svelte-1o86sht"><!> <!></div></div>',1);function st(a,t){J(t,!0);let e=ce("1x");le(()=>{p(e)!=null&&s.isForwarding&&(o=s.timestamp,r=performance.now())});let i=null,r=null,o=0;function c(l){if(!s.isForwarding||r===null)return;const _=l-r,g=parseFloat(p(e).replace("x",""));s.timestamp=Math.min(o+_*g,s.duration),s.timestamp<s.duration?i=requestAnimationFrame(c):(s.timestamp=s.duration,s.isForwarding=!1,i=null,r=null)}function d(){s.isForwarding=!s.isForwarding,s.isForwarding?(o=s.timestamp,r=performance.now(),i=requestAnimationFrame(c)):(r=null,i!==null&&(cancelAnimationFrame(i),i=null))}Ee(()=>{i!==null&&cancelAnimationFrame(i)}),de(a,{title:"Capture",children:(l,_)=>{var g=at(),w=G(g),L=f(w);v(w);var F=u(w,2),N=f(F);v(F);var h=u(F,2);Pe(h),X(h,"min",0);var A=u(h,2),R=u(f(A),2);Fe(R,{startValue:"1x",value:"1x",possibleValues:["0.1x","0.25x","0.5x","1x","2x","3x","4x"],get isValid(){return s.hasRecording},alwaysValid:!0,get currentValue(){return p(e)},set currentValue(V){K(e,ne(V))}}),v(A);var j=u(A,2),M=f(j),T=f(M);ae(T,{onclick:()=>{s.isRecording=!0},get disabled(){return s.isRecording},children:(V,D)=>{Z();var U=H("Start");m(V,U)},$$slots:{default:!0}});var P=u(T,2);const $=z(()=>!s.isRecording);ae(P,{onclick:()=>{s.isRecording=!1},get disabled(){return p($)},children:(V,D)=>{Z();var U=H("Stop");m(V,U)},$$slots:{default:!0}});var O=u(P,2);const x=z(()=>!s.hasRecording);ae(O,{onclick:()=>{s.isRecording=!1,s.history=[],s.timestamp=0,s.isPlaying=!1},get disabled(){return p(x)},children:(V,D)=>{Z();var U=H("Reset");m(V,U)},$$slots:{default:!0}}),v(M);var S=u(M,2),n=f(S);const b=z(()=>!s.hasRecording);ae(n,{onclick:()=>{s.isPlaying=!s.isPlaying},get disabled(){return p(b)},children:(V,D)=>{Z();var U=H();C(()=>q(U,`${(s.isPlaying?"Disable":"Enable")??""} Visual Sync`)),m(V,U)},$$slots:{default:!0}});var y=u(n,2);const I=z(()=>!s.hasRecording);ae(y,{onclick:d,get disabled(){return p(I)},children:(V,D)=>{Z();var U=H();C(()=>q(U,`${(s.isForwarding?"Stop":"Start")??""} Playing`)),m(V,U)},$$slots:{default:!0}}),v(S),v(j),C((V,D)=>{q(L,`Got ${s.history.length??""} entries`),q(N,`Timestamp: ${V??""}s / ${D??""}s`),h.disabled=!s.hasRecording,X(h,"max",s.duration)},[()=>(s.timestamp/1e3).toFixed(2),()=>(s.duration/1e3).toFixed(2)]),je(h,()=>s.timestamp,V=>s.timestamp=V),m(l,g)},$$slots:{default:!0}}),W()}var rt=(a,t,e)=>t.onselect(p(e)),nt=k('<button class="svelte-6klxoa"> </button>'),it=k('<p class="svelte-6klxoa">No opModes here.</p>'),ot=k("<!> <!>",1);function ye(a,t){J(t,!0);var e=ot(),i=G(e);Q(i,17,()=>s.opModes.filter(c=>c.flavour==t.flavour),Y,(c,d)=>{var l=nt();l.__click=[rt,t,d];var _=f(l);v(l),C(()=>q(_,`${p(d).name??""} / ${p(d).group??""}`)),m(c,l)});var r=u(i,2);{var o=c=>{var d=it();m(c,d)};ee(r,c=>{s.opModes.filter(d=>d.flavour==t.flavour).length==0&&c(o)})}m(a,e),W()}re(["click"]);var lt=k('<div><div class="inner svelte-sf14j4"><!></div></div>');function fe(a,t){var e=lt();let i;var r=f(e),o=f(r);ke(o,()=>t.children),v(r),v(e),C(c=>i=ue(e,1,"hiddable svelte-sf14j4",null,i,c),[()=>({shown:t.isShown})]),m(a,e)}var ct=(a,t)=>t("autos"),dt=(a,t)=>t("teleops"),ut=k('<button class="svelte-vcqslt"><span class="svelte-vcqslt">Autos<!></span></button> <!> <button class="svelte-vcqslt"><span class="svelte-vcqslt">TeleOps<!></span></button>',1),vt=k('<p class="title svelte-vcqslt">Nothing selected</p>'),pt=k('<p class="title svelte-vcqslt"><span class="title_small svelte-vcqslt"> </span> </p>'),ft=k('<!> <div class="modal autos svelte-vcqslt"><!></div> <div class="modal teleops svelte-vcqslt"><!></div> <!> <div class="flex svelte-vcqslt"><!> <!> <!></div>',1);function mt(a,t){J(t,!0);let e=ce("");function i(c){p(e)!=c?K(e,ne(c)):K(e,"")}function r(c){K(o,ne(c)),K(e,"")}le(()=>{if(console.log(s.activeOpMode),s.activeOpMode==" ")return;console.log("Length: ",s.opModes.length);let c=null;for(const d of s.opModes)d.name==s.activeOpMode&&(c=d);c!=null&&K(o,ne(c))});let o=ce(ne({name:"",group:"",flavour:"AUTONOMOUS"}));de(a,{children:(c,d)=>{var l=ft(),_=G(l);Ae(_,{children:(n,b)=>{var y=ut(),I=G(y);I.__click=[ct,i];var V=f(I),D=u(f(V));const U=z(()=>p(e)=="autos");he(D,{get isOpened(){return p(U)}}),v(V),v(I);var $e=u(I,2);Ne($e,{children:(Ie,la)=>{Z();var Ue=H("OpMode Control");m(Ie,Ue)}});var me=u($e,2);me.__click=[dt,i];var be=f(me),Re=u(f(be));const Ce=z(()=>p(e)=="teleops");he(Re,{get isOpened(){return p(Ce)}}),v(be),v(me),m(n,y)}});var g=u(_,2),w=f(g);const L=z(()=>p(e)=="autos");fe(w,{get isShown(){return p(L)},children:(n,b)=>{ye(n,{flavour:"AUTONOMOUS",onselect:r})}}),v(g);var F=u(g,2),N=f(F);const h=z(()=>p(e)=="teleops");fe(N,{get isShown(){return p(h)},children:(n,b)=>{ye(n,{flavour:"TELEOP",onselect:r})}}),v(F);var A=u(F,2);{var R=n=>{var b=vt();m(n,b)},j=n=>{var b=pt(),y=f(b),I=f(y,!0);v(y);var V=u(y);v(b),C(()=>{q(I,p(o).flavour),q(V,` ${p(o).name??""}`)}),m(n,b)};ee(A,n=>{p(o).name==""?n(R):n(j,!1)})}var M=u(A,2),T=f(M);const P=z(()=>p(o).name==""||s.activeOpModeStatus=="running"&&s.activeOpMode!="$Stop$Robot$"||s.activeOpModeStatus=="stopped"&&s.activeOpMode!="$Stop$Robot$"||p(o).name!=""&&s.activeOpModeStatus=="init");ae(T,{get disabled(){return p(P)},onclick:()=>{se.sendMessage({kind:"initOpMode",opModeName:p(o).name})},children:(n,b)=>{Z();var y=H("Initialize");m(n,y)},$$slots:{default:!0}});var $=u(T,2);const O=z(()=>s.activeOpMode=="$Stop$Robot$"||p(o).name==""||s.activeOpModeStatus!="init");ae($,{get disabled(){return p(O)},onclick:()=>{se.sendMessage({kind:"startActiveOpMode"})},children:(n,b)=>{Z();var y=H("Start");m(n,y)},$$slots:{default:!0}});var x=u($,2);const S=z(()=>s.activeOpMode=="$Stop$Robot$"||p(o).name==""||s.activeOpModeStatus=="stopped");ae(x,{get disabled(){return p(S)},onclick:()=>{se.sendMessage({kind:"stopActiveOpMode"})},children:(n,b)=>{Z();var y=H("Stop");m(n,y)},$$slots:{default:!0}}),v(M),m(c,l)},$$slots:{default:!0}}),W()}re(["click"]);var _t=k("<p> </p>"),gt=k("<p>No telemetry found.</p>"),ht=k("<!> <!>",1);function xt(a,t){J(t,!1),we(),de(a,{title:"Telemetry",children:(e,i)=>{var r=ht(),o=G(r);Q(o,1,()=>s.telemetry,Y,(l,_)=>{var g=_t(),w=f(g,!0);v(g),C(()=>q(w,p(_))),m(l,g)});var c=u(o,2);{var d=l=>{var _=gt();m(l,_)};ee(c,l=>{s.telemetry.length==0&&l(d)})}m(e,r)},$$slots:{default:!0}}),W()}function wt(a,t,e){t()&&(K(e,!0),setTimeout(()=>{K(e,!1)},300))}var $t=ie(`<svg width="100%" height="100%" viewBox="0 0 14 13" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g><path d="M3.654,5.076c-0.113,-0.097 -0.265,-0.133 -0.41,-0.099c-0.145,0.035 -0.264,0.136 -0.322,0.274c-0.329,0.858 -0.404,1.825 -0.145,2.779c0.639,2.363 3.076,3.761 5.438,3.122c2.363,-0.64 3.762,-3.077 3.122,-5.439c-0.366,-1.353 -1.321,-2.389 -2.515,-2.908c-0.109,-0.046 -0.17,-0.163 -0.147,-0.279c0.059,-0.297 0.171,-0.852 0.239,-1.189c0.015,-0.072 0.06,-0.134 0.123,-0.169c0.064,-0.036 0.141,-0.042 0.209,-0.017c1.763,0.679 3.191,2.159 3.722,4.121c0.883,3.262 -1.049,6.628 -4.311,7.511c-3.263,0.883 -6.628,-1.049 -7.511,-4.311c-0.432,-1.596 -0.191,-3.216 0.55,-4.559c0.111,-0.194 0.068,-0.439 -0.102,-0.583c-0.192,-0.166 -0.455,-0.389 -0.711,-0.607c-0.173,-0.147 -0.25,-0.377 -0.201,-0.597c0.05,-0.221 0.217,-0.396 0.436,-0.455c1.371,-0.371 3.683,-0.997 5.055,-1.369c0.218,-0.059 0.451,0.008 0.605,0.174c0.154,0.166 0.203,0.403 0.128,0.616c-0.436,1.24 -1.138,3.237 -1.533,4.359c-0.066,0.189 -0.222,0.333 -0.415,0.385c-0.194,0.053 -0.401,0.007 -0.553,-0.123c-0.249,-0.212 -0.525,-0.446 -0.751,-0.637Z" class="svelte-10et70e"></path><g transform="matrix(4.00107,0,0,4.00107,10.405,8.71918)"></g><text x="4.247px" y="8.719px" style="font-family:'Varta-Bold', 'Varta';font-weight:700;font-size:4.001px;" class="svelte-10et70e">ALL</text></g></svg>`);function bt(a,t){let e=E(t,"isActive",3,!0),i=ce(!1);var r=$t();r.__click=[wt,e,i];let o;C(c=>o=ue(r,0,"svelte-10et70e",null,o,c),[()=>({disabled:!e(),spin:p(i)})]),m(a,r)}re(["click"]);var Ot=(a,t)=>{t()==!0?t(!1):(t()==!1,t(!0))},St=k('<button class="svelte-whxx7j"><!> <!></button>');function Te(a,t){J(t,!0);let e=E(t,"isOpened",15);var i=St();i.__click=[Ot,e];var r=f(i);he(r,{get isOpened(){return e()},isVertical:!1});var o=u(r,2);ke(o,()=>t.children),v(i),m(a,i),W()}re(["click"]);var yt=k('<h3 class="svelte-1yetusz"> <span class="svelte-1yetusz"> </span></h3>');function Vt(a,t){J(t,!0);let e=E(t,"isOpened",15);function i(o){return o.split(".").at(-1)||""}function r(o){return o.split("."+i(o))[0]}Te(a,{get isOpened(){return e()},set isOpened(o){e(o)},children:(o,c)=>{var d=yt(),l=f(d),_=u(l),g=f(_);v(_),v(d),C((w,L)=>{q(l,`${w??""} `),q(g,`of ${L??""}`)},[()=>i(t.name),()=>r(t.name)]),m(o,d)},$$slots:{default:!0}}),W()}var Mt=ie('<svg width="100%" height="100%" viewBox="0 0 14 13" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g><path d="M3.654,5.076c-0.113,-0.097 -0.265,-0.133 -0.41,-0.099c-0.145,0.035 -0.264,0.136 -0.322,0.274c-0.329,0.858 -0.404,1.825 -0.145,2.779c0.639,2.363 3.076,3.761 5.438,3.122c2.363,-0.64 3.762,-3.077 3.122,-5.439c-0.366,-1.353 -1.321,-2.389 -2.515,-2.908c-0.109,-0.046 -0.17,-0.163 -0.147,-0.279c0.059,-0.297 0.171,-0.852 0.239,-1.189c0.015,-0.072 0.06,-0.134 0.123,-0.169c0.064,-0.036 0.141,-0.042 0.209,-0.017c1.763,0.679 3.191,2.159 3.722,4.121c0.883,3.262 -1.049,6.628 -4.311,7.511c-3.263,0.883 -6.628,-1.049 -7.511,-4.311c-0.432,-1.596 -0.191,-3.216 0.55,-4.559c0.111,-0.194 0.068,-0.439 -0.102,-0.583c-0.192,-0.166 -0.455,-0.389 -0.711,-0.607c-0.173,-0.147 -0.25,-0.377 -0.201,-0.597c0.05,-0.221 0.217,-0.396 0.436,-0.455c1.371,-0.371 3.683,-0.997 5.055,-1.369c0.218,-0.059 0.451,0.008 0.605,0.174c0.154,0.166 0.203,0.403 0.128,0.616c-0.436,1.24 -1.138,3.237 -1.533,4.359c-0.066,0.189 -0.222,0.333 -0.415,0.385c-0.194,0.053 -0.401,0.007 -0.553,-0.123c-0.249,-0.212 -0.525,-0.446 -0.751,-0.637Z" class="svelte-1p9cwh8"></path></g></svg>');function Ve(a,t){J(t,!0);let e=E(t,"isActive",3,!0),i=ce(!1);le(()=>{e()||p(i)||(K(i,!0),setTimeout(()=>{K(i,!1)},300))});var r=Mt();let o;C(c=>o=ue(r,0,"svelte-1p9cwh8",null,o,c),[()=>({disabled:!e(),spin:p(i)})]),m(a,r),W()}const kt=-2147483648,At=2147483647,Nt=BigInt("-9223372036854775808"),jt=BigInt("9223372036854775807"),Pt=-34e37,Ft=34e37,Tt=-17e307,Lt=17e307;function Rt(a){for(const e of a)if(!["0","1","2","3","4","5","6","7","8","9"].includes(e))return!1;const t=parseInt(a,10);return isNaN(t)?!1:t>=kt&&t<=At}function Ct(a){for(const e of a)if(!["0","1","2","3","4","5","6","7","8","9"].includes(e))return!1;const t=BigInt(a);return t>=Nt&&t<=jt}function It(a){var t=!1;for(const i of a){if(!["0","1","2","3","4","5","6","7","8","9","."].includes(i))return!1;if(i==".")if(!t)t=!0;else return!1}const e=parseFloat(a);return isNaN(e)?!1:e>=Tt&&e<=Lt}function Ut(a){var t=!1;for(const i of a){if(!["0","1","2","3","4","5","6","7","8","9","."].includes(i))return!1;if(i==".")if(!t)t=!0;else return!1}const e=parseFloat(a);return isNaN(e)?!1:e>=Pt&&e<=Ft}function Me(a){return typeof a=="string"}function Bt(a){return!1}function zt(a){if(se.state=="closed")return Bt;switch(a){case B.INT:return Rt;case B.LONG:return Ct;case B.DOUBLE:return It;case B.FLOAT:return Ut;case B.STRING:return Me;default:return Me}}function qt(a,t){let e=E(t,"depth",3,0);Le(a,{get item(){return t.item},get depth(){return e()}})}var Gt=(a,t)=>{t()},Dt=k('<p style="margin-left: -24px;" class="svelte-f7jrs1"><button class="svelte-f7jrs1"><!></button> <!></p> <form><!></form>',1),Et=(a,t)=>{t()},Jt=k('<p style="margin-left: -24px;" class="svelte-f7jrs1"><button class="svelte-f7jrs1"><!></button> <!></p> <!>',1),Wt=k('<p class="svelte-f7jrs1"><!> </p>'),Xt=k('<div class="two svelte-f7jrs1" style="margin-left: -20px;"><!></div> <div class="two svelte-f7jrs1"></div>',1),Ht=k('<div class="two svelte-f7jrs1"><p class="svelte-f7jrs1"><!> </p></div>'),Kt=k("<div><!></div>");function Le(a,t){J(t,!0);let e=E(t,"item",7),i=E(t,"depth",3,0);function r(){e().isValid&&(se.sendMessage({kind:"updatedJvmFields",fields:[{id:e().id,newValueString:e().newValueString}]}),e().valueString=e().newValueString,e().value=e().newValueString)}function o(_){var h;const g=(h=s.searchParam)==null?void 0:h.toLowerCase();if(!g)return _;const w=_.toLowerCase().indexOf(g);if(w===-1)return _;const L=_.slice(0,w),F=_.slice(w,w+g.length),N=_.slice(w+g.length);return`<span>${L}<span class="highlight">${F}</span>${N}</span>`}var c=xe(),d=G(c);{var l=_=>{var g=Kt();let w;var L=f(g);{var F=h=>{var A=Dt(),R=G(A),j=f(R);j.__click=[Gt,r];var M=f(j);const T=z(()=>e().valueString!=e().newValueString&&e().isValid);Ve(M,{get isActive(){return p(T)}}),v(j);var P=u(j,2);ve(P,()=>o(e().fieldName)),v(R);var $=u(R,2),O=f($);const x=z(()=>e().type.toUpperCase()),S=z(()=>zt(e().type));We(O,{get type(){return p(x)},get validate(){return p(S)},get value(){return e().value},set value(n){e().value=n},get isValid(){return e().isValid},set isValid(n){e().isValid=n},get startValue(){return e().valueString},set startValue(n){e().valueString=n},get currentValue(){return e().newValueString},set currentValue(n){e().newValueString=n}}),v($),De("submit",$,()=>{r()}),m(h,A)},N=(h,A)=>{{var R=M=>{var T=Jt(),P=G(T),$=f(P);$.__click=[Et,r];var O=f($);const x=z(()=>e().valueString!=e().newValueString&&e().isValid);Ve(O,{get isActive(){return p(x)}}),v($);var S=u($,2);ve(S,()=>o(e().fieldName)),v(P);var n=u(P,2);const b=z(()=>e().type.toUpperCase());Fe(n,{get possibleValues(){return e().possibleValues},get type(){return p(b)},get value(){return e().value},set value(y){e().value=y},get isValid(){return e().isValid},set isValid(y){e().isValid=y},get startValue(){return e().valueString},set startValue(y){e().valueString=y},get currentValue(){return e().newValueString},set currentValue(y){e().newValueString=y}}),m(M,T)},j=(M,T)=>{{var P=O=>{var x=Xt(),S=G(x),n=f(S);Te(n,{get isOpened(){return e().isOpened},set isOpened(y){e().isOpened=y},children:(y,I)=>{var V=Wt(),D=f(V);ve(D,()=>o(e().fieldName));var U=u(D);v(V),C(()=>q(U,` ${e().type??""}`)),m(y,V)},$$slots:{default:!0}}),v(S);var b=u(S,2);Q(b,21,()=>e().customValues,Y,(y,I)=>{fe(y,{get isShown(){return e().isOpened},children:(V,D)=>{const U=z(()=>i()+1);qt(V,{get item(){return p(I)},get depth(){return p(U)}})}})}),v(b),m(O,x)},$=O=>{var x=Ht(),S=f(x),n=f(S);ve(n,()=>o(e().fieldName));var b=u(n);v(S),v(x),C(()=>q(b,` ${e().type??""}`)),m(O,x)};ee(M,O=>{e().type==B.CUSTOM||e().type==B.ARRAY||e().type==B.MAP||e().type==B.LIST?O(P):O($,!1)},T)}};ee(h,M=>{e().type===B.ENUM||e().type===B.BOOLEAN?M(R):M(j,!1)},A)}};ee(L,h=>{[B.INT,B.LONG,B.DOUBLE,B.FLOAT,B.STRING].includes(e().type)?h(F):h(N,!1)})}v(g),C(h=>{Be(g,`--depth:${i()??""};`),w=ue(g,1,"svelte-f7jrs1",null,w,h)},[()=>({item:e(),disabled:e().type==B.UNKNOWN,first:i()==0})]),m(_,g)};ee(d,_=>{e().isShown&&_(l)})}m(a,c),W()}re(["click"]);function Zt(a,t){if(!t)return;a=a.toLowerCase();const e={};ge(t,r=>{var c,d;const o=((c=r.fieldName)==null?void 0:c.toLowerCase().includes(a))||((d=r.className)==null?void 0:d.toLowerCase().includes(a));return r.isShown=o,o},(r,o)=>{var _,g;const c=((_=r.fieldName)==null?void 0:_.toLowerCase().includes(a))||((g=r.className)==null?void 0:g.toLowerCase().includes(a)),d=o.some(Boolean),l=c||d;return c?(r.isOpened=!0,r.isShown=!0,pe(r.customValues??[],w=>{w.isShown=!0},w=>{w.isShown=!0,w.isOpened=!0})):(r.isOpened=d,r.isShown=l),l});const i=r=>{r.isShown&&(e[r.className]=!0)};pe(s.jvmFields,i,i),s.openedStates=e}let oe={openedStates:{},isOpenedMap:new Map};function Qt(){oe.openedStates={...s.openedStates},oe.isOpenedMap=new Map,pe(s.jvmFields,a=>{},a=>{oe.isOpenedMap.set(a.id,a.isOpened??!1)})}function Yt(){s.openedStates={...oe.openedStates},pe(s.jvmFields,a=>{a.isShown=!0},a=>{a.isShown=!0,a.isOpened=oe.isOpenedMap.get(a.id)??!1})}let _e=!1;function ea(a){s.searchParam=a,a!=""?(_e||Qt(),_e=!0,Zt(a,s.jvmFields)):(Yt(),_e=!1)}var te=Je(()=>s),ta=a=>{const t=a.target;t&&ea(t.value)},aa=k('<!> <input class="search svelte-21supp" type="text" placeholder="Search"> <button class="svelte-21supp"><!></button>',1),sa=k("<div><!> <!></div>"),ra=k("<p>No configurables found.</p>"),na=k('<!> <div class="content svelte-21supp"><!> <!></div>',1);function ia(a,t){J(t,!1);function e(c){const d={};for(const l of c)d.hasOwnProperty(l.className)||(d[l.className]=[]),d[l.className].push(l);return d}function i(c){return ge(c,d=>d.valueString!==d.newValueString&&d.isValid,(d,l)=>l.some(Boolean)).some(Boolean)}function r(c){return ge(c,l=>l.valueString!==l.newValueString&&l.isValid?{id:l.id,newValueString:l.newValueString}:null,(l,_)=>null).filter(l=>l!==null)}function o(c){c!=null&&se.sendMessage({kind:"updatedJvmFields",fields:r(c)})}we(),de(a,{children:(c,d)=>{var l=na(),_=G(l);Ae(_,{children:(N,h)=>{var A=aa(),R=G(A);Ne(R,{children:($,O)=>{Z();var x=H("Configurables");m($,x)}});var j=u(R,2);j.__input=[ta];var M=u(j,2);M.__click=()=>{o(te().jvmFields)};var T=f(M);const P=Oe(()=>i(te().jvmFields));bt(T,{get isActive(){return p(P)}}),v(M),m(N,A)}});var g=u(_,2),w=f(g);Q(w,1,()=>Object.entries(e(te().jvmFields)),Y,(N,h)=>{let A=()=>p(h)[0],R=()=>p(h)[1];var j=sa(),M=f(j);Vt(M,{get name(){return A()},get isOpened(){return te().openedStates[A()]},set isOpened($){te(te().openedStates[A()]=$)},$$legacy:!0});var T=u(M,2);const P=Oe(()=>te().openedStates[A()]==!0);fe(T,{get isShown(){return p(P)},children:($,O)=>{var x=xe(),S=G(x);Q(S,1,R,Y,(n,b)=>{Le(n,{get item(){return p(b)}})}),m($,x)}}),v(j),m(N,j)});var L=u(w,2);{var F=N=>{var h=ra();m(N,h)};ee(L,N=>{te().jvmFields.length==0&&N(F)})}v(g),m(c,l)},$$slots:{default:!0}}),W()}re(["input","click"]);var oa=k('<section class="svelte-ejym8e"><div><!> <!> <!></div> <div><!> <!></div> <div><!></div> <div><!></div></section>');function Oa(a,t){J(t,!1),we();var e=oa(),i=f(e),r=f(i);mt(r,{});var o=u(r,2);st(o,{});var c=u(o,2);{var d=h=>{ze(h,{get gamepad(){return Se.gamepads[0]}})};ee(c,h=>{Se.current!=null&&h(d)})}v(i);var l=u(i,2),_=f(l);Ge(_,{});var g=u(_,2);xt(g,{}),v(l);var w=u(l,2),L=f(w);ia(L,{}),v(w);var F=u(w,2),N=f(F);tt(N,{}),v(F),v(e),m(a,e),W()}export{Oa as component};
