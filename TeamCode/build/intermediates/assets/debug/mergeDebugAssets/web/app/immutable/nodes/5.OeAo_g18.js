var ye=Object.defineProperty;var xe=(s,t,e)=>t in s?ye(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var m0=(s,t,e)=>xe(s,typeof t!="symbol"?t+"":t,e);import{n as Q,a as d,c as M0,t as M,d as p0}from"../chunks/CTEcJb4s.js";import{i as z0}from"../chunks/CfO88hMe.js";import{p as G,f as z,g as l,d as W,a as H,t as E,a9 as T0,G as o0,c as g,s as h,r as p,a8 as E0,Q as O0,n as f0}from"../chunks/0-szhb9U.js";import{A as W0,h as F0,S as ke,b as be,a as V0,r as K0,c as J0,B as g0,R as Se}from"../chunks/DU1S00S7.js";import{o as X0,a as Me}from"../chunks/BuXCXmqg.js";import{p as $e}from"../chunks/xYhIn11Z.js";import{s as D0,a as Oe,W as i0}from"../chunks/D4z2BcLM.js";import{d as v0,s as Y,e as Q0}from"../chunks/CzkZYfeG.js";import{i as Z}from"../chunks/CG3ZsN8G.js";import{s as a0,e as q,i as K,r as ee}from"../chunks/BLWrVBYQ.js";import{s as l0,H as Ve,S as te}from"../chunks/Dm1GHE-m.js";import{s as b0,C as $0}from"../chunks/C7tHtLmT.js";import{p as r0}from"../chunks/B2LUClWd.js";import{i as r,T as t0,s as P0,f as R0,C as c0,a as C0,n as A0,g as Pe}from"../chunks/DE8FGzRE.js";import{G as je}from"../chunks/D478NF3E.js";import{R as Te}from"../chunks/BVxLH1di.js";import{s as se}from"../chunks/BKW_wMSr.js";import{b as Ie}from"../chunks/CLtJoCDL.js";import{p as S0}from"../chunks/BzflOjYQ.js";var Ae=Q('<svg width="100%" height="100%" viewBox="0 0 14 14" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" class="svelte-91aoq6"><g><path d="M13.732,7.331c-0,0.2 -0.162,0.362 -0.362,0.362c-1.937,-0 -11.072,-0 -13.009,-0c-0.199,-0 -0.361,-0.162 -0.361,-0.362c-0,-0.276 -0,-0.654 0,-0.93c-0,-0.2 0.162,-0.362 0.361,-0.362c1.937,0 11.072,0 13.009,0c0.2,0 0.362,0.162 0.362,0.362c-0,0.276 -0,0.654 -0,0.93Z" class="svelte-91aoq6"></path><path d="M6.401,13.732c-0.2,-0 -0.362,-0.162 -0.362,-0.362c0,-1.937 0,-11.072 0,-13.009c0,-0.199 0.162,-0.361 0.362,-0.361c0.276,-0 0.654,-0 0.93,-0c0.2,-0 0.362,0.162 0.362,0.361c-0,1.937 -0,11.072 -0,13.009c-0,0.2 -0.162,0.362 -0.362,0.362c-0.276,-0 -0.654,-0 -0.93,-0Z" class="svelte-91aoq6"></path></g></svg>');function Fe(s){var t=Ae();d(s,t)}var De=M('<p style="padding: 1rem;">Waiting for data</p>');function Re(s,t){G(t,!0);let e=W(()=>r.plugins.find(o=>o.id===t.pluginID)),n=W(()=>l(e).pages.find(o=>o.id===t.pageID)),i=W(()=>l(n).html.replace(/<dynamic>(.*?)<\/dynamic>/gi,(o,f)=>{const c=f.trim();return l(e).globalVariables[f.trim()]?`<span class="dynamic" data-key="${c}">${l(e).globalVariables[f.trim()]}</span>`:(console.warn("Empty or invalid key inside <dynamic> tag"),'<span class="dynamic-placeholder-error">[Missing Key]</span>')}));X0(()=>{const o=c=>{const V=c.currentTarget.getAttribute("data-action");V!==null&&console.log("Action triggered:",V)},f=document.querySelectorAll("button.action");return f.forEach(c=>{c.addEventListener("click",o)}),()=>{f.forEach(c=>{c.removeEventListener("click",o)})}});var a=M0(),u=z(a);{var x=o=>{Te(o,{get html(){return l(i)},get id(){return l(e).id}})},m=o=>{var f=De();d(o,f)};Z(u,o=>{l(e)&&l(n)?o(x):o(m,!1)})}d(s,a),H()}var Ce=Q('<svg width="100%" height="100%" viewBox="0 0 13 14" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><path d="M0.478,8.19c-0.432,-1.595 -0.19,-3.216 0.551,-4.558c0.11,-0.194 0.067,-0.439 -0.103,-0.583c-0.192,-0.167 -0.455,-0.39 -0.711,-0.608c-0.173,-0.146 -0.25,-0.376 -0.2,-0.597c0.049,-0.22 0.216,-0.395 0.435,-0.454l5.055,-1.369c0.218,-0.059 0.451,0.008 0.605,0.174c0.075,0.08 0.125,0.177 0.148,0.28c0.025,0.11 0.019,0.226 -0.02,0.336l-1.533,4.358c-0.066,0.189 -0.221,0.334 -0.415,0.386c-0.193,0.052 -0.4,0.006 -0.553,-0.123l-0.75,-0.638c-0.114,-0.096 -0.266,-0.132 -0.411,-0.098c-0.11,0.026 -0.206,0.092 -0.27,0.182c-0.371,0.878 -0.463,1.881 -0.197,2.871l0.002,0.008c0.366,1.353 1.319,2.396 2.515,2.908c0.109,0.047 0.171,0.163 0.148,0.279c-0.06,0.297 -0.172,0.852 -0.24,1.189c-0.014,0.072 -0.059,0.134 -0.123,0.169c-0.045,0.026 -0.096,0.036 -0.147,0.031c-0.021,-0.002 -0.041,-0.007 -0.061,-0.014c-1.763,-0.679 -3.192,-2.159 -3.722,-4.12l-0.003,-0.009Zm6.045,4.524c-0.025,-0.11 -0.019,-0.226 0.02,-0.336l1.533,-4.359c0.066,-0.189 0.221,-0.333 0.415,-0.385c0.193,-0.053 0.4,-0.006 0.553,0.123l0.75,0.637c0.114,0.097 0.266,0.133 0.411,0.099c0.11,-0.027 0.206,-0.092 0.27,-0.182c0.371,-0.878 0.463,-1.881 0.197,-2.871l-0.002,-0.008c-0.367,-1.353 -1.322,-2.39 -2.515,-2.909c-0.109,-0.046 -0.171,-0.162 -0.148,-0.278c0.06,-0.297 0.172,-0.852 0.24,-1.189c0.014,-0.072 0.059,-0.134 0.123,-0.17c0.045,-0.025 0.096,-0.035 0.147,-0.03c0.021,0.002 0.041,0.007 0.061,0.014c1.763,0.679 3.191,2.159 3.722,4.12l0.003,0.009c0.432,1.595 0.19,3.216 -0.551,4.558c-0.11,0.194 -0.067,0.439 0.103,0.583c0.192,0.166 0.455,0.39 0.711,0.607c0.173,0.147 0.25,0.377 0.2,0.597c-0.049,0.221 -0.216,0.396 -0.435,0.455l-5.055,1.369c-0.218,0.059 -0.451,-0.008 -0.605,-0.174c-0.075,-0.08 -0.125,-0.177 -0.148,-0.28Z" class="svelte-wof6i3"></path></svg>');function Ee(s,t){let e=r0(t,"isActive",3,!0),n=r0(t,"isSelected",3,!1);var i=Ce();let a;E(u=>a=l0(i,0,"svelte-wof6i3",null,a,u),[()=>({disabled:!e(),spin:n()})]),d(s,i)}function Ne(s,t,e){t()&&(o0(e,!0),setTimeout(()=>{o0(e,!1)},300))}var Le=Q(`<svg width="100%" height="100%" viewBox="0 0 14 13" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g><path d="M3.654,5.076c-0.113,-0.097 -0.265,-0.133 -0.41,-0.099c-0.145,0.035 -0.264,0.136 -0.322,0.274c-0.329,0.858 -0.404,1.825 -0.145,2.779c0.639,2.363 3.076,3.761 5.438,3.122c2.363,-0.64 3.762,-3.077 3.122,-5.439c-0.366,-1.353 -1.321,-2.389 -2.515,-2.908c-0.109,-0.046 -0.17,-0.163 -0.147,-0.279c0.059,-0.297 0.171,-0.852 0.239,-1.189c0.015,-0.072 0.06,-0.134 0.123,-0.169c0.064,-0.036 0.141,-0.042 0.209,-0.017c1.763,0.679 3.191,2.159 3.722,4.121c0.883,3.262 -1.049,6.628 -4.311,7.511c-3.263,0.883 -6.628,-1.049 -7.511,-4.311c-0.432,-1.596 -0.191,-3.216 0.55,-4.559c0.111,-0.194 0.068,-0.439 -0.102,-0.583c-0.192,-0.166 -0.455,-0.389 -0.711,-0.607c-0.173,-0.147 -0.25,-0.377 -0.201,-0.597c0.05,-0.221 0.217,-0.396 0.436,-0.455c1.371,-0.371 3.683,-0.997 5.055,-1.369c0.218,-0.059 0.451,0.008 0.605,0.174c0.154,0.166 0.203,0.403 0.128,0.616c-0.436,1.24 -1.138,3.237 -1.533,4.359c-0.066,0.189 -0.222,0.333 -0.415,0.385c-0.194,0.053 -0.401,0.007 -0.553,-0.123c-0.249,-0.212 -0.525,-0.446 -0.751,-0.637Z" class="svelte-jhhttk"></path><g transform="matrix(4.00107,0,0,4.00107,10.405,8.71918)"></g><text x="4.247px" y="8.719px" style="font-family:'Varta-Bold', 'Varta';font-weight:700;font-size:4.001px;" class="svelte-jhhttk">ALL</text></g></svg>`);function Ze(s,t){let e=r0(t,"isActive",3,!0),n=T0(!1);var i=Le();i.__click=[Ne,e,n];let a;E(u=>a=l0(i,0,"svelte-jhhttk",null,a,u),[()=>({disabled:!e(),spin:l(n)})]),d(s,i)}v0(["click"]);var We=(s,t)=>{t()==!0?t(!1):(t()==!1,t(!0))},Be=M('<button class="svelte-whxx7j"><!> <!></button>');function ae(s,t){G(t,!0);let e=r0(t,"isOpened",15);var n=Be();n.__click=[We,e];var i=g(n);W0(i,{get isOpened(){return e()},isVertical:!1});var a=h(i,2);se(a,()=>t.children),p(n),d(s,n),H()}v0(["click"]);var Ue=M('<h3 class="svelte-utaoqk"> </h3>');function ze(s,t){G(t,!0);let e=r0(t,"isOpened",15);function n(a){return a.split(".").at(-1)||""}function i(a){return a.split("."+n(a))[0]}ae(s,{get isOpened(){return e()},set isOpened(a){e(a)},children:(a,u)=>{var x=Ue(),m=g(x,!0);p(x),E((o,f)=>{a0(x,"data-class",o),Y(m,f)},[()=>i(t.name),()=>n(t.name)]),d(a,x)},$$slots:{default:!0}}),H()}var Xe=Q('<svg width="100%" height="100%" viewBox="0 0 14 13" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g><path d="M3.654,5.076c-0.113,-0.097 -0.265,-0.133 -0.41,-0.099c-0.145,0.035 -0.264,0.136 -0.322,0.274c-0.329,0.858 -0.404,1.825 -0.145,2.779c0.639,2.363 3.076,3.761 5.438,3.122c2.363,-0.64 3.762,-3.077 3.122,-5.439c-0.366,-1.353 -1.321,-2.389 -2.515,-2.908c-0.109,-0.046 -0.17,-0.163 -0.147,-0.279c0.059,-0.297 0.171,-0.852 0.239,-1.189c0.015,-0.072 0.06,-0.134 0.123,-0.169c0.064,-0.036 0.141,-0.042 0.209,-0.017c1.763,0.679 3.191,2.159 3.722,4.121c0.883,3.262 -1.049,6.628 -4.311,7.511c-3.263,0.883 -6.628,-1.049 -7.511,-4.311c-0.432,-1.596 -0.191,-3.216 0.55,-4.559c0.111,-0.194 0.068,-0.439 -0.102,-0.583c-0.192,-0.166 -0.455,-0.389 -0.711,-0.607c-0.173,-0.147 -0.25,-0.377 -0.201,-0.597c0.05,-0.221 0.217,-0.396 0.436,-0.455c1.371,-0.371 3.683,-0.997 5.055,-1.369c0.218,-0.059 0.451,0.008 0.605,0.174c0.154,0.166 0.203,0.403 0.128,0.616c-0.436,1.24 -1.138,3.237 -1.533,4.359c-0.066,0.189 -0.222,0.333 -0.415,0.385c-0.194,0.053 -0.401,0.007 -0.553,-0.123c-0.249,-0.212 -0.525,-0.446 -0.751,-0.637Z" class="svelte-1p9cwh8"></path></g></svg>');function Y0(s,t){G(t,!0);let e=r0(t,"isActive",3,!0),n=T0(!1);E0(()=>{e()||l(n)||(o0(n,!0),setTimeout(()=>{o0(n,!1)},300))});var i=Xe();let a;E(u=>a=l0(i,0,"svelte-1p9cwh8",null,a,u),[()=>({disabled:!e(),spin:l(n)})]),d(s,i),H()}function Ye(s,t){let e=r0(t,"depth",3,0);re(s,{get item(){return t.item},get depth(){return e()}})}var Ge=M('<div><div class="inner svelte-1ee64n6"><!></div></div>');function I0(s,t){var e=Ge();let n;var i=g(e),a=g(i);se(a,()=>t.children),p(i),p(e),E(u=>n=l0(e,1,"hiddable svelte-1ee64n6",null,n,u),[()=>({shown:t.isShown})]),d(s,e)}var He=(s,t)=>{t()},qe=M('<p style="margin-left: -24px;" class="svelte-f7jrs1"><button class="svelte-f7jrs1"><!></button> <!></p> <form><!></form>',1),Ke=(s,t)=>{t()},Je=M('<p style="margin-left: -24px;" class="svelte-f7jrs1"><button class="svelte-f7jrs1"><!></button> <!></p> <!>',1),Qe=M('<p class="svelte-f7jrs1"><!> </p>'),et=M('<div class="two svelte-f7jrs1" style="margin-left: -20px;"><!></div> <div class="two svelte-f7jrs1"></div>',1),tt=M('<div class="two svelte-f7jrs1"><p class="svelte-f7jrs1"><!> </p></div>'),st=M("<div><!></div>");function re(s,t){G(t,!0);let e=r0(t,"item",7),n=r0(t,"depth",3,0);function i(){e().isValid&&(P0.sendMessage({kind:"updatedJvmFields",fields:[{id:e().id,newValueString:e().newValueString}]}),e().valueString=e().newValueString,e().value=e().newValueString)}function a(o){var v;const f=(v=r.searchParam)==null?void 0:v.toLowerCase();if(!f)return o;const c=o.toLowerCase().indexOf(f);if(c===-1)return o;const _=o.slice(0,c),V=o.slice(c,c+f.length),S=o.slice(c+f.length);return`<span>${_}<span class="highlight">${V}</span>${S}</span>`}var u=M0(),x=z(u);{var m=o=>{var f=st();let c;var _=g(f);{var V=v=>{var y=qe(),P=z(y),A=g(P);A.__click=[He,i];var T=g(A);const R=W(()=>e().valueString!=e().newValueString&&e().isValid);Y0(T,{get isActive(){return l(R)}}),p(A);var C=h(A,2);F0(C,()=>a(e().fieldName)),p(P);var j=h(P,2),D=g(j);const $=W(()=>e().type.toUpperCase()),k=W(()=>be(e().type));ke(D,{get type(){return l($)},get validate(){return l(k)},get value(){return e().value},set value(w){e().value=w},get isValid(){return e().isValid},set isValid(w){e().isValid=w},get startValue(){return e().valueString},set startValue(w){e().valueString=w},get currentValue(){return e().newValueString},set currentValue(w){e().newValueString=w}}),p(j),Q0("submit",j,()=>{i()}),d(v,y)},S=(v,y)=>{{var P=T=>{var R=Je(),C=z(R),j=g(C);j.__click=[Ke,i];var D=g(j);const $=W(()=>e().valueString!=e().newValueString&&e().isValid);Y0(D,{get isActive(){return l($)}}),p(j);var k=h(j,2);F0(k,()=>a(e().fieldName)),p(C);var w=h(C,2);const I=W(()=>e().type.toUpperCase());V0(w,{get possibleValues(){return e().possibleValues},get type(){return l(I)},get value(){return e().value},set value(F){e().value=F},get isValid(){return e().isValid},set isValid(F){e().isValid=F},get startValue(){return e().valueString},set startValue(F){e().valueString=F},get currentValue(){return e().newValueString},set currentValue(F){e().newValueString=F}}),d(T,R)},A=(T,R)=>{{var C=D=>{var $=et(),k=z($),w=g(k);ae(w,{get isOpened(){return e().isOpened},set isOpened(F){e().isOpened=F},children:(F,B)=>{var O=Qe(),L=g(O);F0(L,()=>a(e().fieldName));var N=h(L);p(O),E(()=>Y(N,` ${e().type??""}`)),d(F,O)},$$slots:{default:!0}}),p(k);var I=h(k,2);q(I,21,()=>e().customValues,K,(F,B)=>{I0(F,{get isShown(){return e().isOpened},children:(O,L)=>{const N=W(()=>n()+1);Ye(O,{get item(){return l(B)},get depth(){return l(N)}})}})}),p(I),d(D,$)},j=D=>{var $=tt(),k=g($),w=g(k);F0(w,()=>a(e().fieldName));var I=h(w);p(k),p($),E(()=>Y(I,` ${e().type??""}`)),d(D,$)};Z(T,D=>{e().type==t0.CUSTOM||e().type==t0.ARRAY||e().type==t0.MAP||e().type==t0.LIST?D(C):D(j,!1)},R)}};Z(v,T=>{e().type===t0.ENUM||e().type===t0.BOOLEAN?T(P):T(A,!1)},y)}};Z(_,v=>{[t0.INT,t0.LONG,t0.DOUBLE,t0.FLOAT,t0.STRING].includes(e().type)?v(V):v(S,!1)})}p(f),E(v=>{b0(f,`--depth:${n()??""};`),c=l0(f,1,"svelte-f7jrs1",null,c,v)},[()=>({item:e(),disabled:e().type==t0.UNKNOWN,first:n()==0})]),d(o,f)};Z(x,o=>{e().isShown&&o(m)})}d(s,u),H()}v0(["click"]);function ne(s,t){if(!s)return;const e={};R0(s,i=>{const a=t(i);return i.isShown=a,a},(i,a)=>{const u=t(i),x=a.some(Boolean),m=u||x;return u?(i.isOpened=!0,i.isShown=!0,C0(i.customValues??[],o=>{o.isShown=!0},o=>{o.isShown=!0,o.isOpened=!0})):(i.isOpened=x,i.isShown=m),m});const n=i=>{i.isShown&&(e[i.className]=!0)};C0(r.jvmFields,n,n),r.openedStates=e}function at(s,t){s=s.toLowerCase(),ne(t,e=>{var n;return(n=e.fieldName)==null?void 0:n.toLowerCase().includes(s)})}let j0={openedStates:{},isOpenedMap:new Map};function le(){j0.openedStates={...r.openedStates},j0.isOpenedMap=new Map,C0(r.jvmFields,s=>{},s=>{j0.isOpenedMap.set(s.id,s.isOpened??!1)})}function ie(){r.openedStates={...j0.openedStates},C0(r.jvmFields,s=>{s.isShown=!0},s=>{s.isShown=!0,s.isOpened=j0.isOpenedMap.get(s.id)??!1})}function rt(s){if(r.searchParam=s,s!="")r.configurablesState==c0.NORMAL&&le(),r.configurablesState=c0.SEARCH,at(s,r.jvmFields);else if(r.configurablesState==c0.SEARCH){r.configurablesState=c0.NORMAL,ie();return}}function nt(){if(r.configurablesState==c0.DIFF){ie(),r.configurablesState=c0.NORMAL;return}r.configurablesState==c0.NORMAL&&le(),r.configurablesState=c0.DIFF,lt(r.jvmFields)}function lt(s){ne(s,t=>t.valueString!=r.initialJvmFields.get(t.id))}function it(s){let t=!1;return R0(s,e=>e.valueString!==r.initialJvmFields.get(e.id)?(t=!0,!0):!1,()=>t),t}var s0=K0(()=>r),ot=s=>{const t=s.target;t&&rt(t.value)},ct=()=>{nt()},vt=M('<input class="search svelte-1epp9tw" type="text" placeholder="Search"> <div><button class="svelte-1epp9tw"><!></button> <button class="svelte-1epp9tw"><!></button></div>',1),dt=M("<!> <!>",1),ut=M("<p>No configurables found.</p>"),pt=M('<div class="content svelte-1epp9tw"><!> <!></div>'),ft=M("<!> <!>",1);function gt(s,t){G(t,!1);function e(o){const f={};for(const c of o)f.hasOwnProperty(c.className)||(f[c.className]=[]),f[c.className].push(c);return f}function n(o){return R0(o,f=>f.valueString!==f.newValueString&&f.isValid,(f,c)=>c.some(Boolean)).some(Boolean)}function i(o){return R0(o,c=>c.valueString!==c.newValueString&&c.isValid?{id:c.id,newValueString:c.newValueString}:null,(c,_)=>null).filter(c=>c!==null)}function a(o){o!=null&&P0.sendMessage({kind:"updatedJvmFields",fields:i(o)})}z0();var u=ft(),x=z(u);Ve(x,{children:(o,f)=>{var c=vt(),_=z(c);_.__input=[ot];var V=h(_,2),S=g(V);S.__click=()=>{a(s0().jvmFields)};var v=g(S);const y=O0(()=>n(s0().jvmFields));Ze(v,{get isActive(){return l(y)}}),p(S);var P=h(S,2);P.__click=[ct];var A=g(P);const T=O0(()=>it(s0().jvmFields)),R=O0(()=>s0().configurablesState==c0.DIFF);Ee(A,{get isActive(){return l(T)},get isSelected(){return l(R)}}),p(P),p(V),d(o,c)}});var m=h(x,2);$0(m,{children:(o,f)=>{var c=pt(),_=g(c);q(_,1,()=>Object.entries(e(s0().jvmFields)),K,(v,y)=>{let P=()=>l(y)[0],A=()=>l(y)[1];const T=O0(()=>s0().openedStates[P()]||s0().configurablesState==c0.NORMAL);I0(v,{get isShown(){return l(T)},children:(R,C)=>{var j=dt(),D=z(j);ze(D,{get name(){return P()},get isOpened(){return s0().openedStates[P()]},set isOpened(w){s0(s0().openedStates[P()]=w)},$$legacy:!0});var $=h(D,2);const k=O0(()=>s0().openedStates[P()]==!0);I0($,{get isShown(){return l(k)},children:(w,I)=>{var F=M0(),B=z(F);q(B,1,A,K,(O,L)=>{re(O,{get item(){return l(L)}})}),d(w,F)},$$slots:{default:!0}}),d(R,j)}})});var V=h(_,2);{var S=v=>{var y=ut();d(v,y)};Z(V,v=>{s0().jvmFields.length==0&&v(S)})}p(c),d(o,c)}}),d(s,u),H()}v0(["input","click"]);class X{constructor(t,e){m0(this,"inches");m0(this,"pixels");if(this.inches=t,e!==void 0)this.pixels=e;else{const n=d0.pixels/d0.inches;this.pixels=this.inches*n}}}const d0=new X(24*6,1024),B0=new X(24*6,1024);class J{constructor(t,e){m0(this,"fieldX");m0(this,"fieldY");m0(this,"x");m0(this,"y");this.fieldX=t,this.fieldY=e;const n=d0.pixels/d0.inches;this.x=this.fieldX*n,this.y=this.fieldY*-n}static withData(t){return new J(t.x,t.y)}}let b;function ht(s){if(!s)return;const t=window.devicePixelRatio||1,e=d0.pixels*t,n=B0.pixels*t;s.width=e,s.height=n,b=s.getContext("2d"),b&&b.scale(t,t),b&&b.translate(d0.pixels/2,B0.pixels/2)}function mt(s){b!=null&&b.moveTo(s.x,s.y)}function U0(s,t,e="red",n=new X(.03)){b!=null&&(b.beginPath(),mt(s),b.lineTo(t.x,t.y),b.strokeStyle=e,b.lineWidth=n.pixels,b.stroke(),b.closePath())}function _t(s,t="blue",e=3){b!=null&&(b.beginPath(),b.arc(s.x,s.y,e,0,2*Math.PI),b.fillStyle=t,b.fill(),b.closePath())}function wt(s,t){const e=d0.pixels/d0.inches,n=t*e;s.font=`${n}px Arial`}function G0(s,t="#333",e="#fff"){if(b==null)return;b.strokeStyle=t,b.lineWidth=1,b.fillStyle=e,wt(b,3);const n=new X(d0.inches/2),i=new X(B0.inches/2);for(let a=-n.inches;a<=n.inches;a+=s.inches){U0(new J(a,-i.inches),new J(a,i.inches),t,new X(.01));for(let u=-i.inches;u<=i.inches;u+=s.inches){const x=new J(a,u);_t(x,"white",2),b.fillText(`(${a}", ${u}")`,x.x+5,x.y+5)}}for(let a=-i.inches;a<=i.inches;a+=s.inches)U0(new J(-n.inches,a),new J(n.inches,a),t,new X(.01))}async function yt(s){const e=await(await fetch(s)).blob();return new Promise((n,i)=>{const a=new FileReader;a.onloadend=()=>n(a.result),a.onerror=i,a.readAsDataURL(e)})}async function xt(s){const t=new Image;return t.src=s,await t.decode(),t}function H0(s,t,e,n){s!=null&&b!=null&&(b.save(),b.drawImage(s,t.x,t.y,e.pixels,n.pixels),b.restore())}function kt(s,t,e="blue",n="black",i=new X(.02)){e==""&&(e="transparent"),b!=null&&(b.beginPath(),b.arc(s.x,s.y,t.pixels,0,2*Math.PI),b.fillStyle=e,b.fill(),b.strokeStyle=n,b.lineWidth=i.pixels,b.stroke(),b.closePath())}function bt(s,t,e,n="green",i="black",a=new X(.02)){if(n==""&&(n="transparent"),b==null)return;const u=new J(s.fieldX-t.inches/2,s.fieldY-e.inches/2);b.beginPath(),b.fillStyle=n,b.fillRect(u.x,u.y,t.pixels,e.pixels),b.strokeStyle=i,b.lineWidth=a.pixels,b.strokeRect(u.x,u.y,t.pixels,e.pixels),b.closePath()}var St=M('<div style="width: 100%; overflow: hidden;"><canvas class="svelte-1ytlq97"></canvas></div>');function Mt(s,t){G(t,!0);let e,n,i;X0(async()=>{ht(e),n=await yt("/fields/field.png"),i=await xt(n),H0(i,new J(-72,72),new X(24*6),new X(24*6)),D0.fieldShowCoordinates=="true"&&G0(new X(24))}),E0(()=>{H0(i,new J(-72,72),new X(24*6),new X(24*6)),D0.fieldShowCoordinates=="true"&&G0(new X(24)),r.canvas.lines&&r.canvas.lines.forEach(a=>{U0(J.withData(a.start),J.withData(a.end),a.look.outlineColor,new X(a.look.outlineWidth))}),r.canvas.rectangles&&r.canvas.rectangles.forEach(a=>{bt(J.withData(a.center),new X(a.width),new X(a.height),a.look.fillColor,a.look.outlineColor,new X(a.look.outlineWidth))}),r.canvas.circles&&r.canvas.circles.forEach(a=>{kt(J.withData(a.center),new X(a.radius),a.look.fillColor,a.look.outlineColor,new X(a.look.outlineWidth))})}),$0(s,{children:(a,u)=>{var x=St(),m=g(x);Ie(m,o=>e=o,()=>e),p(x),E(()=>b0(m,`rotate: ${D0.fieldOrientation??""};`)),d(a,x)}}),H()}var $t=(s,t,e)=>t(e()),Ot=M('<li class="svelte-1a0a577"><button> </button> </li>'),Vt=Q('<text y="-2" font-size="2.5" fill="white" stroke="var(--text)" stroke-width="0.1" text-anchor="middle"> </text>'),Pt=Q('<text x="-2" font-size="2.5" fill="white" stroke="var(--text)" stroke-width="0.1" text-anchor="end"> </text>'),jt=Q('<line x1="0" x2="100" stroke="var(--text)" stroke-width="0.2"></line><line y1="0" y2="100" stroke="var(--text)" stroke-width="0.2"></line>',1),Tt=Q('<polyline fill="none" stroke-width="0.6"></polyline>'),It=M('<div class="flex svelte-1a0a577"><input type="range" min="1" max="60" aria-label="Time window"> <p> </p></div> <ul class="svelte-1a0a577"></ul> <div class="graph svelte-1a0a577"><svg viewBox="-10 -10 120 120" preserveAspectRatio="none"><rect x="0" y="0" width="100" height="100" fill="var(--card)"></rect><!><!><!><!></svg></div>',1);function At(s,t){G(t,!0);const e=S0({});function n(m){e[m]=!e[m]}function i(m,o,f,c=[0,1]){return f===o?m.map(()=>.5):m.map(_=>(_-o)/(f-o)*(c[1]-c[0])+c[0])}function a(m){const o=Object.values(m).flat().map(y=>y.data),f=Object.values(m).flat().map(y=>y.timestamp),c=Math.min(...o),_=Math.max(...o),V=Math.min(...f),S=V+r.timeWindow*1e3,v={};return Object.entries(m).forEach(([y,P])=>{const A=P.map(j=>j.timestamp),T=P.map(j=>j.data),R=i(A,V,S,[0,100]),C=i(T,c,_,[0,100]);v[y]=P.map((j,D)=>({x:Math.min(100,Math.max(0,R[D])),y:100-C[D]}))}),v}function u(m){const o=Object.values(m).flat().map(_=>_.data);if(o.length===0)return[0,1];const f=Math.min(...o),c=Math.max(...o);return[f,c]}const x=["red","lime","cyan","yellow","magenta","orange"];$0(s,{children:(m,o)=>{var f=It(),c=z(f),_=g(c);ee(_);var V=h(_,2),S=g(V);p(V),p(c);var v=h(c,2);q(v,21,()=>Object.entries(r.graphs),K,($,k)=>{let w=()=>l(k)[0],I=()=>l(k)[1];var F=Ot(),B=g(F);B.__click=[$t,n,w];let O;var L=g(B,!0);p(B);var N=h(B);p(F),E((h0,U)=>{a0(B,"aria-pressed",e[w()]),O=l0(B,1,"svelte-1a0a577",null,O,h0),Y(L,w()),Y(N,` – ${I().length??""} entries / ${U??""}`)},[()=>({selected:e[w()]}),()=>parseFloat(I()[I().length-1].data.toString()).toFixed(3)]),d($,F)}),p(v);var y=h(v,2),P=g(y),A=h(g(P));q(A,16,()=>[0,25,50,75,100],K,($,k)=>{var w=Vt(),I=g(w);p(w),E(F=>{a0(w,"x",k),Y(I,`${F??""}s`)},[()=>Math.round(k/100*r.timeWindow)]),d($,w)});var T=h(A);{var R=$=>{var k=M0();const w=W(()=>Object.fromEntries(Object.entries(r.graphs).filter(([B])=>e[B]))),I=W(()=>{const[B,O]=u(l(w));return{min:B,max:O}});var F=z(k);q(F,16,()=>[0,25,50,75,100],K,(B,O)=>{var L=Pt(),N=g(L,!0);p(L),E(h0=>{a0(L,"y",100-O),Y(N,h0)},[()=>(l(I).min+O/100*(l(I).max-l(I).min)).toFixed(2)]),d(B,L)}),d($,k)};Z(T,$=>{Object.keys(e).some(k=>e[k])&&$(R)})}var C=h(T);q(C,16,()=>[25,50,75],K,($,k)=>{var w=jt(),I=z(w),F=h(I);E(()=>{a0(I,"y1",k),a0(I,"y2",k),a0(F,"x1",k),a0(F,"x2",k)}),d($,w)});var j=h(C);{var D=$=>{var k=M0(),w=z(k);q(w,17,()=>Object.entries(a(Object.fromEntries(Object.entries(r.graphs).filter(([I])=>e[I])))),K,(I,F,B)=>{let O=()=>l(F)[1];var L=Tt();E(N=>{a0(L,"stroke",x[B%x.length]),a0(L,"points",N)},[()=>O().map(N=>`${N.x},${N.y}`).join(" ")]),d(I,L)}),d($,k)};Z(j,$=>{Object.keys(e).some(k=>e[k])&&$(D)})}p(P),p(y),E(()=>Y(S,`(last ${r.timeWindow??""}s)`)),J0(_,()=>r.timeWindow,$=>r.timeWindow=$),d(m,f)}}),H()}v0(["click"]);var Ft=(s,t,e)=>t.onselect(l(e)),Dt=M('<button class="svelte-6klxoa"> </button>'),Rt=M('<p class="svelte-6klxoa">No opModes here.</p>'),Ct=M("<!> <!>",1);function q0(s,t){G(t,!0);var e=Ct(),n=z(e);q(n,17,()=>r.opModes.filter(u=>u.flavour==t.flavour),K,(u,x)=>{var m=Dt();m.__click=[Ft,t,x];var o=g(m);p(m),E(()=>Y(o,`${l(x).name??""} / ${l(x).group??""}`)),d(u,m)});var i=h(n,2);{var a=u=>{var x=Rt();d(u,x)};Z(i,u=>{r.opModes.filter(x=>x.flavour==t.flavour).length==0&&u(a)})}d(s,e),H()}v0(["click"]);var Et=(s,t)=>t("autos"),Nt=(s,t)=>t("teleops"),Lt=M('<p class="title svelte-1owm73j">Nothing selected</p>'),Zt=M('<p class="title svelte-1owm73j"><span class="title_small svelte-1owm73j"> </span> </p>'),Wt=M('<div class="modal autos svelte-1owm73j"><!></div> <div class="modal teleops svelte-1owm73j"><!></div> <div class="controls svelte-1owm73j"><button class="svelte-1owm73j"><span class="svelte-1owm73j">Autos<!></span></button> <button class="svelte-1owm73j"><span class="svelte-1owm73j">TeleOps<!></span></button></div> <!> <div class="flex svelte-1owm73j"><!> <!> <!></div>',1);function Bt(s,t){G(t,!0);let e=T0("");function n(u){l(e)!=u?o0(e,S0(u)):o0(e,"")}function i(u){o0(a,S0(u)),o0(e,"")}E0(()=>{if(console.log(r.activeOpMode),r.activeOpMode==" ")return;console.log("Length: ",r.opModes.length);let u=null;for(const x of r.opModes)x.name==r.activeOpMode&&(u=x);u!=null&&o0(a,S0(u))});let a=T0(S0({name:"",group:"",flavour:"AUTONOMOUS"}));$0(s,{children:(u,x)=>{var m=Wt(),o=z(m),f=g(o);const c=W(()=>l(e)=="autos");I0(f,{get isShown(){return l(c)},children:(U,e0)=>{q0(U,{flavour:"AUTONOMOUS",onselect:i})}}),p(o);var _=h(o,2),V=g(_);const S=W(()=>l(e)=="teleops");I0(V,{get isShown(){return l(S)},children:(U,e0)=>{q0(U,{flavour:"TELEOP",onselect:i})}}),p(_);var v=h(_,2),y=g(v);y.__click=[Et,n];var P=g(y),A=h(g(P));const T=W(()=>l(e)=="autos");W0(A,{get isOpened(){return l(T)}}),p(P),p(y);var R=h(y,2);R.__click=[Nt,n];var C=g(R),j=h(g(C));const D=W(()=>l(e)=="teleops");W0(j,{get isOpened(){return l(D)}}),p(C),p(R),p(v);var $=h(v,2);{var k=U=>{var e0=Lt();d(U,e0)},w=U=>{var e0=Zt(),n0=g(e0),N0=g(n0,!0);p(n0);var u0=h(n0);p(e0),E(()=>{Y(N0,l(a).flavour),Y(u0,` ${l(a).name??""}`)}),d(U,e0)};Z($,U=>{l(a).name==""?U(k):U(w,!1)})}var I=h($,2),F=g(I);const B=W(()=>l(a).name==""||r.activeOpModeStatus=="running"&&r.activeOpMode!="$Stop$Robot$"||r.activeOpModeStatus=="stopped"&&r.activeOpMode!="$Stop$Robot$"||l(a).name!=""&&r.activeOpModeStatus=="init");g0(F,{get disabled(){return l(B)},onclick:()=>{P0.sendMessage({kind:"initOpMode",opModeName:l(a).name})},children:(U,e0)=>{f0();var n0=p0("Initialize");d(U,n0)},$$slots:{default:!0}});var O=h(F,2);const L=W(()=>r.activeOpMode=="$Stop$Robot$"||l(a).name==""||r.activeOpModeStatus!="init");g0(O,{get disabled(){return l(L)},onclick:()=>{P0.sendMessage({kind:"startActiveOpMode"})},children:(U,e0)=>{f0();var n0=p0("Start");d(U,n0)},$$slots:{default:!0}});var N=h(O,2);const h0=W(()=>r.activeOpMode=="$Stop$Robot$"||l(a).name==""||r.activeOpModeStatus=="stopped");g0(N,{get disabled(){return l(h0)},onclick:()=>{P0.sendMessage({kind:"stopActiveOpMode"})},children:(U,e0)=>{f0();var n0=p0("Stop");d(U,n0)},$$slots:{default:!0}}),p(I),d(u,m)}}),H()}v0(["click"]);var Ut=M('<p> </p> <p> </p> <input type="range"> <div class="flex-item svelte-1o86sht"><p>Animation speed</p> <!></div> <div><div class="flex svelte-1o86sht"><!> <!> <!></div> <div class="flex svelte-1o86sht"><!> <!></div></div>',1);function zt(s,t){G(t,!0);let e=T0("1x");E0(()=>{l(e)!=null&&r.isForwarding&&(a=r.timestamp,i=performance.now())});let n=null,i=null,a=0;function u(m){if(!r.isForwarding||i===null)return;const o=m-i,f=parseFloat(l(e).replace("x",""));r.timestamp=Math.min(a+o*f,r.duration),r.timestamp<r.duration?n=requestAnimationFrame(u):(r.timestamp=r.duration,r.isForwarding=!1,n=null,i=null)}function x(){r.isForwarding=!r.isForwarding,r.isForwarding?(a=r.timestamp,i=performance.now(),n=requestAnimationFrame(u)):(i=null,n!==null&&(cancelAnimationFrame(n),n=null))}Me(()=>{n!==null&&cancelAnimationFrame(n)}),$0(s,{children:(m,o)=>{var f=Ut(),c=z(f),_=g(c);p(c);var V=h(c,2),S=g(V);p(V);var v=h(V,2);ee(v),a0(v,"min",0);var y=h(v,2),P=h(g(y),2);V0(P,{startValue:"1x",value:"1x",possibleValues:["0.1x","0.25x","0.5x","1x","2x","3x","4x"],get isValid(){return r.hasRecording},alwaysValid:!0,get currentValue(){return l(e)},set currentValue(O){o0(e,S0(O))}}),p(y);var A=h(y,2),T=g(A),R=g(T);g0(R,{onclick:()=>{r.isRecording=!0},get disabled(){return r.isRecording},children:(O,L)=>{f0();var N=p0("Start");d(O,N)},$$slots:{default:!0}});var C=h(R,2);const j=W(()=>!r.isRecording);g0(C,{onclick:()=>{r.isRecording=!1},get disabled(){return l(j)},children:(O,L)=>{f0();var N=p0("Stop");d(O,N)},$$slots:{default:!0}});var D=h(C,2);const $=W(()=>!r.hasRecording);g0(D,{onclick:()=>{r.isRecording=!1,r.history=[],r.timestamp=0,r.isPlaying=!1},get disabled(){return l($)},children:(O,L)=>{f0();var N=p0("Reset");d(O,N)},$$slots:{default:!0}}),p(T);var k=h(T,2),w=g(k);const I=W(()=>!r.hasRecording);g0(w,{onclick:()=>{r.isPlaying=!r.isPlaying},get disabled(){return l(I)},children:(O,L)=>{f0();var N=p0();E(()=>Y(N,`${(r.isPlaying?"Disable":"Enable")??""} Visual Sync`)),d(O,N)},$$slots:{default:!0}});var F=h(w,2);const B=W(()=>!r.hasRecording);g0(F,{onclick:x,get disabled(){return l(B)},children:(O,L)=>{f0();var N=p0();E(()=>Y(N,`${(r.isForwarding?"Stop":"Start")??""} Playing`)),d(O,N)},$$slots:{default:!0}}),p(k),p(A),E((O,L)=>{Y(_,`Got ${r.history.length??""} entries`),Y(S,`Timestamp: ${O??""}s / ${L??""}s`),v.disabled=!r.hasRecording,a0(v,"max",r.duration)},[()=>(r.timestamp/1e3).toFixed(2),()=>(r.duration/1e3).toFixed(2)]),J0(v,()=>r.timestamp,O=>r.timestamp=O),d(m,f)}}),H()}var Xt=M("<p> </p>"),Yt=M("<p>No telemetry found.</p>"),Gt=M("<!> <!>",1);function Ht(s,t){G(t,!1),z0(),$0(s,{children:(e,n)=>{var i=Gt(),a=z(i);q(a,1,()=>r.telemetry,K,(m,o)=>{var f=Xt(),c=g(f,!0);p(f),E(()=>Y(c,l(o))),d(m,f)});var u=h(a,2);{var x=m=>{var o=Yt();d(m,o)};Z(u,m=>{r.telemetry.length==0&&m(x)})}d(e,i)}}),H()}var qt=Q('<svg width="100%" height="100%" viewBox="0 0 18 7" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" class="svelte-8ek7md"><g><path d="M0.968,4.032c-0.207,-0.128 -0.333,-0.354 -0.333,-0.597c-0,-0.243 0.126,-0.469 0.333,-0.597c0.987,-0.608 2.514,-1.549 3.535,-2.179c0.217,-0.133 0.488,-0.139 0.71,-0.015c0.222,0.123 0.359,0.358 0.359,0.612c0,1.238 0,3.12 0,4.358c0,0.254 -0.137,0.489 -0.359,0.612c-0.222,0.124 -0.493,0.118 -0.71,-0.015c-1.021,-0.63 -2.548,-1.571 -3.535,-2.179Z" class="svelte-8ek7md"></path><path d="M16.674,2.838c0.207,0.128 0.333,0.354 0.333,0.597c-0,0.243 -0.126,0.469 -0.333,0.597c-0.987,0.608 -2.514,1.549 -3.536,2.179c-0.216,0.133 -0.488,0.139 -0.709,0.015c-0.222,-0.123 -0.36,-0.358 -0.36,-0.612c0,-1.238 0,-3.12 0,-4.358c0,-0.254 0.138,-0.489 0.36,-0.612c0.221,-0.124 0.493,-0.118 0.709,0.015c1.022,0.63 2.549,1.571 3.536,2.179Z" class="svelte-8ek7md"></path><path d="M3.71,2.97c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.807,0 2.749,0 3.556,0c0.096,0 0.188,0.038 0.256,0.106c0.068,0.068 0.106,0.16 0.106,0.256c-0,0.276 -0,0.654 -0,0.93c-0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.807,-0 -2.749,-0 -3.556,-0c-0.096,-0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.276 0,-0.654 0,-0.93Z" class="svelte-8ek7md"></path><path d="M13.931,3.9c0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.068 -0.159,0.106 -0.255,0.106c-0.808,-0 -2.75,-0 -3.557,-0c-0.096,-0 -0.188,-0.038 -0.255,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c-0,-0.276 -0,-0.654 -0,-0.93c-0,-0.096 0.038,-0.188 0.106,-0.256c0.067,-0.068 0.159,-0.106 0.255,-0.106c0.807,0 2.749,0 3.557,0c0.096,0 0.187,0.038 0.255,0.106c0.068,0.068 0.106,0.16 0.106,0.256c0,0.276 0,0.654 0,0.93Z" class="svelte-8ek7md"></path></g></svg>');function Kt(s){var t=qt();d(s,t)}var Jt=Q('<svg width="100%" height="100%" viewBox="0 0 16 7" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" class="svelte-8ek7md"><g><path d="M7.022,2.838c0.207,0.128 0.333,0.354 0.333,0.597c0,0.243 -0.126,0.469 -0.333,0.597c-0.987,0.608 -2.514,1.549 -3.536,2.179c-0.216,0.133 -0.487,0.139 -0.709,0.015c-0.222,-0.123 -0.359,-0.358 -0.359,-0.612c-0,-1.238 -0,-3.12 -0,-4.358c-0,-0.254 0.137,-0.489 0.359,-0.612c0.222,-0.124 0.493,-0.118 0.709,0.015c1.022,0.63 2.549,1.571 3.536,2.179Z" class="svelte-8ek7md"></path><path d="M8.863,4.032c-0.207,-0.128 -0.333,-0.354 -0.333,-0.597c-0,-0.243 0.126,-0.469 0.333,-0.597c0.986,-0.608 2.513,-1.549 3.535,-2.179c0.216,-0.133 0.488,-0.139 0.71,-0.015c0.221,0.123 0.359,0.358 0.359,0.612c-0,1.238 -0,3.12 -0,4.358c-0,0.254 -0.138,0.489 -0.359,0.612c-0.222,0.124 -0.494,0.118 -0.71,-0.015c-1.022,-0.63 -2.549,-1.571 -3.535,-2.179Z" class="svelte-8ek7md"></path><path d="M4.28,3.9c-0,0.096 -0.039,0.188 -0.106,0.256c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.807,-0 -2.749,-0 -3.556,-0c-0.096,-0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c-0,-0.276 -0,-0.654 -0,-0.93c-0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.807,0 2.749,0 3.556,0c0.096,0 0.188,0.038 0.256,0.106c0.067,0.068 0.106,0.16 0.106,0.256c-0,0.276 -0,0.654 -0,0.93Z" class="svelte-8ek7md"></path><path d="M11.605,2.97c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.807,0 2.749,0 3.556,0c0.096,0 0.188,0.038 0.256,0.106c0.067,0.068 0.106,0.16 0.106,0.256c-0,0.276 -0,0.654 -0,0.93c-0,0.096 -0.039,0.188 -0.106,0.256c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.807,-0 -2.749,-0 -3.556,-0c-0.096,-0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.276 0,-0.654 0,-0.93Z" class="svelte-8ek7md"></path></g></svg>');function Qt(s){var t=Jt();d(s,t)}var es=Q('<svg width="100%" height="100%" viewBox="0 0 18 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" class="svelte-7dk81x"><g><g><path d="M8.224,0.968c0.128,-0.207 0.354,-0.333 0.597,-0.333c0.243,-0 0.469,0.126 0.596,0.333c0.609,0.987 1.55,2.514 2.18,3.535c0.133,0.217 0.139,0.488 0.015,0.71c-0.124,0.222 -0.358,0.359 -0.612,0.359c-1.238,0 -3.12,0 -4.359,0c-0.254,0 -0.488,-0.137 -0.612,-0.359c-0.124,-0.222 -0.118,-0.493 0.016,-0.71c0.63,-1.021 1.571,-2.548 2.179,-3.535Z" style="fill:#fff;" class="svelte-7dk81x"></path><path d="M9.417,16.674c-0.127,0.207 -0.353,0.333 -0.596,0.333c-0.243,-0 -0.469,-0.126 -0.597,-0.333c-0.608,-0.987 -1.549,-2.514 -2.179,-3.536c-0.134,-0.216 -0.14,-0.488 -0.016,-0.709c0.124,-0.222 0.358,-0.36 0.612,-0.36c1.239,0 3.121,0 4.359,0c0.254,0 0.488,0.138 0.612,0.36c0.124,0.221 0.118,0.493 -0.015,0.709c-0.63,1.022 -1.571,2.549 -2.18,3.536Z" style="fill:#fff;" class="svelte-7dk81x"></path><path d="M9.286,3.71c0.096,0 0.188,0.038 0.256,0.106c0.067,0.068 0.105,0.16 0.105,0.256c0,0.807 0,2.749 0,3.556c0,0.096 -0.038,0.188 -0.105,0.256c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.276,-0 -0.654,-0 -0.93,-0c-0.096,-0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.807 0,-2.749 0,-3.556c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.276,0 0.654,0 0.93,0Z" style="fill:#fff;" class="svelte-7dk81x"></path><path d="M8.356,13.931c-0.096,0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.159 -0.106,-0.255c0,-0.808 0,-2.75 0,-3.557c0,-0.096 0.038,-0.188 0.106,-0.255c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.276,-0 0.654,-0 0.93,-0c0.096,-0 0.188,0.038 0.256,0.106c0.067,0.067 0.105,0.159 0.105,0.255c0,0.807 0,2.749 0,3.557c0,0.096 -0.038,0.187 -0.105,0.255c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.276,0 -0.654,0 -0.93,0Z" style="fill:#fff;" class="svelte-7dk81x"></path></g><g><path d="M0.968,9.417c-0.207,-0.127 -0.333,-0.353 -0.333,-0.596c-0,-0.243 0.126,-0.469 0.333,-0.597c0.987,-0.608 2.514,-1.549 3.535,-2.179c0.217,-0.134 0.488,-0.14 0.71,-0.016c0.222,0.124 0.359,0.358 0.359,0.612c0,1.239 0,3.121 0,4.359c0,0.254 -0.137,0.488 -0.359,0.612c-0.222,0.124 -0.493,0.118 -0.71,-0.015c-1.021,-0.63 -2.548,-1.571 -3.535,-2.18Z" style="fill:#fff;" class="svelte-7dk81x"></path><path d="M16.674,8.224c0.207,0.128 0.333,0.354 0.333,0.597c-0,0.243 -0.126,0.469 -0.333,0.596c-0.987,0.609 -2.514,1.55 -3.536,2.18c-0.216,0.133 -0.488,0.139 -0.709,0.015c-0.222,-0.124 -0.36,-0.358 -0.36,-0.612c0,-1.238 0,-3.12 0,-4.359c0,-0.254 0.138,-0.488 0.36,-0.612c0.221,-0.124 0.493,-0.118 0.709,0.016c1.022,0.63 2.549,1.571 3.536,2.179Z" style="fill:#fff;" class="svelte-7dk81x"></path><path d="M3.71,8.356c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.807,0 2.749,0 3.556,0c0.096,0 0.188,0.038 0.256,0.106c0.068,0.068 0.106,0.16 0.106,0.256c-0,0.276 -0,0.654 -0,0.93c-0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.067 -0.16,0.105 -0.256,0.105c-0.807,0 -2.749,0 -3.556,0c-0.096,0 -0.188,-0.038 -0.256,-0.105c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.276 0,-0.654 0,-0.93Z" style="fill:#fff;" class="svelte-7dk81x"></path><path d="M13.931,9.286c0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.067 -0.159,0.105 -0.255,0.105c-0.808,0 -2.75,0 -3.557,0c-0.096,0 -0.188,-0.038 -0.255,-0.105c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c-0,-0.276 -0,-0.654 -0,-0.93c-0,-0.096 0.038,-0.188 0.106,-0.256c0.067,-0.068 0.159,-0.106 0.255,-0.106c0.807,0 2.749,0 3.557,0c0.096,0 0.187,0.038 0.255,0.106c0.068,0.068 0.106,0.16 0.106,0.256c0,0.276 0,0.654 0,0.93Z" style="fill:#fff;" class="svelte-7dk81x"></path></g></g></svg>');function ts(s){var t=es();d(s,t)}var ss=Q('<svg width="100%" height="100%" viewBox="0 0 7 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" class="svelte-1wm7yl4"><g><path d="M2.838,0.968c0.128,-0.207 0.354,-0.333 0.597,-0.333c0.243,-0 0.469,0.126 0.597,0.333c0.608,0.987 1.549,2.514 2.179,3.535c0.133,0.217 0.139,0.488 0.015,0.71c-0.123,0.222 -0.358,0.359 -0.612,0.359c-1.238,0 -3.12,0 -4.358,0c-0.254,0 -0.489,-0.137 -0.612,-0.359c-0.124,-0.222 -0.118,-0.493 0.015,-0.71c0.63,-1.021 1.571,-2.548 2.179,-3.535Z" class="svelte-1wm7yl4"></path><path d="M4.032,16.674c-0.128,0.207 -0.354,0.333 -0.597,0.333c-0.243,-0 -0.469,-0.126 -0.597,-0.333c-0.608,-0.987 -1.549,-2.514 -2.179,-3.536c-0.133,-0.216 -0.139,-0.488 -0.015,-0.709c0.123,-0.222 0.358,-0.36 0.612,-0.36c1.238,0 3.12,0 4.358,0c0.254,0 0.489,0.138 0.612,0.36c0.124,0.221 0.118,0.493 -0.015,0.709c-0.63,1.022 -1.571,2.549 -2.179,3.536Z" class="svelte-1wm7yl4"></path><path d="M3.9,3.71c0.096,0 0.188,0.038 0.256,0.106c0.068,0.068 0.106,0.16 0.106,0.256c-0,0.807 -0,2.749 -0,3.556c-0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.276,-0 -0.654,-0 -0.93,-0c-0.096,-0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.807 0,-2.749 0,-3.556c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.276,0 0.654,0 0.93,0Z" class="svelte-1wm7yl4"></path><path d="M2.97,13.931c-0.096,0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.159 -0.106,-0.255c0,-0.808 0,-2.75 0,-3.557c0,-0.096 0.038,-0.188 0.106,-0.255c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.276,-0 0.654,-0 0.93,-0c0.096,-0 0.188,0.038 0.256,0.106c0.068,0.067 0.106,0.159 0.106,0.255c-0,0.807 -0,2.749 -0,3.557c-0,0.096 -0.038,0.187 -0.106,0.255c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.276,0 -0.654,0 -0.93,0Z" class="svelte-1wm7yl4"></path></g></svg>');function as(s){var t=ss();d(s,t)}var rs=Q('<svg width="100%" height="100%" viewBox="0 0 7 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" class="svelte-1wm7yl4"><g><path d="M2.838,8.863c0.128,-0.207 0.354,-0.333 0.597,-0.333c0.243,-0 0.469,0.126 0.597,0.333c0.608,0.986 1.549,2.513 2.179,3.535c0.133,0.216 0.139,0.488 0.015,0.71c-0.123,0.221 -0.358,0.359 -0.612,0.359c-1.238,-0 -3.12,-0 -4.358,-0c-0.254,-0 -0.489,-0.138 -0.612,-0.359c-0.124,-0.222 -0.118,-0.494 0.015,-0.71c0.63,-1.022 1.571,-2.549 2.179,-3.535Z" class="svelte-1wm7yl4"></path><path d="M4.032,7.022c-0.128,0.207 -0.354,0.333 -0.597,0.333c-0.243,0 -0.469,-0.126 -0.597,-0.333c-0.608,-0.987 -1.549,-2.514 -2.179,-3.536c-0.133,-0.216 -0.139,-0.487 -0.015,-0.709c0.123,-0.222 0.358,-0.359 0.612,-0.359c1.238,-0 3.12,-0 4.358,-0c0.254,-0 0.489,0.137 0.612,0.359c0.124,0.222 0.118,0.493 -0.015,0.709c-0.63,1.022 -1.571,2.549 -2.179,3.536Z" class="svelte-1wm7yl4"></path><path d="M3.9,11.605c0.096,0 0.188,0.038 0.256,0.106c0.068,0.068 0.106,0.16 0.106,0.256c-0,0.807 -0,2.749 -0,3.556c-0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.067 -0.16,0.106 -0.256,0.106c-0.276,-0 -0.654,-0 -0.93,-0c-0.096,-0 -0.188,-0.039 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.807 0,-2.749 0,-3.556c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.276,0 0.654,0 0.93,0Z" class="svelte-1wm7yl4"></path><path d="M2.97,4.28c-0.096,-0 -0.188,-0.039 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.807 0,-2.749 0,-3.556c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.276,-0 0.654,-0 0.93,-0c0.096,-0 0.188,0.038 0.256,0.106c0.068,0.068 0.106,0.16 0.106,0.256c-0,0.807 -0,2.749 -0,3.556c-0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.067 -0.16,0.106 -0.256,0.106c-0.276,-0 -0.654,-0 -0.93,-0Z" class="svelte-1wm7yl4"></path></g></svg>');function ns(s){var t=rs();d(s,t)}var ls=(s,t,e)=>{t.gridManager.startMoving(e().id)},is=(s,t,e)=>{t.gridManager.remove(e().id)},os=(s,t,e)=>{if(t.gridManager.canExpandRight(e())){e().sizes.x++;return}if(t.gridManager.canExpandLeft(e())){e().sizes.x++,e().start.x--;return}A0.add("Not enough space to expand horizontally.")},cs=(s,t)=>{t().sizes.x<=2?A0.add("Cannot make this small."):t().sizes.x--},vs=(s,t,e)=>{if(t.gridManager.canExpandDown(e())){e().sizes.y++;return}if(t.gridManager.canExpandUp(e())){e().sizes.y++,e().start.y--;return}A0.add("Not enough space to expand vertically.")},ds=(s,t)=>{t().sizes.y<=2?A0.add("Cannot make this small."):t().sizes.y--},us=M("<!> <!>",1),ps=M('<button class="svelte-13t3ky3"><!></button> <button class="svelte-13t3ky3"><!></button> <button class="svelte-13t3ky3"><!></button> <button class="svelte-13t3ky3"><!></button> <button class="svelte-13t3ky3"><!></button> <button class="svelte-13t3ky3"><!></button> <!> <!>',1);function fs(s,t){G(t,!0);let e=r0(t,"m",7);var n=ps(),i=z(n);i.__mousedown=[ls,t,e];var a=g(i);ts(a),p(i);var u=h(i,2);u.__click=[is,t,e];var x=g(u);Se(x),p(u);var m=h(u,2);m.__click=[os,t,e];var o=g(m);Kt(o),p(m);var f=h(m,2);f.__click=[cs,e];var c=g(f);Qt(c),p(f);var _=h(f,2);_.__click=[vs,t,e];var V=g(_);as(V),p(_);var S=h(_,2);S.__click=[ds,e];var v=g(S);ns(v),p(S);var y=h(S,2);V0(y,{type:"",get startValue(){return e().types[e().activeType].type},get value(){return e().types[e().activeType].type},possibleValues:Oe,isValid:!0,alwaysValid:!0,get currentValue(){return e().types[e().activeType].type},set currentValue(T){e().types[e().activeType].type=T}});var P=h(y,2);{var A=T=>{var R=us(),C=z(R);const j=W(()=>[...r.plugins.map(k=>k.id),"none"]);V0(C,{type:"",get startValue(){return e().types[e().activeType].pluginID},get value(){return e().types[e().activeType].pluginID},get possibleValues(){return l(j)},isValid:!0,alwaysValid:!0,get currentValue(){return e().types[e().activeType].pluginID},set currentValue(k){e().types[e().activeType].pluginID=k}});var D=h(C,2);{var $=k=>{const w=W(()=>[...r.plugins.find(I=>I.id==e().types[e().activeType].pluginID).pages.map(I=>I.id),"none"]);V0(k,{type:"",get startValue(){return e().types[e().activeType].pageID},get value(){return e().types[e().activeType].pageID},get possibleValues(){return l(w)},isValid:!0,alwaysValid:!0,get currentValue(){return e().types[e().activeType].pageID},set currentValue(I){e().types[e().activeType].pageID=I}})};Z(D,k=>{e().types[e().activeType].pluginID!="none"&&k($)})}d(T,R)};Z(P,T=>{e().types[e().activeType].type==i0.CUSTOM&&T(A)})}d(s,n),H()}v0(["mousedown","click"]);var gs=M('<button class="svelte-ysk6ri">x</button>'),hs=M("<button> </button> <!>",1),ms=(s,t)=>{t().types.push({pluginID:"none",pageID:"none",type:i0.TEST}),console.log(t())},_s=M('<button class="svelte-ysk6ri">+</button>'),ws=M('<div class="controls svelte-ysk6ri"><!></div>'),ys=M('<p style="padding: 1rem;">CUSTOM not valid</p>'),xs=M('<p style="padding: 1rem;"> </p>'),ks=M("<div><!></div>"),bs=M('<div class="bar svelte-ysk6ri"><div class="controls svelte-ysk6ri"><!> <!></div> <!></div> <!>',1);function Ss(s,t){G(t,!0);let e=r0(t,"m",7);te(s,{children:(n,i)=>{var a=bs(),u=z(a),x=g(u),m=g(x);q(m,17,()=>e().types,K,(S,v,y)=>{var P=hs(),A=z(P);let T;A.__click=()=>{e().activeType=y};var R=g(A,!0);p(A);var C=h(A,2);{var j=D=>{var $=gs();$.__click=()=>{if(e().types.length<=1){A0.add("Cannot remove last widget.");return}e().types=e().types.filter((k,w)=>w!==y),e().activeType--,e().activeType<0&&(e().activeType=0)},d(D,$)};Z(C,D=>{r.showEdit&&e().types.length>1&&D(j)})}E(D=>{T=l0(A,1,"base svelte-ysk6ri",null,T,D),Y(R,l(v).type)},[()=>({selected:y==e().activeType})]),d(S,P)});var o=h(m,2);{var f=S=>{var v=_s();v.__click=[ms,e],d(S,v)};Z(o,S=>{r.showEdit&&S(f)})}p(x);var c=h(x,2);{var _=S=>{var v=ws(),y=g(v);fs(y,{get m(){return e()},get gridManager(){return t.gridManager}}),p(v),d(S,v)};Z(c,S=>{r.showEdit&&S(_)})}p(u);var V=h(u,2);q(V,17,()=>e().types,K,(S,v,y)=>{var P=ks();let A;var T=g(P);{var R=j=>{Bt(j,{})},C=(j,D)=>{{var $=w=>{je(w,{get gamepad(){return Pe.gamepads[0]}})},k=(w,I)=>{{var F=O=>{Mt(O,{})},B=(O,L)=>{{var N=U=>{Ht(U,{})},h0=(U,e0)=>{{var n0=u0=>{gt(u0,{})},N0=(u0,oe)=>{{var ce=_0=>{At(_0,{})},ve=(_0,de)=>{{var ue=w0=>{zt(w0,{})},pe=(w0,fe)=>{{var ge=y0=>{var x0=M0(),L0=z(x0);{var me=k0=>{Re(k0,{get pluginID(){return l(v).pluginID},get pageID(){return l(v).pageID}})},_e=k0=>{var we=ys();d(k0,we)};Z(L0,k0=>{l(v).pluginID&&l(v).pageID?k0(me):k0(_e,!1)})}d(y0,x0)},he=y0=>{var x0=xs(),L0=g(x0);p(x0),E(()=>Y(L0,`This is an unknown widget of type "${l(v).type??""}"`)),d(y0,x0)};Z(w0,y0=>{l(v).type==i0.CUSTOM?y0(ge):y0(he,!1)},fe)}};Z(_0,w0=>{l(v).type==i0.CAPTURE?w0(ue):w0(pe,!1)},de)}};Z(u0,_0=>{l(v).type==i0.GRAPH?_0(ce):_0(ve,!1)},oe)}};Z(U,u0=>{l(v).type==i0.CONFIGURABLES?u0(n0):u0(N0,!1)},e0)}};Z(O,U=>{l(v).type==i0.TELEMETRY?U(N):U(h0,!1)},L)}};Z(w,O=>{l(v).type==i0.FIELD?O(F):O(B,!1)},I)}};Z(j,w=>{l(v).type==i0.GAMEPAD?w($):w(k,!1)},D)}};Z(T,j=>{l(v).type==i0.CONTROLS?j(R):j(C,!1)})}p(P),E(j=>A=l0(P,1,"content svelte-ysk6ri",null,A,j),[()=>({shown:y==e().activeType})]),d(S,P)}),d(n,a)},$$slots:{default:!0}}),H()}v0(["click"]);var Ms=M("<div><!></div>"),$s=M('<div class="item svelte-po0j3y"><!></div>'),Os=M("<button><!></button>"),Vs=(s,t)=>{if(t().selectedWidget!=null){if(!t().canPlace){t().stopMoving("Cannot move there.");return}t().performMove(),t().stopMoving(null)}},Ps=M("<p></p>"),js=M('<section role="button" tabindex="0" class="svelte-po0j3y"></section>'),Ts=M('<div class="container svelte-po0j3y"><section class="svelte-po0j3y"><!> <!> <!></section> <!></div>');function Is(s,t){G(t,!0);let e=r0(t,"gridManager",7);var n=Ts(),i=g(n),a=g(i);q(a,17,()=>e().modules,K,(c,_)=>{var V=Ms();let S;var v=g(V);Ss(v,{get m(){return l(_)},get gridManager(){return e()}}),p(V),E(y=>{S=l0(V,1,"item svelte-po0j3y",null,S,y),b0(V,`
        grid-column: ${l(_).start.x??""} / span ${l(_).sizes.x??""};
        grid-row: ${l(_).start.y??""} / span ${l(_).sizes.y??""};
        `)},[()=>({isOverlay:e().selectedWidgetId==l(_).id})]),d(c,V)});var u=h(a,2);{var x=c=>{var _=$s(),V=g(_);te(V,{isPrimary:!0}),p(_),E(()=>b0(_,`
  grid-column: ${e().selectedCellX??""} / span ${e().selectedWidget.sizes.x??""};
  grid-row: ${e().selectedCellY??""} / span ${e().selectedWidget.sizes.y??""};
  `)),d(c,_)};Z(u,c=>{e().selectedWidget!=null&&c(x)})}var m=h(u,2);q(m,17,()=>Array.from({length:e().cellsX*e().cellsY}),K,(c,_,V)=>{var S=Os();const v=W(()=>e().modulesMap[Math.floor(V/e().cellsX)+1][V%e().cellsX+1]);let y;S.__click=()=>{e().addNew(V%e().cellsX+1,Math.floor(V/e().cellsX)+1)};var P=g(S);Fe(P),p(S),E(A=>{b0(S,l(v)!=null?"display: none;":""),y=l0(S,1,"add svelte-po0j3y",null,y,A)},[()=>({shown:r.showEdit&&!e().isMoving})]),d(c,S)}),p(i);var o=h(i,2);{var f=c=>{var _=js();_.__mouseup=[Vs,e],q(_,21,()=>Array.from({length:e().cellsX*e().cellsY}),K,(V,S,v)=>{var y=Ps();const P=W(()=>e().modulesMap[Math.floor(v/e().cellsX)+1][v%e().cellsX+1]);let A;y.__mouseover=()=>{if(console.log(v),e().selectedWidget==null)return;const T=e().selectedWidget,R=v%e().cellsX+1,C=Math.floor(v/e().cellsX)+1,j=e().coreCheckPlace(R,C,T),D=e().coreCheckPlace(R,e().selectedCellY,T),$=e().coreCheckPlace(e().selectedCellX,C,T);console.log("canPlaceBoth",j),console.log("canPlaceX",D),console.log("canPlaceY",$),(D||j)&&(e().selectedCellX=R),($||j)&&(e().selectedCellY=C)},E(T=>A=l0(y,1,"overlay-item svelte-po0j3y",null,A,T),[()=>({isEmpty:l(P)!=null&&l(P)!=e().selectedWidgetId})]),Q0("focus",y,()=>{}),d(V,y)}),p(_),d(c,_)};Z(o,c=>{e().isMoving&&c(f)})}p(n),E(()=>b0(n,`--cellsX:${e().cellsX??""} ;--cellsY: ${e().cellsY??""};`)),d(s,n),H()}v0(["click","mouseup","mouseover"]);var Z0=K0(()=>D0);function Qs(s,t){G(t,!1),X0(()=>{const e=$e.url.searchParams.get("preset");e!=null&&Z0(Z0().selectedManagerID=e)}),z0(),Is(s,{get gridManager(){return Z0().currentGrid}}),H()}export{Qs as component};
