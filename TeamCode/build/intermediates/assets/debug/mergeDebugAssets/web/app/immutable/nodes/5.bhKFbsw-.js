var he=Object.defineProperty;var _e=(s,t,e)=>t in s?he(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var m0=(s,t,e)=>_e(s,typeof t!="symbol"?t+"":t,e);import{n as J,a as d,c as b0,t as M,d as u0}from"../chunks/CTEcJb4s.js";import{i as W0}from"../chunks/CfO88hMe.js";import{p as Y,f as U,g as n,d as W,a as G,t as N,a9 as T0,G as o0,c as f,s as m,r as u,a8 as C0,Q as $0,n as p0}from"../chunks/0-szhb9U.js";import{A as Z0,h as D0,S as we,b as ye,a as V0,r as G0,c as H0,B as g0,R as xe}from"../chunks/DUmumEHo.js";import{o as z0,a as ke}from"../chunks/BuXCXmqg.js";import{p as be}from"../chunks/AeoDzsxF.js";import{a as Me,W as i0,s as Se}from"../chunks/cdPm9MOm.js";import{d as l0,s as X,e as q0}from"../chunks/CzkZYfeG.js";import{i as Z}from"../chunks/CG3ZsN8G.js";import{s as s0,e as q,i as K,r as K0}from"../chunks/BLWrVBYQ.js";import{s as n0,H as $e,S as J0}from"../chunks/Dm1GHE-m.js";import{s as O0,C as S0}from"../chunks/C7tHtLmT.js";import{p as a0}from"../chunks/B2LUClWd.js";import{i as a,T as e0,s as P0,f as F0,C as c0,a as R0,n as I0,g as Oe}from"../chunks/DE8FGzRE.js";import{G as Ve}from"../chunks/D478NF3E.js";import{R as Pe}from"../chunks/CpOzikD_.js";import{s as Q0}from"../chunks/BKW_wMSr.js";import{b as je}from"../chunks/CLtJoCDL.js";import{p as k0}from"../chunks/BzflOjYQ.js";var Te=J('<svg width="100%" height="100%" viewBox="0 0 14 14" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" class="svelte-91aoq6"><g><path d="M13.732,7.331c-0,0.2 -0.162,0.362 -0.362,0.362c-1.937,-0 -11.072,-0 -13.009,-0c-0.199,-0 -0.361,-0.162 -0.361,-0.362c-0,-0.276 -0,-0.654 0,-0.93c-0,-0.2 0.162,-0.362 0.361,-0.362c1.937,0 11.072,0 13.009,0c0.2,0 0.362,0.162 0.362,0.362c-0,0.276 -0,0.654 -0,0.93Z" class="svelte-91aoq6"></path><path d="M6.401,13.732c-0.2,-0 -0.362,-0.162 -0.362,-0.362c0,-1.937 0,-11.072 0,-13.009c0,-0.199 0.162,-0.361 0.362,-0.361c0.276,-0 0.654,-0 0.93,-0c0.2,-0 0.362,0.162 0.362,0.361c-0,1.937 -0,11.072 -0,13.009c-0,0.2 -0.162,0.362 -0.362,0.362c-0.276,-0 -0.654,-0 -0.93,-0Z" class="svelte-91aoq6"></path></g></svg>');function Ae(s){var t=Te();d(s,t)}var Ie=M('<p style="padding: 1rem;">Waiting for data</p>');function De(s,t){Y(t,!0);let e=W(()=>a.plugins.find(i=>i.id===t.pluginID)),l=W(()=>n(e).pages.find(i=>i.id===t.pageID)),o=W(()=>n(l).html.replace(/<dynamic>(.*?)<\/dynamic>/gi,(i,p)=>{const c=p.trim();return n(e).globalVariables[p.trim()]?`<span class="dynamic" data-key="${c}">${n(e).globalVariables[p.trim()]}</span>`:(console.warn("Empty or invalid key inside <dynamic> tag"),'<span class="dynamic-placeholder-error">[Missing Key]</span>')}));z0(()=>{const i=c=>{const O=c.currentTarget.getAttribute("data-action");O!==null&&console.log("Action triggered:",O)},p=document.querySelectorAll("button.action");return p.forEach(c=>{c.addEventListener("click",i)}),()=>{p.forEach(c=>{c.removeEventListener("click",i)})}});var r=b0(),g=U(r);{var b=i=>{Pe(i,{get html(){return n(o)},get id(){return n(e).id}})},h=i=>{var p=Ie();d(i,p)};Z(g,i=>{n(e)&&n(l)?i(b):i(h,!1)})}d(s,r),G()}var Fe=J('<svg width="100%" height="100%" viewBox="0 0 13 14" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><path d="M0.478,8.19c-0.432,-1.595 -0.19,-3.216 0.551,-4.558c0.11,-0.194 0.067,-0.439 -0.103,-0.583c-0.192,-0.167 -0.455,-0.39 -0.711,-0.608c-0.173,-0.146 -0.25,-0.376 -0.2,-0.597c0.049,-0.22 0.216,-0.395 0.435,-0.454l5.055,-1.369c0.218,-0.059 0.451,0.008 0.605,0.174c0.075,0.08 0.125,0.177 0.148,0.28c0.025,0.11 0.019,0.226 -0.02,0.336l-1.533,4.358c-0.066,0.189 -0.221,0.334 -0.415,0.386c-0.193,0.052 -0.4,0.006 -0.553,-0.123l-0.75,-0.638c-0.114,-0.096 -0.266,-0.132 -0.411,-0.098c-0.11,0.026 -0.206,0.092 -0.27,0.182c-0.371,0.878 -0.463,1.881 -0.197,2.871l0.002,0.008c0.366,1.353 1.319,2.396 2.515,2.908c0.109,0.047 0.171,0.163 0.148,0.279c-0.06,0.297 -0.172,0.852 -0.24,1.189c-0.014,0.072 -0.059,0.134 -0.123,0.169c-0.045,0.026 -0.096,0.036 -0.147,0.031c-0.021,-0.002 -0.041,-0.007 -0.061,-0.014c-1.763,-0.679 -3.192,-2.159 -3.722,-4.12l-0.003,-0.009Zm6.045,4.524c-0.025,-0.11 -0.019,-0.226 0.02,-0.336l1.533,-4.359c0.066,-0.189 0.221,-0.333 0.415,-0.385c0.193,-0.053 0.4,-0.006 0.553,0.123l0.75,0.637c0.114,0.097 0.266,0.133 0.411,0.099c0.11,-0.027 0.206,-0.092 0.27,-0.182c0.371,-0.878 0.463,-1.881 0.197,-2.871l-0.002,-0.008c-0.367,-1.353 -1.322,-2.39 -2.515,-2.909c-0.109,-0.046 -0.171,-0.162 -0.148,-0.278c0.06,-0.297 0.172,-0.852 0.24,-1.189c0.014,-0.072 0.059,-0.134 0.123,-0.17c0.045,-0.025 0.096,-0.035 0.147,-0.03c0.021,0.002 0.041,0.007 0.061,0.014c1.763,0.679 3.191,2.159 3.722,4.12l0.003,0.009c0.432,1.595 0.19,3.216 -0.551,4.558c-0.11,0.194 -0.067,0.439 0.103,0.583c0.192,0.166 0.455,0.39 0.711,0.607c0.173,0.147 0.25,0.377 0.2,0.597c-0.049,0.221 -0.216,0.396 -0.435,0.455l-5.055,1.369c-0.218,0.059 -0.451,-0.008 -0.605,-0.174c-0.075,-0.08 -0.125,-0.177 -0.148,-0.28Z" class="svelte-wof6i3"></path></svg>');function Re(s,t){let e=a0(t,"isActive",3,!0),l=a0(t,"isSelected",3,!1);var o=Fe();let r;N(g=>r=n0(o,0,"svelte-wof6i3",null,r,g),[()=>({disabled:!e(),spin:l()})]),d(s,o)}function Ce(s,t,e){t()&&(o0(e,!0),setTimeout(()=>{o0(e,!1)},300))}var Ee=J(`<svg width="100%" height="100%" viewBox="0 0 14 13" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g><path d="M3.654,5.076c-0.113,-0.097 -0.265,-0.133 -0.41,-0.099c-0.145,0.035 -0.264,0.136 -0.322,0.274c-0.329,0.858 -0.404,1.825 -0.145,2.779c0.639,2.363 3.076,3.761 5.438,3.122c2.363,-0.64 3.762,-3.077 3.122,-5.439c-0.366,-1.353 -1.321,-2.389 -2.515,-2.908c-0.109,-0.046 -0.17,-0.163 -0.147,-0.279c0.059,-0.297 0.171,-0.852 0.239,-1.189c0.015,-0.072 0.06,-0.134 0.123,-0.169c0.064,-0.036 0.141,-0.042 0.209,-0.017c1.763,0.679 3.191,2.159 3.722,4.121c0.883,3.262 -1.049,6.628 -4.311,7.511c-3.263,0.883 -6.628,-1.049 -7.511,-4.311c-0.432,-1.596 -0.191,-3.216 0.55,-4.559c0.111,-0.194 0.068,-0.439 -0.102,-0.583c-0.192,-0.166 -0.455,-0.389 -0.711,-0.607c-0.173,-0.147 -0.25,-0.377 -0.201,-0.597c0.05,-0.221 0.217,-0.396 0.436,-0.455c1.371,-0.371 3.683,-0.997 5.055,-1.369c0.218,-0.059 0.451,0.008 0.605,0.174c0.154,0.166 0.203,0.403 0.128,0.616c-0.436,1.24 -1.138,3.237 -1.533,4.359c-0.066,0.189 -0.222,0.333 -0.415,0.385c-0.194,0.053 -0.401,0.007 -0.553,-0.123c-0.249,-0.212 -0.525,-0.446 -0.751,-0.637Z" class="svelte-jhhttk"></path><g transform="matrix(4.00107,0,0,4.00107,10.405,8.71918)"></g><text x="4.247px" y="8.719px" style="font-family:'Varta-Bold', 'Varta';font-weight:700;font-size:4.001px;" class="svelte-jhhttk">ALL</text></g></svg>`);function Ne(s,t){let e=a0(t,"isActive",3,!0),l=T0(!1);var o=Ee();o.__click=[Ce,e,l];let r;N(g=>r=n0(o,0,"svelte-jhhttk",null,r,g),[()=>({disabled:!e(),spin:n(l)})]),d(s,o)}l0(["click"]);var Le=(s,t)=>{t()==!0?t(!1):(t()==!1,t(!0))},Ze=M('<button class="svelte-whxx7j"><!> <!></button>');function ee(s,t){Y(t,!0);let e=a0(t,"isOpened",15);var l=Ze();l.__click=[Le,e];var o=f(l);Z0(o,{get isOpened(){return e()},isVertical:!1});var r=m(o,2);Q0(r,()=>t.children),u(l),d(s,l),G()}l0(["click"]);var We=M('<h3 class="svelte-utaoqk"> </h3>');function ze(s,t){Y(t,!0);let e=a0(t,"isOpened",15);function l(r){return r.split(".").at(-1)||""}function o(r){return r.split("."+l(r))[0]}ee(s,{get isOpened(){return e()},set isOpened(r){e(r)},children:(r,g)=>{var b=We(),h=f(b,!0);u(b),N((i,p)=>{s0(b,"data-class",i),X(h,p)},[()=>o(t.name),()=>l(t.name)]),d(r,b)},$$slots:{default:!0}}),G()}l0(["click"]);var Be=J('<svg width="100%" height="100%" viewBox="0 0 14 13" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g><path d="M3.654,5.076c-0.113,-0.097 -0.265,-0.133 -0.41,-0.099c-0.145,0.035 -0.264,0.136 -0.322,0.274c-0.329,0.858 -0.404,1.825 -0.145,2.779c0.639,2.363 3.076,3.761 5.438,3.122c2.363,-0.64 3.762,-3.077 3.122,-5.439c-0.366,-1.353 -1.321,-2.389 -2.515,-2.908c-0.109,-0.046 -0.17,-0.163 -0.147,-0.279c0.059,-0.297 0.171,-0.852 0.239,-1.189c0.015,-0.072 0.06,-0.134 0.123,-0.169c0.064,-0.036 0.141,-0.042 0.209,-0.017c1.763,0.679 3.191,2.159 3.722,4.121c0.883,3.262 -1.049,6.628 -4.311,7.511c-3.263,0.883 -6.628,-1.049 -7.511,-4.311c-0.432,-1.596 -0.191,-3.216 0.55,-4.559c0.111,-0.194 0.068,-0.439 -0.102,-0.583c-0.192,-0.166 -0.455,-0.389 -0.711,-0.607c-0.173,-0.147 -0.25,-0.377 -0.201,-0.597c0.05,-0.221 0.217,-0.396 0.436,-0.455c1.371,-0.371 3.683,-0.997 5.055,-1.369c0.218,-0.059 0.451,0.008 0.605,0.174c0.154,0.166 0.203,0.403 0.128,0.616c-0.436,1.24 -1.138,3.237 -1.533,4.359c-0.066,0.189 -0.222,0.333 -0.415,0.385c-0.194,0.053 -0.401,0.007 -0.553,-0.123c-0.249,-0.212 -0.525,-0.446 -0.751,-0.637Z" class="svelte-1p9cwh8"></path></g></svg>');function B0(s,t){Y(t,!0);let e=a0(t,"isActive",3,!0),l=T0(!1);C0(()=>{e()||n(l)||(o0(l,!0),setTimeout(()=>{o0(l,!1)},300))});var o=Be();let r;N(g=>r=n0(o,0,"svelte-1p9cwh8",null,r,g),[()=>({disabled:!e(),spin:n(l)})]),d(s,o),G()}function Ue(s,t){let e=a0(t,"depth",3,0);te(s,{get item(){return t.item},get depth(){return e()}})}var Xe=M('<div><div class="inner svelte-1ee64n6"><!></div></div>');function A0(s,t){var e=Xe();let l;var o=f(e),r=f(o);Q0(r,()=>t.children),u(o),u(e),N(g=>l=n0(e,1,"hiddable svelte-1ee64n6",null,l,g),[()=>({shown:t.isShown})]),d(s,e)}var Ye=(s,t)=>{t()},Ge=M('<p style="margin-left: -24px;" class="svelte-f7jrs1"><button class="svelte-f7jrs1"><!></button> <!></p> <form><!></form>',1),He=(s,t)=>{t()},qe=M('<p style="margin-left: -24px;" class="svelte-f7jrs1"><button class="svelte-f7jrs1"><!></button> <!></p> <!>',1),Ke=M('<p class="svelte-f7jrs1"><!> </p>'),Je=M('<div class="two svelte-f7jrs1" style="margin-left: -20px;"><!></div> <div class="two svelte-f7jrs1"></div>',1),Qe=M('<div class="two svelte-f7jrs1"><p class="svelte-f7jrs1"><!> </p></div>'),et=M("<div><!></div>");function te(s,t){Y(t,!0);let e=a0(t,"item",7),l=a0(t,"depth",3,0);function o(){e().isValid&&(P0.sendMessage({kind:"updatedJvmFields",fields:[{id:e().id,newValueString:e().newValueString}]}),e().valueString=e().newValueString,e().value=e().newValueString)}function r(i){var v;const p=(v=a.searchParam)==null?void 0:v.toLowerCase();if(!p)return i;const c=i.toLowerCase().indexOf(p);if(c===-1)return i;const _=i.slice(0,c),O=i.slice(c,c+p.length),k=i.slice(c+p.length);return`<span>${_}<span class="highlight">${O}</span>${k}</span>`}var g=b0(),b=U(g);{var h=i=>{var p=et();let c;var _=f(p);{var O=v=>{var y=Ge(),V=U(y),A=f(V);A.__click=[Ye,o];var j=f(A);const R=W(()=>e().valueString!=e().newValueString&&e().isValid);B0(j,{get isActive(){return n(R)}}),u(A);var C=m(A,2);D0(C,()=>r(e().fieldName)),u(V);var P=m(V,2),D=f(P);const S=W(()=>e().type.toUpperCase()),x=W(()=>ye(e().type));we(D,{get type(){return n(S)},get validate(){return n(x)},get value(){return e().value},set value(w){e().value=w},get isValid(){return e().isValid},set isValid(w){e().isValid=w},get startValue(){return e().valueString},set startValue(w){e().valueString=w},get currentValue(){return e().newValueString},set currentValue(w){e().newValueString=w}}),u(P),q0("submit",P,()=>{o()}),d(v,y)},k=(v,y)=>{{var V=j=>{var R=qe(),C=U(R),P=f(C);P.__click=[He,o];var D=f(P);const S=W(()=>e().valueString!=e().newValueString&&e().isValid);B0(D,{get isActive(){return n(S)}}),u(P);var x=m(P,2);D0(x,()=>r(e().fieldName)),u(C);var w=m(C,2);const T=W(()=>e().type.toUpperCase());V0(w,{get possibleValues(){return e().possibleValues},get type(){return n(T)},get value(){return e().value},set value(I){e().value=I},get isValid(){return e().isValid},set isValid(I){e().isValid=I},get startValue(){return e().valueString},set startValue(I){e().valueString=I},get currentValue(){return e().newValueString},set currentValue(I){e().newValueString=I}}),d(j,R)},A=(j,R)=>{{var C=D=>{var S=Je(),x=U(S),w=f(x);ee(w,{get isOpened(){return e().isOpened},set isOpened(I){e().isOpened=I},children:(I,z)=>{var $=Ke(),L=f($);D0(L,()=>r(e().fieldName));var E=m(L);u($),N(()=>X(E,` ${e().type??""}`)),d(I,$)},$$slots:{default:!0}}),u(x);var T=m(x,2);q(T,21,()=>e().customValues,K,(I,z)=>{A0(I,{get isShown(){return e().isOpened},children:($,L)=>{const E=W(()=>l()+1);Ue($,{get item(){return n(z)},get depth(){return n(E)}})}})}),u(T),d(D,S)},P=D=>{var S=Qe(),x=f(S),w=f(x);D0(w,()=>r(e().fieldName));var T=m(w);u(x),u(S),N(()=>X(T,` ${e().type??""}`)),d(D,S)};Z(j,D=>{e().type==e0.CUSTOM||e().type==e0.ARRAY||e().type==e0.MAP||e().type==e0.LIST?D(C):D(P,!1)},R)}};Z(v,j=>{e().type===e0.ENUM||e().type===e0.BOOLEAN?j(V):j(A,!1)},y)}};Z(_,v=>{[e0.INT,e0.LONG,e0.DOUBLE,e0.FLOAT,e0.STRING].includes(e().type)?v(O):v(k,!1)})}u(p),N(v=>{O0(p,`--depth:${l()??""};`),c=n0(p,1,"svelte-f7jrs1",null,c,v)},[()=>({item:e(),disabled:e().type==e0.UNKNOWN,first:l()==0})]),d(i,p)};Z(b,i=>{e().isShown&&i(h)})}d(s,g),G()}l0(["click"]);function se(s,t){if(!s)return;const e={};F0(s,o=>{const r=t(o);return o.isShown=r,r},(o,r)=>{const g=t(o),b=r.some(Boolean),h=g||b;return g?(o.isOpened=!0,o.isShown=!0,R0(o.customValues??[],i=>{i.isShown=!0},i=>{i.isShown=!0,i.isOpened=!0})):(o.isOpened=b,o.isShown=h),h});const l=o=>{o.isShown&&(e[o.className]=!0)};R0(a.jvmFields,l,l),a.openedStates=e}function tt(s,t){s=s.toLowerCase(),se(t,e=>{var l;return(l=e.fieldName)==null?void 0:l.toLowerCase().includes(s)})}let j0={openedStates:{},isOpenedMap:new Map};function ae(){j0.openedStates={...a.openedStates},j0.isOpenedMap=new Map,R0(a.jvmFields,s=>{},s=>{j0.isOpenedMap.set(s.id,s.isOpened??!1)})}function re(){a.openedStates={...j0.openedStates},R0(a.jvmFields,s=>{s.isShown=!0},s=>{s.isShown=!0,s.isOpened=j0.isOpenedMap.get(s.id)??!1})}function st(s){if(a.searchParam=s,s!="")a.configurablesState==c0.NORMAL&&ae(),a.configurablesState=c0.SEARCH,tt(s,a.jvmFields);else if(a.configurablesState==c0.SEARCH){a.configurablesState=c0.NORMAL,re();return}}function at(){if(a.configurablesState==c0.DIFF){re(),a.configurablesState=c0.NORMAL;return}a.configurablesState==c0.NORMAL&&ae(),a.configurablesState=c0.DIFF,rt(a.jvmFields)}function rt(s){se(s,t=>t.valueString!=a.initialJvmFields.get(t.id))}function nt(s){let t=!1;return F0(s,e=>e.valueString!==a.initialJvmFields.get(e.id)?(t=!0,!0):!1,()=>t),t}var t0=G0(()=>a),lt=s=>{const t=s.target;t&&st(t.value)},it=()=>{at()},ot=M('<input class="search svelte-1epp9tw" type="text" placeholder="Search"> <div><button class="svelte-1epp9tw"><!></button> <button class="svelte-1epp9tw"><!></button></div>',1),ct=M("<!> <!>",1),vt=M("<p>No configurables found.</p>"),dt=M('<div class="content svelte-1epp9tw"><!> <!></div>'),ut=M("<!> <!>",1);function pt(s,t){Y(t,!1);function e(i){const p={};for(const c of i)p.hasOwnProperty(c.className)||(p[c.className]=[]),p[c.className].push(c);return p}function l(i){return F0(i,p=>p.valueString!==p.newValueString&&p.isValid,(p,c)=>c.some(Boolean)).some(Boolean)}function o(i){return F0(i,c=>c.valueString!==c.newValueString&&c.isValid?{id:c.id,newValueString:c.newValueString}:null,(c,_)=>null).filter(c=>c!==null)}function r(i){i!=null&&P0.sendMessage({kind:"updatedJvmFields",fields:o(i)})}W0();var g=ut(),b=U(g);$e(b,{children:(i,p)=>{var c=ot(),_=U(c);_.__input=[lt];var O=m(_,2),k=f(O);k.__click=()=>{r(t0().jvmFields)};var v=f(k);const y=$0(()=>l(t0().jvmFields));Ne(v,{get isActive(){return n(y)}}),u(k);var V=m(k,2);V.__click=[it];var A=f(V);const j=$0(()=>nt(t0().jvmFields)),R=$0(()=>t0().configurablesState==c0.DIFF);Re(A,{get isActive(){return n(j)},get isSelected(){return n(R)}}),u(V),u(O),d(i,c)}});var h=m(b,2);S0(h,{children:(i,p)=>{var c=dt(),_=f(c);q(_,1,()=>Object.entries(e(t0().jvmFields)),K,(v,y)=>{let V=()=>n(y)[0],A=()=>n(y)[1];const j=$0(()=>t0().openedStates[V()]||t0().configurablesState==c0.NORMAL);A0(v,{get isShown(){return n(j)},children:(R,C)=>{var P=ct(),D=U(P);ze(D,{get name(){return V()},get isOpened(){return t0().openedStates[V()]},set isOpened(w){t0(t0().openedStates[V()]=w)},$$legacy:!0});var S=m(D,2);const x=$0(()=>t0().openedStates[V()]==!0);A0(S,{get isShown(){return n(x)},children:(w,T)=>{var I=b0(),z=U(I);q(z,1,A,K,($,L)=>{te($,{get item(){return n(L)}})}),d(w,I)},$$slots:{default:!0}}),d(R,P)}})});var O=m(_,2);{var k=v=>{var y=vt();d(v,y)};Z(O,v=>{t0().jvmFields.length==0&&v(k)})}u(c),d(i,c)}}),d(s,g),G()}l0(["input","click"]);class H{constructor(t,e){m0(this,"inches");m0(this,"pixels");if(this.inches=t,e!==void 0)this.pixels=e;else{const l=M0.pixels/M0.inches;this.pixels=this.inches*l}}}const M0=new H(24*6,1024),U0=new H(24*6,1024);class v0{constructor(t,e){m0(this,"fieldX");m0(this,"fieldY");m0(this,"x");m0(this,"y");this.fieldX=t,this.fieldY=e;const l=M0.pixels/M0.inches;this.x=this.fieldX*l,this.y=this.fieldY*-l}static withData(t){return new v0(t.x,t.y)}}let F;function gt(s){if(!s)return;const t=window.devicePixelRatio||1,e=M0.pixels*t,l=U0.pixels*t;s.width=e,s.height=l,F=s.getContext("2d"),F&&F.scale(t,t),F&&F.translate(M0.pixels/2,U0.pixels/2)}function ft(s){F!=null&&F.moveTo(s.x,s.y)}function mt(s,t,e="red",l=new H(.03)){F!=null&&(F.beginPath(),ft(s),F.lineTo(t.x,t.y),F.strokeStyle=e,F.lineWidth=l.pixels,F.stroke(),F.closePath())}async function ht(s){const e=await(await fetch(s)).blob();return new Promise((l,o)=>{const r=new FileReader;r.onloadend=()=>l(r.result),r.onerror=o,r.readAsDataURL(e)})}async function _t(s){const t=new Image;return t.src=s,await t.decode(),t}function X0(s,t,e,l){s!=null&&F!=null&&(F.save(),F.drawImage(s,t.x,t.y,e.pixels,l.pixels),F.restore())}function wt(s,t,e="blue",l="black",o=new H(.02)){e==""&&(e="transparent"),F!=null&&(F.beginPath(),F.arc(s.x,s.y,t.pixels,0,2*Math.PI),F.fillStyle=e,F.fill(),F.strokeStyle=l,F.lineWidth=o.pixels,F.stroke(),F.closePath())}function yt(s,t,e,l="green",o="black",r=new H(.02)){if(l==""&&(l="transparent"),F==null)return;const g=new v0(s.fieldX-t.inches/2,s.fieldY-e.inches/2);F.beginPath(),F.fillStyle=l,F.fillRect(g.x,g.y,t.pixels,e.pixels),F.strokeStyle=o,F.lineWidth=r.pixels,F.strokeRect(g.x,g.y,t.pixels,e.pixels),F.closePath()}var xt=M('<div style="width: 100%; overflow: hidden;"><canvas class="svelte-13trz2u"></canvas></div>');function kt(s,t){Y(t,!0);let e,l,o;z0(async()=>{gt(e),l=await ht("/fields/field.png"),o=await _t(l),X0(o,new v0(-72,72),new H(24*6),new H(24*6))}),C0(()=>{X0(o,new v0(-72,72),new H(24*6),new H(24*6)),a.canvas.lines&&a.canvas.lines.forEach(r=>{mt(v0.withData(r.start),v0.withData(r.end),r.look.outlineColor,new H(r.look.outlineWidth))}),a.canvas.rectangles&&a.canvas.rectangles.forEach(r=>{yt(v0.withData(r.center),new H(r.width),new H(r.height),r.look.fillColor,r.look.outlineColor,new H(r.look.outlineWidth))}),a.canvas.circles&&a.canvas.circles.forEach(r=>{wt(v0.withData(r.center),new H(r.radius),r.look.fillColor,r.look.outlineColor,new H(r.look.outlineWidth))})}),S0(s,{children:(r,g)=>{var b=xt(),h=f(b);je(h,i=>e=i,()=>e),u(b),d(r,b)}}),G()}var bt=(s,t,e)=>t(e()),Mt=M('<li class="svelte-1a0a577"><button> </button> </li>'),St=J('<text y="-2" font-size="2.5" fill="white" stroke="var(--text)" stroke-width="0.1" text-anchor="middle"> </text>'),$t=J('<text x="-2" font-size="2.5" fill="white" stroke="var(--text)" stroke-width="0.1" text-anchor="end"> </text>'),Ot=J('<line x1="0" x2="100" stroke="var(--text)" stroke-width="0.2"></line><line y1="0" y2="100" stroke="var(--text)" stroke-width="0.2"></line>',1),Vt=J('<polyline fill="none" stroke-width="0.6"></polyline>'),Pt=M('<div class="flex svelte-1a0a577"><input type="range" min="1" max="60" aria-label="Time window"> <p> </p></div> <ul class="svelte-1a0a577"></ul> <div class="graph svelte-1a0a577"><svg viewBox="-10 -10 120 120" preserveAspectRatio="none"><rect x="0" y="0" width="100" height="100" fill="var(--card)"></rect><!><!><!><!></svg></div>',1);function jt(s,t){Y(t,!0);const e=k0({});function l(h){e[h]=!e[h]}function o(h,i,p,c=[0,1]){return p===i?h.map(()=>.5):h.map(_=>(_-i)/(p-i)*(c[1]-c[0])+c[0])}function r(h){const i=Object.values(h).flat().map(y=>y.data),p=Object.values(h).flat().map(y=>y.timestamp),c=Math.min(...i),_=Math.max(...i),O=Math.min(...p),k=O+a.timeWindow*1e3,v={};return Object.entries(h).forEach(([y,V])=>{const A=V.map(P=>P.timestamp),j=V.map(P=>P.data),R=o(A,O,k,[0,100]),C=o(j,c,_,[0,100]);v[y]=V.map((P,D)=>({x:Math.min(100,Math.max(0,R[D])),y:100-C[D]}))}),v}function g(h){const i=Object.values(h).flat().map(_=>_.data);if(i.length===0)return[0,1];const p=Math.min(...i),c=Math.max(...i);return[p,c]}const b=["red","lime","cyan","yellow","magenta","orange"];S0(s,{children:(h,i)=>{var p=Pt(),c=U(p),_=f(c);K0(_);var O=m(_,2),k=f(O);u(O),u(c);var v=m(c,2);q(v,21,()=>Object.entries(a.graphs),K,(S,x)=>{let w=()=>n(x)[0],T=()=>n(x)[1];var I=Mt(),z=f(I);z.__click=[bt,l,w];let $;var L=f(z,!0);u(z);var E=m(z);u(I),N((f0,B)=>{s0(z,"aria-pressed",e[w()]),$=n0(z,1,"svelte-1a0a577",null,$,f0),X(L,w()),X(E,` â€“ ${T().length??""} entries / ${B??""}`)},[()=>({selected:e[w()]}),()=>parseFloat(T()[T().length-1].data.toString()).toFixed(3)]),d(S,I)}),u(v);var y=m(v,2),V=f(y),A=m(f(V));q(A,16,()=>[0,25,50,75,100],K,(S,x)=>{var w=St(),T=f(w);u(w),N(I=>{s0(w,"x",x),X(T,`${I??""}s`)},[()=>Math.round(x/100*a.timeWindow)]),d(S,w)});var j=m(A);{var R=S=>{var x=b0();const w=W(()=>Object.fromEntries(Object.entries(a.graphs).filter(([z])=>e[z]))),T=W(()=>{const[z,$]=g(n(w));return{min:z,max:$}});var I=U(x);q(I,16,()=>[0,25,50,75,100],K,(z,$)=>{var L=$t(),E=f(L,!0);u(L),N(f0=>{s0(L,"y",100-$),X(E,f0)},[()=>(n(T).min+$/100*(n(T).max-n(T).min)).toFixed(2)]),d(z,L)}),d(S,x)};Z(j,S=>{Object.keys(e).some(x=>e[x])&&S(R)})}var C=m(j);q(C,16,()=>[25,50,75],K,(S,x)=>{var w=Ot(),T=U(w),I=m(T);N(()=>{s0(T,"y1",x),s0(T,"y2",x),s0(I,"x1",x),s0(I,"x2",x)}),d(S,w)});var P=m(C);{var D=S=>{var x=b0(),w=U(x);q(w,17,()=>Object.entries(r(Object.fromEntries(Object.entries(a.graphs).filter(([T])=>e[T])))),K,(T,I,z)=>{let $=()=>n(I)[1];var L=Vt();N(E=>{s0(L,"stroke",b[z%b.length]),s0(L,"points",E)},[()=>$().map(E=>`${E.x},${E.y}`).join(" ")]),d(T,L)}),d(S,x)};Z(P,S=>{Object.keys(e).some(x=>e[x])&&S(D)})}u(V),u(y),N(()=>X(k,`(last ${a.timeWindow??""}s)`)),H0(_,()=>a.timeWindow,S=>a.timeWindow=S),d(h,p)}}),G()}l0(["click"]);var Tt=(s,t,e)=>t.onselect(n(e)),At=M('<button class="svelte-6klxoa"> </button>'),It=M('<p class="svelte-6klxoa">No opModes here.</p>'),Dt=M("<!> <!>",1);function Y0(s,t){Y(t,!0);var e=Dt(),l=U(e);q(l,17,()=>a.opModes.filter(g=>g.flavour==t.flavour),K,(g,b)=>{var h=At();h.__click=[Tt,t,b];var i=f(h);u(h),N(()=>X(i,`${n(b).name??""} / ${n(b).group??""}`)),d(g,h)});var o=m(l,2);{var r=g=>{var b=It();d(g,b)};Z(o,g=>{a.opModes.filter(b=>b.flavour==t.flavour).length==0&&g(r)})}d(s,e),G()}l0(["click"]);var Ft=(s,t)=>t("autos"),Rt=(s,t)=>t("teleops"),Ct=M('<p class="title svelte-1owm73j">Nothing selected</p>'),Et=M('<p class="title svelte-1owm73j"><span class="title_small svelte-1owm73j"> </span> </p>'),Nt=M('<div class="modal autos svelte-1owm73j"><!></div> <div class="modal teleops svelte-1owm73j"><!></div> <div class="controls svelte-1owm73j"><button class="svelte-1owm73j"><span class="svelte-1owm73j">Autos<!></span></button> <button class="svelte-1owm73j"><span class="svelte-1owm73j">TeleOps<!></span></button></div> <!> <div class="flex svelte-1owm73j"><!> <!> <!></div>',1);function Lt(s,t){Y(t,!0);let e=T0("");function l(g){n(e)!=g?o0(e,k0(g)):o0(e,"")}function o(g){o0(r,k0(g)),o0(e,"")}C0(()=>{if(console.log(a.activeOpMode),a.activeOpMode==" ")return;console.log("Length: ",a.opModes.length);let g=null;for(const b of a.opModes)b.name==a.activeOpMode&&(g=b);g!=null&&o0(r,k0(g))});let r=T0(k0({name:"",group:"",flavour:"AUTONOMOUS"}));S0(s,{children:(g,b)=>{var h=Nt(),i=U(h),p=f(i);const c=W(()=>n(e)=="autos");A0(p,{get isShown(){return n(c)},children:(B,Q)=>{Y0(B,{flavour:"AUTONOMOUS",onselect:o})}}),u(i);var _=m(i,2),O=f(_);const k=W(()=>n(e)=="teleops");A0(O,{get isShown(){return n(k)},children:(B,Q)=>{Y0(B,{flavour:"TELEOP",onselect:o})}}),u(_);var v=m(_,2),y=f(v);y.__click=[Ft,l];var V=f(y),A=m(f(V));const j=W(()=>n(e)=="autos");Z0(A,{get isOpened(){return n(j)}}),u(V),u(y);var R=m(y,2);R.__click=[Rt,l];var C=f(R),P=m(f(C));const D=W(()=>n(e)=="teleops");Z0(P,{get isOpened(){return n(D)}}),u(C),u(R),u(v);var S=m(v,2);{var x=B=>{var Q=Ct();d(B,Q)},w=B=>{var Q=Et(),r0=f(Q),E0=f(r0,!0);u(r0);var d0=m(r0);u(Q),N(()=>{X(E0,n(r).flavour),X(d0,` ${n(r).name??""}`)}),d(B,Q)};Z(S,B=>{n(r).name==""?B(x):B(w,!1)})}var T=m(S,2),I=f(T);const z=W(()=>n(r).name==""||a.activeOpModeStatus=="running"&&a.activeOpMode!="$Stop$Robot$"||a.activeOpModeStatus=="stopped"&&a.activeOpMode!="$Stop$Robot$"||n(r).name!=""&&a.activeOpModeStatus=="init");g0(I,{get disabled(){return n(z)},onclick:()=>{P0.sendMessage({kind:"initOpMode",opModeName:n(r).name})},children:(B,Q)=>{p0();var r0=u0("Initialize");d(B,r0)},$$slots:{default:!0}});var $=m(I,2);const L=W(()=>a.activeOpMode=="$Stop$Robot$"||n(r).name==""||a.activeOpModeStatus!="init");g0($,{get disabled(){return n(L)},onclick:()=>{P0.sendMessage({kind:"startActiveOpMode"})},children:(B,Q)=>{p0();var r0=u0("Start");d(B,r0)},$$slots:{default:!0}});var E=m($,2);const f0=W(()=>a.activeOpMode=="$Stop$Robot$"||n(r).name==""||a.activeOpModeStatus=="stopped");g0(E,{get disabled(){return n(f0)},onclick:()=>{P0.sendMessage({kind:"stopActiveOpMode"})},children:(B,Q)=>{p0();var r0=u0("Stop");d(B,r0)},$$slots:{default:!0}}),u(T),d(g,h)}}),G()}l0(["click"]);var Zt=M('<p> </p> <p> </p> <input type="range"> <div class="flex-item svelte-1o86sht"><p>Animation speed</p> <!></div> <div><div class="flex svelte-1o86sht"><!> <!> <!></div> <div class="flex svelte-1o86sht"><!> <!></div></div>',1);function Wt(s,t){Y(t,!0);let e=T0("1x");C0(()=>{n(e)!=null&&a.isForwarding&&(r=a.timestamp,o=performance.now())});let l=null,o=null,r=0;function g(h){if(!a.isForwarding||o===null)return;const i=h-o,p=parseFloat(n(e).replace("x",""));a.timestamp=Math.min(r+i*p,a.duration),a.timestamp<a.duration?l=requestAnimationFrame(g):(a.timestamp=a.duration,a.isForwarding=!1,l=null,o=null)}function b(){a.isForwarding=!a.isForwarding,a.isForwarding?(r=a.timestamp,o=performance.now(),l=requestAnimationFrame(g)):(o=null,l!==null&&(cancelAnimationFrame(l),l=null))}ke(()=>{l!==null&&cancelAnimationFrame(l)}),S0(s,{children:(h,i)=>{var p=Zt(),c=U(p),_=f(c);u(c);var O=m(c,2),k=f(O);u(O);var v=m(O,2);K0(v),s0(v,"min",0);var y=m(v,2),V=m(f(y),2);V0(V,{startValue:"1x",value:"1x",possibleValues:["0.1x","0.25x","0.5x","1x","2x","3x","4x"],get isValid(){return a.hasRecording},alwaysValid:!0,get currentValue(){return n(e)},set currentValue($){o0(e,k0($))}}),u(y);var A=m(y,2),j=f(A),R=f(j);g0(R,{onclick:()=>{a.isRecording=!0},get disabled(){return a.isRecording},children:($,L)=>{p0();var E=u0("Start");d($,E)},$$slots:{default:!0}});var C=m(R,2);const P=W(()=>!a.isRecording);g0(C,{onclick:()=>{a.isRecording=!1},get disabled(){return n(P)},children:($,L)=>{p0();var E=u0("Stop");d($,E)},$$slots:{default:!0}});var D=m(C,2);const S=W(()=>!a.hasRecording);g0(D,{onclick:()=>{a.isRecording=!1,a.history=[],a.timestamp=0,a.isPlaying=!1},get disabled(){return n(S)},children:($,L)=>{p0();var E=u0("Reset");d($,E)},$$slots:{default:!0}}),u(j);var x=m(j,2),w=f(x);const T=W(()=>!a.hasRecording);g0(w,{onclick:()=>{a.isPlaying=!a.isPlaying},get disabled(){return n(T)},children:($,L)=>{p0();var E=u0();N(()=>X(E,`${(a.isPlaying?"Disable":"Enable")??""} Visual Sync`)),d($,E)},$$slots:{default:!0}});var I=m(w,2);const z=W(()=>!a.hasRecording);g0(I,{onclick:b,get disabled(){return n(z)},children:($,L)=>{p0();var E=u0();N(()=>X(E,`${(a.isForwarding?"Stop":"Start")??""} Playing`)),d($,E)},$$slots:{default:!0}}),u(x),u(A),N(($,L)=>{X(_,`Got ${a.history.length??""} entries`),X(k,`Timestamp: ${$??""}s / ${L??""}s`),v.disabled=!a.hasRecording,s0(v,"max",a.duration)},[()=>(a.timestamp/1e3).toFixed(2),()=>(a.duration/1e3).toFixed(2)]),H0(v,()=>a.timestamp,$=>a.timestamp=$),d(h,p)}}),G()}var zt=M("<p> </p>"),Bt=M("<p>No telemetry found.</p>"),Ut=M("<!> <!>",1);function Xt(s,t){Y(t,!1),W0(),S0(s,{children:(e,l)=>{var o=Ut(),r=U(o);q(r,1,()=>a.telemetry,K,(h,i)=>{var p=zt(),c=f(p,!0);u(p),N(()=>X(c,n(i))),d(h,p)});var g=m(r,2);{var b=h=>{var i=Bt();d(h,i)};Z(g,h=>{a.telemetry.length==0&&h(b)})}d(e,o)}}),G()}var Yt=J('<svg width="100%" height="100%" viewBox="0 0 18 7" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" class="svelte-8ek7md"><g><path d="M0.968,4.032c-0.207,-0.128 -0.333,-0.354 -0.333,-0.597c-0,-0.243 0.126,-0.469 0.333,-0.597c0.987,-0.608 2.514,-1.549 3.535,-2.179c0.217,-0.133 0.488,-0.139 0.71,-0.015c0.222,0.123 0.359,0.358 0.359,0.612c0,1.238 0,3.12 0,4.358c0,0.254 -0.137,0.489 -0.359,0.612c-0.222,0.124 -0.493,0.118 -0.71,-0.015c-1.021,-0.63 -2.548,-1.571 -3.535,-2.179Z" class="svelte-8ek7md"></path><path d="M16.674,2.838c0.207,0.128 0.333,0.354 0.333,0.597c-0,0.243 -0.126,0.469 -0.333,0.597c-0.987,0.608 -2.514,1.549 -3.536,2.179c-0.216,0.133 -0.488,0.139 -0.709,0.015c-0.222,-0.123 -0.36,-0.358 -0.36,-0.612c0,-1.238 0,-3.12 0,-4.358c0,-0.254 0.138,-0.489 0.36,-0.612c0.221,-0.124 0.493,-0.118 0.709,0.015c1.022,0.63 2.549,1.571 3.536,2.179Z" class="svelte-8ek7md"></path><path d="M3.71,2.97c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.807,0 2.749,0 3.556,0c0.096,0 0.188,0.038 0.256,0.106c0.068,0.068 0.106,0.16 0.106,0.256c-0,0.276 -0,0.654 -0,0.93c-0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.807,-0 -2.749,-0 -3.556,-0c-0.096,-0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.276 0,-0.654 0,-0.93Z" class="svelte-8ek7md"></path><path d="M13.931,3.9c0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.068 -0.159,0.106 -0.255,0.106c-0.808,-0 -2.75,-0 -3.557,-0c-0.096,-0 -0.188,-0.038 -0.255,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c-0,-0.276 -0,-0.654 -0,-0.93c-0,-0.096 0.038,-0.188 0.106,-0.256c0.067,-0.068 0.159,-0.106 0.255,-0.106c0.807,0 2.749,0 3.557,0c0.096,0 0.187,0.038 0.255,0.106c0.068,0.068 0.106,0.16 0.106,0.256c0,0.276 0,0.654 0,0.93Z" class="svelte-8ek7md"></path></g></svg>');function Gt(s){var t=Yt();d(s,t)}var Ht=J('<svg width="100%" height="100%" viewBox="0 0 16 7" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" class="svelte-8ek7md"><g><path d="M7.022,2.838c0.207,0.128 0.333,0.354 0.333,0.597c0,0.243 -0.126,0.469 -0.333,0.597c-0.987,0.608 -2.514,1.549 -3.536,2.179c-0.216,0.133 -0.487,0.139 -0.709,0.015c-0.222,-0.123 -0.359,-0.358 -0.359,-0.612c-0,-1.238 -0,-3.12 -0,-4.358c-0,-0.254 0.137,-0.489 0.359,-0.612c0.222,-0.124 0.493,-0.118 0.709,0.015c1.022,0.63 2.549,1.571 3.536,2.179Z" class="svelte-8ek7md"></path><path d="M8.863,4.032c-0.207,-0.128 -0.333,-0.354 -0.333,-0.597c-0,-0.243 0.126,-0.469 0.333,-0.597c0.986,-0.608 2.513,-1.549 3.535,-2.179c0.216,-0.133 0.488,-0.139 0.71,-0.015c0.221,0.123 0.359,0.358 0.359,0.612c-0,1.238 -0,3.12 -0,4.358c-0,0.254 -0.138,0.489 -0.359,0.612c-0.222,0.124 -0.494,0.118 -0.71,-0.015c-1.022,-0.63 -2.549,-1.571 -3.535,-2.179Z" class="svelte-8ek7md"></path><path d="M4.28,3.9c-0,0.096 -0.039,0.188 -0.106,0.256c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.807,-0 -2.749,-0 -3.556,-0c-0.096,-0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c-0,-0.276 -0,-0.654 -0,-0.93c-0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.807,0 2.749,0 3.556,0c0.096,0 0.188,0.038 0.256,0.106c0.067,0.068 0.106,0.16 0.106,0.256c-0,0.276 -0,0.654 -0,0.93Z" class="svelte-8ek7md"></path><path d="M11.605,2.97c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.807,0 2.749,0 3.556,0c0.096,0 0.188,0.038 0.256,0.106c0.067,0.068 0.106,0.16 0.106,0.256c-0,0.276 -0,0.654 -0,0.93c-0,0.096 -0.039,0.188 -0.106,0.256c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.807,-0 -2.749,-0 -3.556,-0c-0.096,-0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.276 0,-0.654 0,-0.93Z" class="svelte-8ek7md"></path></g></svg>');function qt(s){var t=Ht();d(s,t)}var Kt=J('<svg width="100%" height="100%" viewBox="0 0 18 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" class="svelte-7dk81x"><g><g><path d="M8.224,0.968c0.128,-0.207 0.354,-0.333 0.597,-0.333c0.243,-0 0.469,0.126 0.596,0.333c0.609,0.987 1.55,2.514 2.18,3.535c0.133,0.217 0.139,0.488 0.015,0.71c-0.124,0.222 -0.358,0.359 -0.612,0.359c-1.238,0 -3.12,0 -4.359,0c-0.254,0 -0.488,-0.137 -0.612,-0.359c-0.124,-0.222 -0.118,-0.493 0.016,-0.71c0.63,-1.021 1.571,-2.548 2.179,-3.535Z" style="fill:#fff;" class="svelte-7dk81x"></path><path d="M9.417,16.674c-0.127,0.207 -0.353,0.333 -0.596,0.333c-0.243,-0 -0.469,-0.126 -0.597,-0.333c-0.608,-0.987 -1.549,-2.514 -2.179,-3.536c-0.134,-0.216 -0.14,-0.488 -0.016,-0.709c0.124,-0.222 0.358,-0.36 0.612,-0.36c1.239,0 3.121,0 4.359,0c0.254,0 0.488,0.138 0.612,0.36c0.124,0.221 0.118,0.493 -0.015,0.709c-0.63,1.022 -1.571,2.549 -2.18,3.536Z" style="fill:#fff;" class="svelte-7dk81x"></path><path d="M9.286,3.71c0.096,0 0.188,0.038 0.256,0.106c0.067,0.068 0.105,0.16 0.105,0.256c0,0.807 0,2.749 0,3.556c0,0.096 -0.038,0.188 -0.105,0.256c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.276,-0 -0.654,-0 -0.93,-0c-0.096,-0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.807 0,-2.749 0,-3.556c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.276,0 0.654,0 0.93,0Z" style="fill:#fff;" class="svelte-7dk81x"></path><path d="M8.356,13.931c-0.096,0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.159 -0.106,-0.255c0,-0.808 0,-2.75 0,-3.557c0,-0.096 0.038,-0.188 0.106,-0.255c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.276,-0 0.654,-0 0.93,-0c0.096,-0 0.188,0.038 0.256,0.106c0.067,0.067 0.105,0.159 0.105,0.255c0,0.807 0,2.749 0,3.557c0,0.096 -0.038,0.187 -0.105,0.255c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.276,0 -0.654,0 -0.93,0Z" style="fill:#fff;" class="svelte-7dk81x"></path></g><g><path d="M0.968,9.417c-0.207,-0.127 -0.333,-0.353 -0.333,-0.596c-0,-0.243 0.126,-0.469 0.333,-0.597c0.987,-0.608 2.514,-1.549 3.535,-2.179c0.217,-0.134 0.488,-0.14 0.71,-0.016c0.222,0.124 0.359,0.358 0.359,0.612c0,1.239 0,3.121 0,4.359c0,0.254 -0.137,0.488 -0.359,0.612c-0.222,0.124 -0.493,0.118 -0.71,-0.015c-1.021,-0.63 -2.548,-1.571 -3.535,-2.18Z" style="fill:#fff;" class="svelte-7dk81x"></path><path d="M16.674,8.224c0.207,0.128 0.333,0.354 0.333,0.597c-0,0.243 -0.126,0.469 -0.333,0.596c-0.987,0.609 -2.514,1.55 -3.536,2.18c-0.216,0.133 -0.488,0.139 -0.709,0.015c-0.222,-0.124 -0.36,-0.358 -0.36,-0.612c0,-1.238 0,-3.12 0,-4.359c0,-0.254 0.138,-0.488 0.36,-0.612c0.221,-0.124 0.493,-0.118 0.709,0.016c1.022,0.63 2.549,1.571 3.536,2.179Z" style="fill:#fff;" class="svelte-7dk81x"></path><path d="M3.71,8.356c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.807,0 2.749,0 3.556,0c0.096,0 0.188,0.038 0.256,0.106c0.068,0.068 0.106,0.16 0.106,0.256c-0,0.276 -0,0.654 -0,0.93c-0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.067 -0.16,0.105 -0.256,0.105c-0.807,0 -2.749,0 -3.556,0c-0.096,0 -0.188,-0.038 -0.256,-0.105c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.276 0,-0.654 0,-0.93Z" style="fill:#fff;" class="svelte-7dk81x"></path><path d="M13.931,9.286c0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.067 -0.159,0.105 -0.255,0.105c-0.808,0 -2.75,0 -3.557,0c-0.096,0 -0.188,-0.038 -0.255,-0.105c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c-0,-0.276 -0,-0.654 -0,-0.93c-0,-0.096 0.038,-0.188 0.106,-0.256c0.067,-0.068 0.159,-0.106 0.255,-0.106c0.807,0 2.749,0 3.557,0c0.096,0 0.187,0.038 0.255,0.106c0.068,0.068 0.106,0.16 0.106,0.256c0,0.276 0,0.654 0,0.93Z" style="fill:#fff;" class="svelte-7dk81x"></path></g></g></svg>');function Jt(s){var t=Kt();d(s,t)}var Qt=J('<svg width="100%" height="100%" viewBox="0 0 7 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" class="svelte-1wm7yl4"><g><path d="M2.838,0.968c0.128,-0.207 0.354,-0.333 0.597,-0.333c0.243,-0 0.469,0.126 0.597,0.333c0.608,0.987 1.549,2.514 2.179,3.535c0.133,0.217 0.139,0.488 0.015,0.71c-0.123,0.222 -0.358,0.359 -0.612,0.359c-1.238,0 -3.12,0 -4.358,0c-0.254,0 -0.489,-0.137 -0.612,-0.359c-0.124,-0.222 -0.118,-0.493 0.015,-0.71c0.63,-1.021 1.571,-2.548 2.179,-3.535Z" class="svelte-1wm7yl4"></path><path d="M4.032,16.674c-0.128,0.207 -0.354,0.333 -0.597,0.333c-0.243,-0 -0.469,-0.126 -0.597,-0.333c-0.608,-0.987 -1.549,-2.514 -2.179,-3.536c-0.133,-0.216 -0.139,-0.488 -0.015,-0.709c0.123,-0.222 0.358,-0.36 0.612,-0.36c1.238,0 3.12,0 4.358,0c0.254,0 0.489,0.138 0.612,0.36c0.124,0.221 0.118,0.493 -0.015,0.709c-0.63,1.022 -1.571,2.549 -2.179,3.536Z" class="svelte-1wm7yl4"></path><path d="M3.9,3.71c0.096,0 0.188,0.038 0.256,0.106c0.068,0.068 0.106,0.16 0.106,0.256c-0,0.807 -0,2.749 -0,3.556c-0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.276,-0 -0.654,-0 -0.93,-0c-0.096,-0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.807 0,-2.749 0,-3.556c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.276,0 0.654,0 0.93,0Z" class="svelte-1wm7yl4"></path><path d="M2.97,13.931c-0.096,0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.159 -0.106,-0.255c0,-0.808 0,-2.75 0,-3.557c0,-0.096 0.038,-0.188 0.106,-0.255c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.276,-0 0.654,-0 0.93,-0c0.096,-0 0.188,0.038 0.256,0.106c0.068,0.067 0.106,0.159 0.106,0.255c-0,0.807 -0,2.749 -0,3.557c-0,0.096 -0.038,0.187 -0.106,0.255c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.276,0 -0.654,0 -0.93,0Z" class="svelte-1wm7yl4"></path></g></svg>');function es(s){var t=Qt();d(s,t)}var ts=J('<svg width="100%" height="100%" viewBox="0 0 7 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" class="svelte-1wm7yl4"><g><path d="M2.838,8.863c0.128,-0.207 0.354,-0.333 0.597,-0.333c0.243,-0 0.469,0.126 0.597,0.333c0.608,0.986 1.549,2.513 2.179,3.535c0.133,0.216 0.139,0.488 0.015,0.71c-0.123,0.221 -0.358,0.359 -0.612,0.359c-1.238,-0 -3.12,-0 -4.358,-0c-0.254,-0 -0.489,-0.138 -0.612,-0.359c-0.124,-0.222 -0.118,-0.494 0.015,-0.71c0.63,-1.022 1.571,-2.549 2.179,-3.535Z" class="svelte-1wm7yl4"></path><path d="M4.032,7.022c-0.128,0.207 -0.354,0.333 -0.597,0.333c-0.243,0 -0.469,-0.126 -0.597,-0.333c-0.608,-0.987 -1.549,-2.514 -2.179,-3.536c-0.133,-0.216 -0.139,-0.487 -0.015,-0.709c0.123,-0.222 0.358,-0.359 0.612,-0.359c1.238,-0 3.12,-0 4.358,-0c0.254,-0 0.489,0.137 0.612,0.359c0.124,0.222 0.118,0.493 -0.015,0.709c-0.63,1.022 -1.571,2.549 -2.179,3.536Z" class="svelte-1wm7yl4"></path><path d="M3.9,11.605c0.096,0 0.188,0.038 0.256,0.106c0.068,0.068 0.106,0.16 0.106,0.256c-0,0.807 -0,2.749 -0,3.556c-0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.067 -0.16,0.106 -0.256,0.106c-0.276,-0 -0.654,-0 -0.93,-0c-0.096,-0 -0.188,-0.039 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.807 0,-2.749 0,-3.556c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.276,0 0.654,0 0.93,0Z" class="svelte-1wm7yl4"></path><path d="M2.97,4.28c-0.096,-0 -0.188,-0.039 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.807 0,-2.749 0,-3.556c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.276,-0 0.654,-0 0.93,-0c0.096,-0 0.188,0.038 0.256,0.106c0.068,0.068 0.106,0.16 0.106,0.256c-0,0.807 -0,2.749 -0,3.556c-0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.067 -0.16,0.106 -0.256,0.106c-0.276,-0 -0.654,-0 -0.93,-0Z" class="svelte-1wm7yl4"></path></g></svg>');function ss(s){var t=ts();d(s,t)}var as=(s,t,e)=>{t.gridManager.startMoving(e().id)},rs=(s,t,e)=>{t.gridManager.remove(e().id)},ns=(s,t,e)=>{if(t.gridManager.canExpandRight(e())){e().sizes.x++;return}if(t.gridManager.canExpandLeft(e())){e().sizes.x++,e().start.x--;return}I0.add("Not enough space to expand horizontally.")},ls=(s,t)=>{t().sizes.x<=2?I0.add("Cannot make this small."):t().sizes.x--},is=(s,t,e)=>{if(t.gridManager.canExpandDown(e())){e().sizes.y++;return}if(t.gridManager.canExpandUp(e())){e().sizes.y++,e().start.y--;return}I0.add("Not enough space to expand vertically.")},os=(s,t)=>{t().sizes.y<=2?I0.add("Cannot make this small."):t().sizes.y--},cs=M("<!> <!>",1),vs=M('<button class="svelte-13t3ky3"><!></button> <button class="svelte-13t3ky3"><!></button> <button class="svelte-13t3ky3"><!></button> <button class="svelte-13t3ky3"><!></button> <button class="svelte-13t3ky3"><!></button> <button class="svelte-13t3ky3"><!></button> <!> <!>',1);function ds(s,t){Y(t,!0);let e=a0(t,"m",7);var l=vs(),o=U(l);o.__mousedown=[as,t,e];var r=f(o);Jt(r),u(o);var g=m(o,2);g.__click=[rs,t,e];var b=f(g);xe(b),u(g);var h=m(g,2);h.__click=[ns,t,e];var i=f(h);Gt(i),u(h);var p=m(h,2);p.__click=[ls,e];var c=f(p);qt(c),u(p);var _=m(p,2);_.__click=[is,t,e];var O=f(_);es(O),u(_);var k=m(_,2);k.__click=[os,e];var v=f(k);ss(v),u(k);var y=m(k,2);V0(y,{type:"",get startValue(){return e().types[e().activeType].type},get value(){return e().types[e().activeType].type},possibleValues:Me,isValid:!0,alwaysValid:!0,get currentValue(){return e().types[e().activeType].type},set currentValue(j){e().types[e().activeType].type=j}});var V=m(y,2);{var A=j=>{var R=cs(),C=U(R);const P=W(()=>[...a.plugins.map(x=>x.id),"none"]);V0(C,{type:"",get startValue(){return e().types[e().activeType].pluginID},get value(){return e().types[e().activeType].pluginID},get possibleValues(){return n(P)},isValid:!0,alwaysValid:!0,get currentValue(){return e().types[e().activeType].pluginID},set currentValue(x){e().types[e().activeType].pluginID=x}});var D=m(C,2);{var S=x=>{const w=W(()=>[...a.plugins.find(T=>T.id==e().types[e().activeType].pluginID).pages.map(T=>T.id),"none"]);V0(x,{type:"",get startValue(){return e().types[e().activeType].pageID},get value(){return e().types[e().activeType].pageID},get possibleValues(){return n(w)},isValid:!0,alwaysValid:!0,get currentValue(){return e().types[e().activeType].pageID},set currentValue(T){e().types[e().activeType].pageID=T}})};Z(D,x=>{e().types[e().activeType].pluginID!="none"&&x(S)})}d(j,R)};Z(V,j=>{e().types[e().activeType].type==i0.CUSTOM&&j(A)})}d(s,l),G()}l0(["mousedown","click"]);var us=M('<button class="svelte-ysk6ri">x</button>'),ps=M("<button> </button> <!>",1),gs=(s,t)=>{t().types.push({pluginID:"none",pageID:"none",type:i0.TEST}),console.log(t())},fs=M('<button class="svelte-ysk6ri">+</button>'),ms=M('<div class="controls svelte-ysk6ri"><!></div>'),hs=M('<p style="padding: 1rem;">CUSTOM not valid</p>'),_s=M('<p style="padding: 1rem;"> </p>'),ws=M("<div><!></div>"),ys=M('<div class="bar svelte-ysk6ri"><div class="controls svelte-ysk6ri"><!> <!></div> <!></div> <!>',1);function xs(s,t){Y(t,!0);let e=a0(t,"m",7);J0(s,{children:(l,o)=>{var r=ys(),g=U(r),b=f(g),h=f(b);q(h,17,()=>e().types,K,(k,v,y)=>{var V=ps(),A=U(V);let j;A.__click=()=>{e().activeType=y};var R=f(A,!0);u(A);var C=m(A,2);{var P=D=>{var S=us();S.__click=()=>{if(e().types.length<=1){I0.add("Cannot remove last widget.");return}e().types=e().types.filter((x,w)=>w!==y),e().activeType--,e().activeType<0&&(e().activeType=0)},d(D,S)};Z(C,D=>{a.showEdit&&e().types.length>1&&D(P)})}N(D=>{j=n0(A,1,"base svelte-ysk6ri",null,j,D),X(R,n(v).type)},[()=>({selected:y==e().activeType})]),d(k,V)});var i=m(h,2);{var p=k=>{var v=fs();v.__click=[gs,e],d(k,v)};Z(i,k=>{a.showEdit&&k(p)})}u(b);var c=m(b,2);{var _=k=>{var v=ms(),y=f(v);ds(y,{get m(){return e()},get gridManager(){return t.gridManager}}),u(v),d(k,v)};Z(c,k=>{a.showEdit&&k(_)})}u(g);var O=m(g,2);q(O,17,()=>e().types,K,(k,v,y)=>{var V=ws();let A;var j=f(V);{var R=P=>{Lt(P,{})},C=(P,D)=>{{var S=w=>{Ve(w,{get gamepad(){return Oe.gamepads[0]}})},x=(w,T)=>{{var I=$=>{kt($,{})},z=($,L)=>{{var E=B=>{Xt(B,{})},f0=(B,Q)=>{{var r0=d0=>{pt(d0,{})},E0=(d0,ne)=>{{var le=h0=>{jt(h0,{})},ie=(h0,oe)=>{{var ce=_0=>{Wt(_0,{})},ve=(_0,de)=>{{var ue=w0=>{var y0=b0(),N0=U(y0);{var ge=x0=>{De(x0,{get pluginID(){return n(v).pluginID},get pageID(){return n(v).pageID}})},fe=x0=>{var me=hs();d(x0,me)};Z(N0,x0=>{n(v).pluginID&&n(v).pageID?x0(ge):x0(fe,!1)})}d(w0,y0)},pe=w0=>{var y0=_s(),N0=f(y0);u(y0),N(()=>X(N0,`This is an unknown widget of type "${n(v).type??""}"`)),d(w0,y0)};Z(_0,w0=>{n(v).type==i0.CUSTOM?w0(ue):w0(pe,!1)},de)}};Z(h0,_0=>{n(v).type==i0.CAPTURE?_0(ce):_0(ve,!1)},oe)}};Z(d0,h0=>{n(v).type==i0.GRAPH?h0(le):h0(ie,!1)},ne)}};Z(B,d0=>{n(v).type==i0.CONFIGURABLES?d0(r0):d0(E0,!1)},Q)}};Z($,B=>{n(v).type==i0.TELEMETRY?B(E):B(f0,!1)},L)}};Z(w,$=>{n(v).type==i0.FIELD?$(I):$(z,!1)},T)}};Z(P,w=>{n(v).type==i0.GAMEPAD?w(S):w(x,!1)},D)}};Z(j,P=>{n(v).type==i0.CONTROLS?P(R):P(C,!1)})}u(V),N(P=>A=n0(V,1,"content svelte-ysk6ri",null,A,P),[()=>({shown:y==e().activeType})]),d(k,V)}),d(l,r)},$$slots:{default:!0}}),G()}l0(["click"]);var ks=M("<div><!></div>"),bs=M('<div class="item svelte-po0j3y"><!></div>'),Ms=M("<button><!></button>"),Ss=(s,t)=>{if(t().selectedWidget!=null){if(!t().canPlace){t().stopMoving("Cannot move there.");return}t().performMove(),t().stopMoving(null)}},$s=M("<p></p>"),Os=M('<section role="button" tabindex="0" class="svelte-po0j3y"></section>'),Vs=M('<div class="container svelte-po0j3y"><section class="svelte-po0j3y"><!> <!> <!></section> <!></div>');function Ps(s,t){Y(t,!0);let e=a0(t,"gridManager",7);var l=Vs(),o=f(l),r=f(o);q(r,17,()=>e().modules,K,(c,_)=>{var O=ks();let k;var v=f(O);xs(v,{get m(){return n(_)},get gridManager(){return e()}}),u(O),N(y=>{k=n0(O,1,"item svelte-po0j3y",null,k,y),O0(O,`
        grid-column: ${n(_).start.x??""} / span ${n(_).sizes.x??""};
        grid-row: ${n(_).start.y??""} / span ${n(_).sizes.y??""};
        `)},[()=>({isOverlay:e().selectedWidgetId==n(_).id})]),d(c,O)});var g=m(r,2);{var b=c=>{var _=bs(),O=f(_);J0(O,{isPrimary:!0}),u(_),N(()=>O0(_,`
  grid-column: ${e().selectedCellX??""} / span ${e().selectedWidget.sizes.x??""};
  grid-row: ${e().selectedCellY??""} / span ${e().selectedWidget.sizes.y??""};
  `)),d(c,_)};Z(g,c=>{e().selectedWidget!=null&&c(b)})}var h=m(g,2);q(h,17,()=>Array.from({length:e().cellsX*e().cellsY}),K,(c,_,O)=>{var k=Ms();const v=W(()=>e().modulesMap[Math.floor(O/e().cellsX)+1][O%e().cellsX+1]);let y;k.__click=()=>{e().addNew(O%e().cellsX+1,Math.floor(O/e().cellsX)+1)};var V=f(k);Ae(V),u(k),N(A=>{O0(k,n(v)!=null?"display: none;":""),y=n0(k,1,"add svelte-po0j3y",null,y,A)},[()=>({shown:a.showEdit&&!e().isMoving})]),d(c,k)}),u(o);var i=m(o,2);{var p=c=>{var _=Os();_.__mouseup=[Ss,e],q(_,21,()=>Array.from({length:e().cellsX*e().cellsY}),K,(O,k,v)=>{var y=$s();const V=W(()=>e().modulesMap[Math.floor(v/e().cellsX)+1][v%e().cellsX+1]);let A;y.__mouseover=()=>{if(console.log(v),e().selectedWidget==null)return;const j=e().selectedWidget,R=v%e().cellsX+1,C=Math.floor(v/e().cellsX)+1,P=e().coreCheckPlace(R,C,j),D=e().coreCheckPlace(R,e().selectedCellY,j),S=e().coreCheckPlace(e().selectedCellX,C,j);console.log("canPlaceBoth",P),console.log("canPlaceX",D),console.log("canPlaceY",S),(D||P)&&(e().selectedCellX=R),(S||P)&&(e().selectedCellY=C)},N(j=>A=n0(y,1,"overlay-item svelte-po0j3y",null,A,j),[()=>({isEmpty:n(V)!=null&&n(V)!=e().selectedWidgetId})]),q0("focus",y,()=>{}),d(O,y)}),u(_),d(c,_)};Z(i,c=>{e().isMoving&&c(p)})}u(l),N(()=>O0(l,`--cellsX:${e().cellsX??""} ;--cellsY: ${e().cellsY??""};`)),d(s,l),G()}l0(["click","mouseup","mouseover"]);var L0=G0(()=>Se);function qs(s,t){Y(t,!1),z0(()=>{const e=be.url.searchParams.get("preset");e!=null&&L0(L0().selectedManagerID=e)}),W0(),Ps(s,{get gridManager(){return L0().currentGrid}}),G()}export{qs as component};
