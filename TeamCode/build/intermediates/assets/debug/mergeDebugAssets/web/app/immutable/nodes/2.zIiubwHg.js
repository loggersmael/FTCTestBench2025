import{t as A,b as g,c as we,n as ne,e as Z}from"../chunks/DgPgYHzS.js";import"../chunks/CE_tkPBO.js";import{Q as H,_ as de,R as X,U as E,T as v,V as R,W as f,X as p,d,a5 as K,aC as ve,a2 as U,aG as Q,f as ce}from"../chunks/DxySB33y.js";import{p as z,a as le,i as te}from"../chunks/DQEzFBYC.js";import{i as Se}from"../chunks/vRacDtxp.js";import{b as ae,S as fe,i as r,s as oe,a as Me,H as Ae,T as Ne,c as B,f as me,C as re,d as _e,g as Oe}from"../chunks/CdgVfM5E.js";import{s as Ee,G as ze}from"../chunks/CLDNsC-7.js";import{T as Ge,b as Fe,h as ge,G as Je}from"../chunks/Bb_UpXgb.js";import{d as ie,s as q,e as We}from"../chunks/DG_-0HLc.js";import{e as Y,i as ee}from"../chunks/qMzyVM-B.js";import{r as je,s as W}from"../chunks/B8qkImnQ.js";import{a as He}from"../chunks/DyQLA_-o.js";import{S as Pe,B as se}from"../chunks/CKoJmzFz.js";import{A as xe,r as Xe}from"../chunks/Bi6icO_g.js";function Ze(s,t){H(t,!0);let e=z(t,"currentValue",15),a=z(t,"isValid",15),n=z(t,"value",15),l=z(t,"validate",3,o=>!0),c=z(t,"extraChar",3,""),u=z(t,"type",3,"");de(()=>{n()==null&&(n(t.startValue),a(l()(n())))}),de(()=>{if(ae.state=="closed"||ae.state=="opened"){if(!l()(n())){a(!1);return}a(!0)}}),Ge(s,{get type(){return u()},oninput:()=>{if(!l()(n())){a(!1);return}a(!0),e(n())},get isValid(){return a()},get extraChar(){return c()},get text(){return n()},set text(o){n(o)}}),X()}var Ke=(s,t,e)=>t(e()),Qe=A('<li class="svelte-zt9u0b"><button> </button> </li>'),Ye=ne('<text y="-2" font-size="2.5" fill="white" stroke="var(--text)" stroke-width="0.1" text-anchor="middle"> </text>'),et=ne('<text x="-2" font-size="2.5" fill="white" stroke="var(--text)" stroke-width="0.1" text-anchor="end"> </text>'),tt=ne('<line x1="0" x2="100" stroke="var(--text)" stroke-width="0.2"></line><line y1="0" y2="100" stroke="var(--text)" stroke-width="0.2"></line>',1),rt=ne('<polyline fill="none" stroke-width="0.6"></polyline>'),st=A('<div class="flex svelte-zt9u0b"><input type="range" min="1" max="60" aria-label="Time window"> <p> </p></div> <ul class="svelte-zt9u0b"></ul> <div class="graph svelte-zt9u0b"><svg viewBox="-10 -10 120 120" preserveAspectRatio="none" class="svelte-zt9u0b"><rect x="0" y="0" width="100" height="100" fill="var(--card)"></rect><!><!><!><!></svg></div>',1);function at(s,t){H(t,!0);const e=le({});function a(u){e[u]=!e[u]}function n(u,o,m,_=[0,1]){return m===o?u.map(()=>.5):u.map(V=>(V-o)/(m-o)*(_[1]-_[0])+_[0])}function l(u){const o=Object.values(u).flat().map(h=>h.data),m=Object.values(u).flat().map(h=>h.timestamp),_=Math.min(...o),V=Math.max(...o),I=Math.min(...m),P=I+r.timeWindow*1e3,N={};return Object.entries(u).forEach(([h,k])=>{const T=k.map(F=>F.timestamp),j=k.map(F=>F.data),M=n(T,I,P,[0,100]),L=n(j,_,V,[0,100]);N[h]=k.map((F,x)=>({x:Math.min(100,Math.max(0,M[x])),y:100-L[x]}))}),N}const c=["red","lime","cyan","yellow","magenta","orange"];fe(s,{title:"Graph View",children:(u,o)=>{var m=st(),_=E(m),V=f(_);je(V);var I=v(V,2),P=f(I);p(I),p(_);var N=v(_,2);Y(N,21,()=>Object.entries(r.graphs),ee,(x,b)=>{let S=()=>d(b)[0],$=()=>d(b)[1];var i=Qe(),w=f(i);w.__click=[Ke,a,S];let O;var C=f(w,!0);p(w);var y=v(w);p(i),R(G=>{W(w,"aria-pressed",e[S()]),O=oe(w,1,"svelte-zt9u0b",null,O,G),q(C,S()),q(y,` â€“ ${$().length??""} entries / ${$()[$().length-1].data??""}`)},[()=>({selected:e[S()]})]),g(x,i)}),p(N);var h=v(N,2),k=f(h),T=v(f(k));Y(T,16,()=>[0,25,50,75,100],ee,(x,b)=>{var S=Ye(),$=f(S);p(S),R(i=>{W(S,"x",b),q($,`${i??""}s`)},[()=>Math.round(b/100*r.timeWindow)]),g(x,S)});var j=v(T);Y(j,16,()=>[0,25,50,75,100],ee,(x,b)=>{var S=et(),$=f(S,!0);p(S),R(i=>{W(S,"y",100-b),q($,i)},[()=>(b/100*(Object.values(Object.values(r.graphs).flat().map(i=>i.data)).reduce((i,w)=>Math.max(i,w),-1/0)-Object.values(Object.values(r.graphs).flat().map(i=>i.data)).reduce((i,w)=>Math.min(i,w),1/0))+Object.values(Object.values(r.graphs).flat().map(i=>i.data)).reduce((i,w)=>Math.min(i,w),1/0)).toFixed(2)]),g(x,S)});var M=v(j);Y(M,16,()=>[25,50,75],ee,(x,b)=>{var S=tt(),$=E(S),i=v($);R(()=>{W($,"y1",b),W($,"y2",b),W(i,"x1",b),W(i,"x2",b)}),g(x,S)});var L=v(M);{var F=x=>{var b=we(),S=E(b);Y(S,17,()=>Object.entries(l(Object.fromEntries(Object.entries(r.graphs).filter(([$])=>e[$])))),ee,($,i,w)=>{let O=()=>d(i)[1];var C=rt();R(y=>{W(C,"stroke",c[w%c.length]),W(C,"points",y)},[()=>O().map(y=>`${y.x},${y.y}`).join(" ")]),g($,C)}),g(x,b)};te(L,x=>{Object.keys(e).some(b=>e[b])&&x(F)})}p(k),p(h),R(()=>q(P,`(last ${r.timeWindow??""}s)`)),Fe(V,()=>r.timeWindow,x=>r.timeWindow=x),g(u,m)},$$slots:{default:!0}}),X()}ie(["click"]);var nt=A('<p> </p> <p> </p> <input type="range"> <div class="flex-item svelte-1o86sht"><p>Animation speed</p> <!></div> <div><div class="flex svelte-1o86sht"><!> <!> <!></div> <div class="flex svelte-1o86sht"><!> <!></div></div>',1);function it(s,t){H(t,!0);let e=ve("1x");de(()=>{d(e)!=null&&r.isForwarding&&(l=r.timestamp,n=performance.now())});let a=null,n=null,l=0;function c(o){if(!r.isForwarding||n===null)return;const m=o-n,_=parseFloat(d(e).replace("x",""));r.timestamp=Math.min(l+m*_,r.duration),r.timestamp<r.duration?a=requestAnimationFrame(c):(r.timestamp=r.duration,r.isForwarding=!1,a=null,n=null)}function u(){r.isForwarding=!r.isForwarding,r.isForwarding?(l=r.timestamp,n=performance.now(),a=requestAnimationFrame(c)):(n=null,a!==null&&(cancelAnimationFrame(a),a=null))}He(()=>{a!==null&&cancelAnimationFrame(a)}),fe(s,{title:"Capture",children:(o,m)=>{var _=nt(),V=E(_),I=f(V);p(V);var P=v(V,2),N=f(P);p(P);var h=v(P,2);je(h),W(h,"min",0);var k=v(h,2),T=v(f(k),2);Pe(T,{startValue:"1x",value:"1x",possibleValues:["0.1x","0.25x","0.5x","1x","2x","3x","4x"],get isValid(){return r.hasRecording},alwaysValid:!0,get currentValue(){return d(e)},set currentValue(y){K(e,le(y))}}),p(k);var j=v(k,2),M=f(j),L=f(M);se(L,{onclick:()=>{r.isRecording=!0},get disabled(){return r.isRecording},children:(y,G)=>{Q();var D=Z("Start");g(y,D)},$$slots:{default:!0}});var F=v(L,2);const x=U(()=>!r.isRecording);se(F,{onclick:()=>{r.isRecording=!1},get disabled(){return d(x)},children:(y,G)=>{Q();var D=Z("Stop");g(y,D)},$$slots:{default:!0}});var b=v(F,2);const S=U(()=>!r.hasRecording);se(b,{onclick:()=>{r.isRecording=!1,r.history=[],r.timestamp=0,r.isPlaying=!1},get disabled(){return d(S)},children:(y,G)=>{Q();var D=Z("Reset");g(y,D)},$$slots:{default:!0}}),p(M);var $=v(M,2),i=f($);const w=U(()=>!r.hasRecording);se(i,{onclick:()=>{r.isPlaying=!r.isPlaying},get disabled(){return d(w)},children:(y,G)=>{Q();var D=Z();R(()=>q(D,`${(r.isPlaying?"Disable":"Enable")??""} Visual Sync`)),g(y,D)},$$slots:{default:!0}});var O=v(i,2);const C=U(()=>!r.hasRecording);se(O,{onclick:u,get disabled(){return d(C)},children:(y,G)=>{Q();var D=Z();R(()=>q(D,`${(r.isForwarding?"Stop":"Start")??""} Playing`)),g(y,D)},$$slots:{default:!0}}),p($),p(j),R((y,G)=>{q(I,`Got ${r.history.length??""} entries`),q(N,`Timestamp: ${y??""}s / ${G??""}s`),h.disabled=!r.hasRecording,W(h,"max",r.duration)},[()=>(r.timestamp/1e3).toFixed(2),()=>(r.duration/1e3).toFixed(2)]),Fe(h,()=>r.timestamp,y=>r.timestamp=y),g(o,_)},$$slots:{default:!0}}),X()}var lt=(s,t,e)=>t.onselect(d(e)),ot=A('<button class="svelte-6klxoa"> </button>'),ct=A('<p class="svelte-6klxoa">No opModes here.</p>'),ut=A("<!> <!>",1);function ye(s,t){H(t,!0);var e=ut(),a=E(e);Y(a,17,()=>r.opModes.filter(c=>c.flavour==t.flavour),ee,(c,u)=>{var o=ot();o.__click=[lt,t,u];var m=f(o);p(o),R(()=>q(m,`${d(u).name??""} / ${d(u).group??""}`)),g(c,o)});var n=v(a,2);{var l=c=>{var u=ct();g(c,u)};te(n,c=>{r.opModes.filter(u=>u.flavour==t.flavour).length==0&&c(l)})}g(s,e),X()}ie(["click"]);var dt=A('<div><div class="inner svelte-sf14j4"><!></div></div>');function pe(s,t){var e=dt();let a;var n=f(e),l=f(n);Me(l,()=>t.children),p(n),p(e),R(c=>a=oe(e,1,"hiddable svelte-sf14j4",null,a,c),[()=>({shown:t.isShown})]),g(s,e)}var vt=(s,t)=>t("autos"),pt=(s,t)=>t("teleops"),ft=A('<button class="svelte-vcqslt"><span class="svelte-vcqslt">Autos<!></span></button> <!> <button class="svelte-vcqslt"><span class="svelte-vcqslt">TeleOps<!></span></button>',1),gt=A('<p class="title svelte-vcqslt">Nothing selected</p>'),mt=A('<p class="title svelte-vcqslt"><span class="title_small svelte-vcqslt"> </span> </p>'),_t=A('<!> <div class="modal autos svelte-vcqslt"><!></div> <div class="modal teleops svelte-vcqslt"><!></div> <!> <div class="flex svelte-vcqslt"><!> <!> <!></div>',1);function ht(s,t){H(t,!0);let e=ve("");function a(c){d(e)!=c?K(e,le(c)):K(e,"")}function n(c){K(l,le(c)),K(e,"")}de(()=>{if(console.log(r.activeOpMode),r.activeOpMode==" ")return;console.log("Length: ",r.opModes.length);let c=null;for(const u of r.opModes)u.name==r.activeOpMode&&(c=u);c!=null&&K(l,le(c))});let l=ve(le({name:"",group:"",flavour:"AUTONOMOUS"}));fe(s,{children:(c,u)=>{var o=_t(),m=E(o);Ae(m,{children:(i,w)=>{var O=ft(),C=E(O);C.__click=[vt,a];var y=f(C),G=v(f(y));const D=U(()=>d(e)=="autos");xe(G,{get isOpened(){return d(D)}}),p(y),p(C);var be=v(C,2);Ne(be,{children:(Ue,gr)=>{Q();var qe=Z("OpMode Control");g(Ue,qe)}});var he=v(be,2);he.__click=[pt,a];var $e=f(he),De=v(f($e));const Be=U(()=>d(e)=="teleops");xe(De,{get isOpened(){return d(Be)}}),p($e),p(he),g(i,O)}});var _=v(m,2),V=f(_);const I=U(()=>d(e)=="autos");pe(V,{get isShown(){return d(I)},children:(i,w)=>{ye(i,{flavour:"AUTONOMOUS",onselect:n})}}),p(_);var P=v(_,2),N=f(P);const h=U(()=>d(e)=="teleops");pe(N,{get isShown(){return d(h)},children:(i,w)=>{ye(i,{flavour:"TELEOP",onselect:n})}}),p(P);var k=v(P,2);{var T=i=>{var w=gt();g(i,w)},j=i=>{var w=mt(),O=f(w),C=f(O,!0);p(O);var y=v(O);p(w),R(()=>{q(C,d(l).flavour),q(y,` ${d(l).name??""}`)}),g(i,w)};te(k,i=>{d(l).name==""?i(T):i(j,!1)})}var M=v(k,2),L=f(M);const F=U(()=>d(l).name==""||r.activeOpModeStatus=="running"&&r.activeOpMode!="$Stop$Robot$"||r.activeOpModeStatus=="stopped"&&r.activeOpMode!="$Stop$Robot$"||d(l).name!=""&&r.activeOpModeStatus=="init");se(L,{get disabled(){return d(F)},onclick:()=>{ae.sendMessage({kind:"initOpMode",opModeName:d(l).name})},children:(i,w)=>{Q();var O=Z("Initialize");g(i,O)},$$slots:{default:!0}});var x=v(L,2);const b=U(()=>r.activeOpMode=="$Stop$Robot$"||d(l).name==""||r.activeOpModeStatus!="init");se(x,{get disabled(){return d(b)},onclick:()=>{ae.sendMessage({kind:"startActiveOpMode"})},children:(i,w)=>{Q();var O=Z("Start");g(i,O)},$$slots:{default:!0}});var S=v(x,2);const $=U(()=>r.activeOpMode=="$Stop$Robot$"||d(l).name==""||r.activeOpModeStatus=="stopped");se(S,{get disabled(){return d($)},onclick:()=>{ae.sendMessage({kind:"stopActiveOpMode"})},children:(i,w)=>{Q();var O=Z("Stop");g(i,O)},$$slots:{default:!0}}),p(M),g(c,o)},$$slots:{default:!0}}),X()}ie(["click"]);var xt=A("<p> </p>"),wt=A("<p>No telemetry found.</p>"),St=A("<!> <!>",1);function bt(s,t){H(t,!1),Se(),fe(s,{title:"Telemetry",children:(e,a)=>{var n=St(),l=E(n);Y(l,1,()=>r.telemetry,ee,(o,m)=>{var _=xt(),V=f(_,!0);p(_),R(()=>q(V,d(m))),g(o,_)});var c=v(l,2);{var u=o=>{var m=wt();g(o,m)};te(c,o=>{r.telemetry.length==0&&o(u)})}g(e,n)},$$slots:{default:!0}}),X()}var $t=ne('<svg width="100%" height="100%" viewBox="0 0 13 14" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><path d="M0.478,8.19c-0.432,-1.595 -0.19,-3.216 0.551,-4.558c0.11,-0.194 0.067,-0.439 -0.103,-0.583c-0.192,-0.167 -0.455,-0.39 -0.711,-0.608c-0.173,-0.146 -0.25,-0.376 -0.2,-0.597c0.049,-0.22 0.216,-0.395 0.435,-0.454l5.055,-1.369c0.218,-0.059 0.451,0.008 0.605,0.174c0.075,0.08 0.125,0.177 0.148,0.28c0.025,0.11 0.019,0.226 -0.02,0.336l-1.533,4.358c-0.066,0.189 -0.221,0.334 -0.415,0.386c-0.193,0.052 -0.4,0.006 -0.553,-0.123l-0.75,-0.638c-0.114,-0.096 -0.266,-0.132 -0.411,-0.098c-0.11,0.026 -0.206,0.092 -0.27,0.182c-0.371,0.878 -0.463,1.881 -0.197,2.871l0.002,0.008c0.366,1.353 1.319,2.396 2.515,2.908c0.109,0.047 0.171,0.163 0.148,0.279c-0.06,0.297 -0.172,0.852 -0.24,1.189c-0.014,0.072 -0.059,0.134 -0.123,0.169c-0.045,0.026 -0.096,0.036 -0.147,0.031c-0.021,-0.002 -0.041,-0.007 -0.061,-0.014c-1.763,-0.679 -3.192,-2.159 -3.722,-4.12l-0.003,-0.009Zm6.045,4.524c-0.025,-0.11 -0.019,-0.226 0.02,-0.336l1.533,-4.359c0.066,-0.189 0.221,-0.333 0.415,-0.385c0.193,-0.053 0.4,-0.006 0.553,0.123l0.75,0.637c0.114,0.097 0.266,0.133 0.411,0.099c0.11,-0.027 0.206,-0.092 0.27,-0.182c0.371,-0.878 0.463,-1.881 0.197,-2.871l-0.002,-0.008c-0.367,-1.353 -1.322,-2.39 -2.515,-2.909c-0.109,-0.046 -0.171,-0.162 -0.148,-0.278c0.06,-0.297 0.172,-0.852 0.24,-1.189c0.014,-0.072 0.059,-0.134 0.123,-0.17c0.045,-0.025 0.096,-0.035 0.147,-0.03c0.021,0.002 0.041,0.007 0.061,0.014c1.763,0.679 3.191,2.159 3.722,4.12l0.003,0.009c0.432,1.595 0.19,3.216 -0.551,4.558c-0.11,0.194 -0.067,0.439 0.103,0.583c0.192,0.166 0.455,0.39 0.711,0.607c0.173,0.147 0.25,0.377 0.2,0.597c-0.049,0.221 -0.216,0.396 -0.435,0.455l-5.055,1.369c-0.218,0.059 -0.451,-0.008 -0.605,-0.174c-0.075,-0.08 -0.125,-0.177 -0.148,-0.28Z" class="svelte-wof6i3"></path></svg>');function Ot(s,t){let e=z(t,"isActive",3,!0),a=z(t,"isSelected",3,!1);var n=$t();let l;R(c=>l=oe(n,0,"svelte-wof6i3",null,l,c),[()=>({disabled:!e(),spin:a()})]),g(s,n)}function yt(s,t,e){t()&&(K(e,!0),setTimeout(()=>{K(e,!1)},300))}var Vt=ne(`<svg width="100%" height="100%" viewBox="0 0 14 13" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g><path d="M3.654,5.076c-0.113,-0.097 -0.265,-0.133 -0.41,-0.099c-0.145,0.035 -0.264,0.136 -0.322,0.274c-0.329,0.858 -0.404,1.825 -0.145,2.779c0.639,2.363 3.076,3.761 5.438,3.122c2.363,-0.64 3.762,-3.077 3.122,-5.439c-0.366,-1.353 -1.321,-2.389 -2.515,-2.908c-0.109,-0.046 -0.17,-0.163 -0.147,-0.279c0.059,-0.297 0.171,-0.852 0.239,-1.189c0.015,-0.072 0.06,-0.134 0.123,-0.169c0.064,-0.036 0.141,-0.042 0.209,-0.017c1.763,0.679 3.191,2.159 3.722,4.121c0.883,3.262 -1.049,6.628 -4.311,7.511c-3.263,0.883 -6.628,-1.049 -7.511,-4.311c-0.432,-1.596 -0.191,-3.216 0.55,-4.559c0.111,-0.194 0.068,-0.439 -0.102,-0.583c-0.192,-0.166 -0.455,-0.389 -0.711,-0.607c-0.173,-0.147 -0.25,-0.377 -0.201,-0.597c0.05,-0.221 0.217,-0.396 0.436,-0.455c1.371,-0.371 3.683,-0.997 5.055,-1.369c0.218,-0.059 0.451,0.008 0.605,0.174c0.154,0.166 0.203,0.403 0.128,0.616c-0.436,1.24 -1.138,3.237 -1.533,4.359c-0.066,0.189 -0.222,0.333 -0.415,0.385c-0.194,0.053 -0.401,0.007 -0.553,-0.123c-0.249,-0.212 -0.525,-0.446 -0.751,-0.637Z" class="svelte-jhhttk"></path><g transform="matrix(4.00107,0,0,4.00107,10.405,8.71918)"></g><text x="4.247px" y="8.719px" style="font-family:'Varta-Bold', 'Varta';font-weight:700;font-size:4.001px;" class="svelte-jhhttk">ALL</text></g></svg>`);function kt(s,t){let e=z(t,"isActive",3,!0),a=ve(!1);var n=Vt();n.__click=[yt,e,a];let l;R(c=>l=oe(n,0,"svelte-jhhttk",null,l,c),[()=>({disabled:!e(),spin:d(a)})]),g(s,n)}ie(["click"]);var Mt=(s,t)=>{t()==!0?t(!1):(t()==!1,t(!0))},At=A('<button class="svelte-whxx7j"><!> <!></button>');function Re(s,t){H(t,!0);let e=z(t,"isOpened",15);var a=At();a.__click=[Mt,e];var n=f(a);xe(n,{get isOpened(){return e()},isVertical:!1});var l=v(n,2);Me(l,()=>t.children),p(a),g(s,a),X()}ie(["click"]);var Nt=A('<h3 class="svelte-utaoqk"> </h3>');function Ft(s,t){H(t,!0);let e=z(t,"isOpened",15);function a(l){return l.split(".").at(-1)||""}function n(l){return l.split("."+a(l))[0]}Re(s,{get isOpened(){return e()},set isOpened(l){e(l)},children:(l,c)=>{var u=Nt(),o=f(u,!0);p(u),R((m,_)=>{W(u,"data-class",m),q(o,_)},[()=>n(t.name),()=>a(t.name)]),g(l,u)},$$slots:{default:!0}}),X()}var jt=ne('<svg width="100%" height="100%" viewBox="0 0 14 13" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g><path d="M3.654,5.076c-0.113,-0.097 -0.265,-0.133 -0.41,-0.099c-0.145,0.035 -0.264,0.136 -0.322,0.274c-0.329,0.858 -0.404,1.825 -0.145,2.779c0.639,2.363 3.076,3.761 5.438,3.122c2.363,-0.64 3.762,-3.077 3.122,-5.439c-0.366,-1.353 -1.321,-2.389 -2.515,-2.908c-0.109,-0.046 -0.17,-0.163 -0.147,-0.279c0.059,-0.297 0.171,-0.852 0.239,-1.189c0.015,-0.072 0.06,-0.134 0.123,-0.169c0.064,-0.036 0.141,-0.042 0.209,-0.017c1.763,0.679 3.191,2.159 3.722,4.121c0.883,3.262 -1.049,6.628 -4.311,7.511c-3.263,0.883 -6.628,-1.049 -7.511,-4.311c-0.432,-1.596 -0.191,-3.216 0.55,-4.559c0.111,-0.194 0.068,-0.439 -0.102,-0.583c-0.192,-0.166 -0.455,-0.389 -0.711,-0.607c-0.173,-0.147 -0.25,-0.377 -0.201,-0.597c0.05,-0.221 0.217,-0.396 0.436,-0.455c1.371,-0.371 3.683,-0.997 5.055,-1.369c0.218,-0.059 0.451,0.008 0.605,0.174c0.154,0.166 0.203,0.403 0.128,0.616c-0.436,1.24 -1.138,3.237 -1.533,4.359c-0.066,0.189 -0.222,0.333 -0.415,0.385c-0.194,0.053 -0.401,0.007 -0.553,-0.123c-0.249,-0.212 -0.525,-0.446 -0.751,-0.637Z" class="svelte-1p9cwh8"></path></g></svg>');function Ve(s,t){H(t,!0);let e=z(t,"isActive",3,!0),a=ve(!1);de(()=>{e()||d(a)||(K(a,!0),setTimeout(()=>{K(a,!1)},300))});var n=jt();let l;R(c=>l=oe(n,0,"svelte-1p9cwh8",null,l,c),[()=>({disabled:!e(),spin:d(a)})]),g(s,n),X()}const Pt=-2147483648,Rt=2147483647,Tt=BigInt("-9223372036854775808"),Lt=BigInt("9223372036854775807"),Ct=-34e37,It=34e37,Dt=-17e307,Bt=17e307;function Ut(s){for(const e of s)if(!["0","1","2","3","4","5","6","7","8","9"].includes(e))return!1;const t=parseInt(s,10);return isNaN(t)?!1:t>=Pt&&t<=Rt}function qt(s){for(const e of s)if(!["0","1","2","3","4","5","6","7","8","9"].includes(e))return!1;const t=BigInt(s);return t>=Tt&&t<=Lt}function Et(s){var t=!1;for(const a of s){if(!["0","1","2","3","4","5","6","7","8","9","."].includes(a))return!1;if(a==".")if(!t)t=!0;else return!1}const e=parseFloat(s);return isNaN(e)?!1:e>=Dt&&e<=Bt}function zt(s){var t=!1;for(const a of s){if(!["0","1","2","3","4","5","6","7","8","9","."].includes(a))return!1;if(a==".")if(!t)t=!0;else return!1}const e=parseFloat(s);return isNaN(e)?!1:e>=Ct&&e<=It}function ke(s){return typeof s=="string"}function Gt(s){return!1}function Jt(s){if(ae.state=="closed")return Gt;switch(s){case B.INT:return Ut;case B.LONG:return qt;case B.DOUBLE:return Et;case B.FLOAT:return zt;case B.STRING:return ke;default:return ke}}function Wt(s,t){let e=z(t,"depth",3,0);Te(s,{get item(){return t.item},get depth(){return e()}})}var Ht=(s,t)=>{t()},Xt=A('<p style="margin-left: -24px;" class="svelte-f7jrs1"><button class="svelte-f7jrs1"><!></button> <!></p> <form><!></form>',1),Zt=(s,t)=>{t()},Kt=A('<p style="margin-left: -24px;" class="svelte-f7jrs1"><button class="svelte-f7jrs1"><!></button> <!></p> <!>',1),Qt=A('<p class="svelte-f7jrs1"><!> </p>'),Yt=A('<div class="two svelte-f7jrs1" style="margin-left: -20px;"><!></div> <div class="two svelte-f7jrs1"></div>',1),er=A('<div class="two svelte-f7jrs1"><p class="svelte-f7jrs1"><!> </p></div>'),tr=A("<div><!></div>");function Te(s,t){H(t,!0);let e=z(t,"item",7),a=z(t,"depth",3,0);function n(){e().isValid&&(ae.sendMessage({kind:"updatedJvmFields",fields:[{id:e().id,newValueString:e().newValueString}]}),e().valueString=e().newValueString,e().value=e().newValueString)}function l(m){var h;const _=(h=r.searchParam)==null?void 0:h.toLowerCase();if(!_)return m;const V=m.toLowerCase().indexOf(_);if(V===-1)return m;const I=m.slice(0,V),P=m.slice(V,V+_.length),N=m.slice(V+_.length);return`<span>${I}<span class="highlight">${P}</span>${N}</span>`}var c=we(),u=E(c);{var o=m=>{var _=tr();let V;var I=f(_);{var P=h=>{var k=Xt(),T=E(k),j=f(T);j.__click=[Ht,n];var M=f(j);const L=U(()=>e().valueString!=e().newValueString&&e().isValid);Ve(M,{get isActive(){return d(L)}}),p(j);var F=v(j,2);ge(F,()=>l(e().fieldName)),p(T);var x=v(T,2),b=f(x);const S=U(()=>e().type.toUpperCase()),$=U(()=>Jt(e().type));Ze(b,{get type(){return d(S)},get validate(){return d($)},get value(){return e().value},set value(i){e().value=i},get isValid(){return e().isValid},set isValid(i){e().isValid=i},get startValue(){return e().valueString},set startValue(i){e().valueString=i},get currentValue(){return e().newValueString},set currentValue(i){e().newValueString=i}}),p(x),We("submit",x,()=>{n()}),g(h,k)},N=(h,k)=>{{var T=M=>{var L=Kt(),F=E(L),x=f(F);x.__click=[Zt,n];var b=f(x);const S=U(()=>e().valueString!=e().newValueString&&e().isValid);Ve(b,{get isActive(){return d(S)}}),p(x);var $=v(x,2);ge($,()=>l(e().fieldName)),p(F);var i=v(F,2);const w=U(()=>e().type.toUpperCase());Pe(i,{get possibleValues(){return e().possibleValues},get type(){return d(w)},get value(){return e().value},set value(O){e().value=O},get isValid(){return e().isValid},set isValid(O){e().isValid=O},get startValue(){return e().valueString},set startValue(O){e().valueString=O},get currentValue(){return e().newValueString},set currentValue(O){e().newValueString=O}}),g(M,L)},j=(M,L)=>{{var F=b=>{var S=Yt(),$=E(S),i=f($);Re(i,{get isOpened(){return e().isOpened},set isOpened(O){e().isOpened=O},children:(O,C)=>{var y=Qt(),G=f(y);ge(G,()=>l(e().fieldName));var D=v(G);p(y),R(()=>q(D,` ${e().type??""}`)),g(O,y)},$$slots:{default:!0}}),p($);var w=v($,2);Y(w,21,()=>e().customValues,ee,(O,C)=>{pe(O,{get isShown(){return e().isOpened},children:(y,G)=>{const D=U(()=>a()+1);Wt(y,{get item(){return d(C)},get depth(){return d(D)}})}})}),p(w),g(b,S)},x=b=>{var S=er(),$=f(S),i=f($);ge(i,()=>l(e().fieldName));var w=v(i);p($),p(S),R(()=>q(w,` ${e().type??""}`)),g(b,S)};te(M,b=>{e().type==B.CUSTOM||e().type==B.ARRAY||e().type==B.MAP||e().type==B.LIST?b(F):b(x,!1)},L)}};te(h,M=>{e().type===B.ENUM||e().type===B.BOOLEAN?M(T):M(j,!1)},k)}};te(I,h=>{[B.INT,B.LONG,B.DOUBLE,B.FLOAT,B.STRING].includes(e().type)?h(P):h(N,!1)})}p(_),R(h=>{Ee(_,`--depth:${a()??""};`),V=oe(_,1,"svelte-f7jrs1",null,V,h)},[()=>({item:e(),disabled:e().type==B.UNKNOWN,first:a()==0})]),g(m,_)};te(u,m=>{e().isShown&&m(o)})}g(s,c),X()}ie(["click"]);function Le(s,t){if(!s)return;const e={};me(s,n=>{const l=t(n);return n.isShown=l,l},(n,l)=>{const c=t(n),u=l.some(Boolean),o=c||u;return c?(n.isOpened=!0,n.isShown=!0,_e(n.customValues??[],m=>{m.isShown=!0},m=>{m.isShown=!0,m.isOpened=!0})):(n.isOpened=u,n.isShown=o),o});const a=n=>{n.isShown&&(e[n.className]=!0)};_e(r.jvmFields,a,a),r.openedStates=e}function rr(s,t){s=s.toLowerCase(),Le(t,e=>{var a;return(a=e.fieldName)==null?void 0:a.toLowerCase().includes(s)})}let ue={openedStates:{},isOpenedMap:new Map};function Ce(){ue.openedStates={...r.openedStates},ue.isOpenedMap=new Map,_e(r.jvmFields,s=>{},s=>{ue.isOpenedMap.set(s.id,s.isOpened??!1)})}function Ie(){r.openedStates={...ue.openedStates},_e(r.jvmFields,s=>{s.isShown=!0},s=>{s.isShown=!0,s.isOpened=ue.isOpenedMap.get(s.id)??!1})}function sr(s){if(r.searchParam=s,s!="")r.configurablesState==re.NORMAL&&Ce(),r.configurablesState=re.SEARCH,rr(s,r.jvmFields);else if(r.configurablesState==re.SEARCH){r.configurablesState=re.NORMAL,Ie();return}}function ar(){if(r.configurablesState==re.DIFF){Ie(),r.configurablesState=re.NORMAL;return}r.configurablesState==re.NORMAL&&Ce(),r.configurablesState=re.DIFF,nr(r.jvmFields)}function nr(s){Le(s,t=>t.valueString!=r.initialJvmFields.get(t.id))}function ir(s){let t=!1;return me(s,e=>e.valueString!==r.initialJvmFields.get(e.id)?(t=!0,!0):!1,()=>t),t}var J=Xe(()=>r),lr=s=>{const t=s.target;t&&sr(t.value)},or=()=>{ar()},cr=A('<!> <input class="search svelte-21supp" type="text" placeholder="Search"> <button class="svelte-21supp"><!></button> <button class="svelte-21supp"><!></button>',1),ur=A("<!> <!>",1),dr=A("<p>No configurables found.</p>"),vr=A('<!> <div class="content svelte-21supp"><!> <!></div>',1);function pr(s,t){H(t,!1);function e(c){const u={};for(const o of c)u.hasOwnProperty(o.className)||(u[o.className]=[]),u[o.className].push(o);return u}function a(c){return me(c,u=>u.valueString!==u.newValueString&&u.isValid,(u,o)=>o.some(Boolean)).some(Boolean)}function n(c){return me(c,o=>o.valueString!==o.newValueString&&o.isValid?{id:o.id,newValueString:o.newValueString}:null,(o,m)=>null).filter(o=>o!==null)}function l(c){c!=null&&ae.sendMessage({kind:"updatedJvmFields",fields:n(c)})}Se(),fe(s,{children:(c,u)=>{var o=vr(),m=E(o);Ae(m,{children:(N,h)=>{var k=cr(),T=E(k);Ne(T,{children:(i,w)=>{Q();var O=Z("Configurables");g(i,O)}});var j=v(T,2);j.__input=[lr];var M=v(j,2);M.__click=()=>{l(J().jvmFields)};var L=f(M);const F=ce(()=>a(J().jvmFields));kt(L,{get isActive(){return d(F)}}),p(M);var x=v(M,2);x.__click=[or];var b=f(x);const S=ce(()=>ir(J().jvmFields)),$=ce(()=>J().configurablesState==re.DIFF);Ot(b,{get isActive(){return d(S)},get isSelected(){return d($)}}),p(x),g(N,k)}});var _=v(m,2),V=f(_);Y(V,1,()=>Object.entries(e(J().jvmFields)),ee,(N,h)=>{let k=()=>d(h)[0],T=()=>d(h)[1];const j=ce(()=>J().openedStates[k()]||J().configurablesState==re.NORMAL);pe(N,{get isShown(){return d(j)},children:(M,L)=>{var F=ur(),x=E(F);Ft(x,{get name(){return k()},get isOpened(){return J().openedStates[k()]},set isOpened($){J(J().openedStates[k()]=$)},$$legacy:!0});var b=v(x,2);const S=ce(()=>J().openedStates[k()]==!0);pe(b,{get isShown(){return d(S)},children:($,i)=>{var w=we(),O=E(w);Y(O,1,T,ee,(C,y)=>{Te(C,{get item(){return d(y)}})}),g($,w)},$$slots:{default:!0}}),g(M,F)}})});var I=v(V,2);{var P=N=>{var h=dr();g(N,h)};te(I,N=>{J().jvmFields.length==0&&N(P)})}p(_),g(c,o)},$$slots:{default:!0}}),X()}ie(["input","click"]);var fr=A('<section class="svelte-ejym8e"><div><!> <!> <!></div> <div><!> <!></div> <div><!></div> <div><!></div></section>');function Nr(s,t){H(t,!1),Se();var e=fr(),a=f(e),n=f(a);ht(n,{});var l=v(n,2);it(l,{});var c=v(l,2);{var u=h=>{ze(h,{get gamepad(){return Oe.gamepads[0]}})};te(c,h=>{Oe.current!=null&&h(u)})}p(a);var o=v(a,2),m=f(o);Je(m,{});var _=v(m,2);bt(_,{}),p(o);var V=v(o,2),I=f(V);pr(I,{}),p(V);var P=v(V,2),N=f(P);at(N,{}),p(P),p(e),g(s,e),X()}export{Nr as component};
