import{t as c,c as D,a as l}from"../chunks/DXj9G8W9.js";import"../chunks/BVDy9QrB.js";import{o as k,t as f,u as B,y as n,x as p,v as $,z as s,w as q,ay as F,a2 as M,a3 as j}from"../chunks/7Wps0LQi.js";import{s as w,e as z}from"../chunks/DMoWgvXE.js";import{e as P,i as S}from"../chunks/UqaZmmWB.js";import{i as E}from"../chunks/DyvOR3zr.js";import{o as H}from"../chunks/DLDpgE2N.js";import{i as J}from"../chunks/QANNnp84.js";import{a as I}from"../chunks/C-ml4vTV.js";import{s as K,S as N}from"../chunks/DdbbHSKW.js";import{g as L}from"../chunks/BCFa5w4G.js";import{G as O}from"../chunks/C8eZxjgp.js";var Q=c('<div class="trigger svelte-fy4rvm"><p> </p> <progress max="1" class="svelte-fy4rvm"></progress></div>'),R=c("<button> </button>"),T=c('<div class="axis svelte-fy4rvm"><label> </label> <progress max="2" class="svelte-fy4rvm"></progress></div>'),U=c('<h4>Buttons</h4> <div class="buttons svelte-fy4rvm"></div> <h4>Axes</h4> <div class="axes svelte-fy4rvm"></div>',1);function V(A,u){k(u,!0);var _=U(),x=f(B(_),2);P(x,21,()=>u.gamepad.buttons,S,(d,r,o)=>{var m=D(),a=B(m);{var i=v=>{var e=Q(),t=p(e),h=p(t);n(t);var g=f(t,2);n(e),$((y,C)=>{w(h,`${y??""} (${C??""}%)`),I(g,s(r).value)},[()=>L.getPS4ButtonLabel(o),()=>(s(r).value*100).toFixed(0)]),l(v,e)},b=v=>{var e=R();let t;var h=p(e,!0);n(e),$((g,y)=>{t=K(e,1,"svelte-fy4rvm",null,t,g),w(h,y)},[()=>({pressed:s(r).pressed}),()=>L.getPS4ButtonLabel(o)]),l(v,e)};J(a,v=>{o===6||o===7?v(i):v(b,!1)})}l(d,m)}),n(x);var G=f(x,4);P(G,21,()=>u.gamepad.axes,S,(d,r,o)=>{var m=T(),a=p(m),i=p(a);n(a);var b=f(a,2);n(m),$(v=>{w(i,`Axis ${o??""} (${v??""})`),I(b,s(r)+1)},[()=>s(r).toFixed(2)]),l(d,m)}),n(G),l(A,_),q()}var W=c('<div class="gamepad svelte-1bzmxyh"><p> </p> <!> <!></div>'),X=c("<h2>Connected Gamepads</h2> <!>",1);function da(A,u){k(u,!1);let _=M([]);function x(a){console.log("Gamepad connected:",a.gamepad),d()}function G(a){console.log("Gamepad disconnected:",a.gamepad),d()}function d(){j(_,navigator.getGamepads?Array.from(navigator.getGamepads()).filter(a=>a):[])}function r(){d(),requestAnimationFrame(r)}H(()=>{r()}),E();var o=X();z("gamepadconnected",F,x),z("gamepaddisconnected",F,G);var m=f(B(o),2);P(m,1,()=>s(_),S,(a,i)=>{N(a,{get title(){return s(i).id},children:(b,v)=>{var e=W(),t=p(e),h=p(t);n(t);var g=f(t,2);O(g,{get gamepad(){return s(i)}});var y=f(g,2);V(y,{get gamepad(){return s(i)}}),n(e),$(()=>w(h,`Index: ${s(i).index??""}`)),l(b,e)},$$slots:{default:!0}})}),l(A,o),q()}export{da as component};
