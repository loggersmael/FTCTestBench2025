import{t as c,c as D,a as l}from"../chunks/DZO9jai5.js";import"../chunks/B2eBMmQY.js";import{p as k,s as f,f as P,r as n,c as p,t as $,g as s,a as z,aq as F,W as M,X as W}from"../chunks/CEIj9qLB.js";import{s as A,e as q}from"../chunks/B8htpYIU.js";import{e as S,i as w}from"../chunks/CD1Ct01l.js";import{i as X}from"../chunks/BfdWj0U3.js";import{o as j}from"../chunks/C1aCGczL.js";import{i as E}from"../chunks/D_2wwoo9.js";import{a as I}from"../chunks/DUvmQg-u.js";import{s as H,S as J}from"../chunks/Bd_LrZD6.js";import{g as L}from"../chunks/CZGRp9Cr.js";import{G as K}from"../chunks/sHC102wY.js";var N=c('<div class="trigger svelte-fy4rvm"><p> </p> <progress max="1" class="svelte-fy4rvm"></progress></div>'),O=c("<button> </button>"),Q=c('<div class="axis svelte-fy4rvm"><label> </label> <progress max="2" class="svelte-fy4rvm"></progress></div>'),R=c('<h4>Buttons</h4> <div class="buttons svelte-fy4rvm"></div> <h4>Axes</h4> <div class="axes svelte-fy4rvm"></div>',1);function T(B,u){k(u,!0);var _=R(),x=f(P(_),2);S(x,21,()=>u.gamepad.buttons,w,(d,r,o)=>{var m=D(),a=P(m);{var i=v=>{var e=N(),t=p(e),h=p(t);n(t);var g=f(t,2);n(e),$((G,C)=>{A(h,`${G??""} (${C??""}%)`),I(g,s(r).value)},[()=>L.getPS4ButtonLabel(o),()=>(s(r).value*100).toFixed(0)]),l(v,e)},b=v=>{var e=O();let t;var h=p(e,!0);n(e),$((g,G)=>{t=H(e,1,"svelte-fy4rvm",null,t,g),A(h,G)},[()=>({pressed:s(r).pressed}),()=>L.getPS4ButtonLabel(o)]),l(v,e)};E(a,v=>{o===6||o===7?v(i):v(b,!1)})}l(d,m)}),n(x);var y=f(x,4);S(y,21,()=>u.gamepad.axes,w,(d,r,o)=>{var m=Q(),a=p(m),i=p(a);n(a);var b=f(a,2);n(m),$(v=>{A(i,`Axis ${o??""} (${v??""})`),I(b,s(r)+1)},[()=>s(r).toFixed(2)]),l(d,m)}),n(y),l(B,_),z()}var U=c('<div class="gamepad svelte-1bzmxyh"><p> </p> <!> <!></div>'),V=c("<h2>Connected Gamepads</h2> <!>",1);function da(B,u){k(u,!1);let _=M([]);function x(a){console.log("Gamepad connected:",a.gamepad),d()}function y(a){console.log("Gamepad disconnected:",a.gamepad),d()}function d(){W(_,navigator.getGamepads?Array.from(navigator.getGamepads()).filter(a=>a):[])}function r(){d(),requestAnimationFrame(r)}j(()=>{r()}),X();var o=V();q("gamepadconnected",F,x),q("gamepaddisconnected",F,y);var m=f(P(o),2);S(m,1,()=>s(_),w,(a,i)=>{J(a,{get title(){return s(i).id},children:(b,v)=>{var e=U(),t=p(e),h=p(t);n(t);var g=f(t,2);K(g,{get gamepad(){return s(i)}});var G=f(g,2);T(G,{get gamepad(){return s(i)}}),n(e),$(()=>A(h,`Index: ${s(i).index??""}`)),l(b,e)},$$slots:{default:!0}})}),l(B,o),z()}export{da as component};
