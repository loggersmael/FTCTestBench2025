import{n as K,b as o,t as j,c as O0,e as s0}from"../chunks/AckLZTS8.js";import"../chunks/CH324CeG.js";import{h as C0,F as Le,aG as Ee,B as Te,aI as ze,ac as W0,V as L0,Y as G0,X as H0,O as P0,q as De,J as Ze,ar as Y0,aq as q0,aJ as J0,j as Ie,M as E0,P as T0,aD as Be,p as H,f as U,d as g,s as h,i as f,o as s,t as T,c as Y,l as I0,aE as d0,a8 as t0,aH as a0,w as B,z as $0}from"../chunks/DLBbvs7e.js";import{i as B0}from"../chunks/x8r9xFyx.js";import{A as Z0,S as Ue,b as Xe,r as We,R as Ge,c as He,W as o0,s as Ye}from"../chunks/cZ3L5CK7.js";import{d as v0,s as X,e as ee}from"../chunks/CkUz7bwT.js";import{a as k0,i as I,p as n0}from"../chunks/Bs98DhGR.js";import{C as u0,e as q,i as J}from"../chunks/C9p2TTH-.js";import{S as i0,i as r,a as r0,s as te,H as se,c as ae,b as b0,T as Q,f as A0,C as l0,d as F0,n as N0,g as qe}from"../chunks/C6cb6eoe.js";import{s as y0,G as Je}from"../chunks/CEqa2XW6.js";import{b as re,S as U0,B as c0,h as V0}from"../chunks/ByHq7xfg.js";import{G as Ke}from"../chunks/DgeaeM1g.js";import{r as le,s as G}from"../chunks/3olC7IiD.js";import{a as Qe}from"../chunks/DWm_zo-X.js";const z0=0,j0=1,D0=2;function ne(a,t,e,v,i){C0&&Le();var l=a,c=Ee(),p=Ie,d=W0,m,$,u,n=(c?G0:H0)(void 0),_=(c?G0:H0)(void 0),b=!1;function k(x,S){b=!0,S&&(Y0(P),q0(P),J0(p));try{x===z0&&e&&(m?E0(m):m=P0(()=>e(l))),x===j0&&v&&($?E0($):$=P0(()=>v(l,n))),x===D0&&i&&(u?E0(u):u=P0(()=>i(l,_))),x!==z0&&m&&T0(m,()=>m=null),x!==j0&&$&&T0($,()=>$=null),x!==D0&&u&&T0(u,()=>u=null)}finally{S&&(J0(null),q0(null),Y0(null),Be())}}var P=Te(()=>{if(d!==(d=t())){if(ze(d)){var x=d;b=!1,x.then(S=>{x===d&&(L0(n,S),k(j0,!0))},S=>{if(x===d&&(L0(_,S),k(D0,!0),!i))throw _.v}),C0?e&&(m=P0(()=>e(l))):De(()=>{b||k(z0,!0)})}else L0(n,d),k(j0,!1);return()=>d=W0}});C0&&(l=Ze)}var et=K('<svg width="100%" height="100%" viewBox="0 0 18 7" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" class="svelte-8ek7md"><g><path d="M0.968,4.032c-0.207,-0.128 -0.333,-0.354 -0.333,-0.597c-0,-0.243 0.126,-0.469 0.333,-0.597c0.987,-0.608 2.514,-1.549 3.535,-2.179c0.217,-0.133 0.488,-0.139 0.71,-0.015c0.222,0.123 0.359,0.358 0.359,0.612c0,1.238 0,3.12 0,4.358c0,0.254 -0.137,0.489 -0.359,0.612c-0.222,0.124 -0.493,0.118 -0.71,-0.015c-1.021,-0.63 -2.548,-1.571 -3.535,-2.179Z" class="svelte-8ek7md"></path><path d="M16.674,2.838c0.207,0.128 0.333,0.354 0.333,0.597c-0,0.243 -0.126,0.469 -0.333,0.597c-0.987,0.608 -2.514,1.549 -3.536,2.179c-0.216,0.133 -0.488,0.139 -0.709,0.015c-0.222,-0.123 -0.36,-0.358 -0.36,-0.612c0,-1.238 0,-3.12 0,-4.358c0,-0.254 0.138,-0.489 0.36,-0.612c0.221,-0.124 0.493,-0.118 0.709,0.015c1.022,0.63 2.549,1.571 3.536,2.179Z" class="svelte-8ek7md"></path><path d="M3.71,2.97c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.807,0 2.749,0 3.556,0c0.096,0 0.188,0.038 0.256,0.106c0.068,0.068 0.106,0.16 0.106,0.256c-0,0.276 -0,0.654 -0,0.93c-0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.807,-0 -2.749,-0 -3.556,-0c-0.096,-0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.276 0,-0.654 0,-0.93Z" class="svelte-8ek7md"></path><path d="M13.931,3.9c0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.068 -0.159,0.106 -0.255,0.106c-0.808,-0 -2.75,-0 -3.557,-0c-0.096,-0 -0.188,-0.038 -0.255,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c-0,-0.276 -0,-0.654 -0,-0.93c-0,-0.096 0.038,-0.188 0.106,-0.256c0.067,-0.068 0.159,-0.106 0.255,-0.106c0.807,0 2.749,0 3.557,0c0.096,0 0.187,0.038 0.255,0.106c0.068,0.068 0.106,0.16 0.106,0.256c0,0.276 0,0.654 0,0.93Z" class="svelte-8ek7md"></path></g></svg>');function tt(a){var t=et();o(a,t)}var st=K('<svg width="100%" height="100%" viewBox="0 0 16 7" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" class="svelte-8ek7md"><g><path d="M7.022,2.838c0.207,0.128 0.333,0.354 0.333,0.597c0,0.243 -0.126,0.469 -0.333,0.597c-0.987,0.608 -2.514,1.549 -3.536,2.179c-0.216,0.133 -0.487,0.139 -0.709,0.015c-0.222,-0.123 -0.359,-0.358 -0.359,-0.612c-0,-1.238 -0,-3.12 -0,-4.358c-0,-0.254 0.137,-0.489 0.359,-0.612c0.222,-0.124 0.493,-0.118 0.709,0.015c1.022,0.63 2.549,1.571 3.536,2.179Z" class="svelte-8ek7md"></path><path d="M8.863,4.032c-0.207,-0.128 -0.333,-0.354 -0.333,-0.597c-0,-0.243 0.126,-0.469 0.333,-0.597c0.986,-0.608 2.513,-1.549 3.535,-2.179c0.216,-0.133 0.488,-0.139 0.71,-0.015c0.221,0.123 0.359,0.358 0.359,0.612c-0,1.238 -0,3.12 -0,4.358c-0,0.254 -0.138,0.489 -0.359,0.612c-0.222,0.124 -0.494,0.118 -0.71,-0.015c-1.022,-0.63 -2.549,-1.571 -3.535,-2.179Z" class="svelte-8ek7md"></path><path d="M4.28,3.9c-0,0.096 -0.039,0.188 -0.106,0.256c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.807,-0 -2.749,-0 -3.556,-0c-0.096,-0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c-0,-0.276 -0,-0.654 -0,-0.93c-0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.807,0 2.749,0 3.556,0c0.096,0 0.188,0.038 0.256,0.106c0.067,0.068 0.106,0.16 0.106,0.256c-0,0.276 -0,0.654 -0,0.93Z" class="svelte-8ek7md"></path><path d="M11.605,2.97c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.807,0 2.749,0 3.556,0c0.096,0 0.188,0.038 0.256,0.106c0.067,0.068 0.106,0.16 0.106,0.256c-0,0.276 -0,0.654 -0,0.93c-0,0.096 -0.039,0.188 -0.106,0.256c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.807,-0 -2.749,-0 -3.556,-0c-0.096,-0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.276 0,-0.654 0,-0.93Z" class="svelte-8ek7md"></path></g></svg>');function at(a){var t=st();o(a,t)}var rt=K('<svg width="100%" height="100%" viewBox="0 0 18 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" class="svelte-7dk81x"><g><g><path d="M8.224,0.968c0.128,-0.207 0.354,-0.333 0.597,-0.333c0.243,-0 0.469,0.126 0.596,0.333c0.609,0.987 1.55,2.514 2.18,3.535c0.133,0.217 0.139,0.488 0.015,0.71c-0.124,0.222 -0.358,0.359 -0.612,0.359c-1.238,0 -3.12,0 -4.359,0c-0.254,0 -0.488,-0.137 -0.612,-0.359c-0.124,-0.222 -0.118,-0.493 0.016,-0.71c0.63,-1.021 1.571,-2.548 2.179,-3.535Z" style="fill:#fff;" class="svelte-7dk81x"></path><path d="M9.417,16.674c-0.127,0.207 -0.353,0.333 -0.596,0.333c-0.243,-0 -0.469,-0.126 -0.597,-0.333c-0.608,-0.987 -1.549,-2.514 -2.179,-3.536c-0.134,-0.216 -0.14,-0.488 -0.016,-0.709c0.124,-0.222 0.358,-0.36 0.612,-0.36c1.239,0 3.121,0 4.359,0c0.254,0 0.488,0.138 0.612,0.36c0.124,0.221 0.118,0.493 -0.015,0.709c-0.63,1.022 -1.571,2.549 -2.18,3.536Z" style="fill:#fff;" class="svelte-7dk81x"></path><path d="M9.286,3.71c0.096,0 0.188,0.038 0.256,0.106c0.067,0.068 0.105,0.16 0.105,0.256c0,0.807 0,2.749 0,3.556c0,0.096 -0.038,0.188 -0.105,0.256c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.276,-0 -0.654,-0 -0.93,-0c-0.096,-0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.807 0,-2.749 0,-3.556c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.276,0 0.654,0 0.93,0Z" style="fill:#fff;" class="svelte-7dk81x"></path><path d="M8.356,13.931c-0.096,0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.159 -0.106,-0.255c0,-0.808 0,-2.75 0,-3.557c0,-0.096 0.038,-0.188 0.106,-0.255c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.276,-0 0.654,-0 0.93,-0c0.096,-0 0.188,0.038 0.256,0.106c0.067,0.067 0.105,0.159 0.105,0.255c0,0.807 0,2.749 0,3.557c0,0.096 -0.038,0.187 -0.105,0.255c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.276,0 -0.654,0 -0.93,0Z" style="fill:#fff;" class="svelte-7dk81x"></path></g><g><path d="M0.968,9.417c-0.207,-0.127 -0.333,-0.353 -0.333,-0.596c-0,-0.243 0.126,-0.469 0.333,-0.597c0.987,-0.608 2.514,-1.549 3.535,-2.179c0.217,-0.134 0.488,-0.14 0.71,-0.016c0.222,0.124 0.359,0.358 0.359,0.612c0,1.239 0,3.121 0,4.359c0,0.254 -0.137,0.488 -0.359,0.612c-0.222,0.124 -0.493,0.118 -0.71,-0.015c-1.021,-0.63 -2.548,-1.571 -3.535,-2.18Z" style="fill:#fff;" class="svelte-7dk81x"></path><path d="M16.674,8.224c0.207,0.128 0.333,0.354 0.333,0.597c-0,0.243 -0.126,0.469 -0.333,0.596c-0.987,0.609 -2.514,1.55 -3.536,2.18c-0.216,0.133 -0.488,0.139 -0.709,0.015c-0.222,-0.124 -0.36,-0.358 -0.36,-0.612c0,-1.238 0,-3.12 0,-4.359c0,-0.254 0.138,-0.488 0.36,-0.612c0.221,-0.124 0.493,-0.118 0.709,0.016c1.022,0.63 2.549,1.571 3.536,2.179Z" style="fill:#fff;" class="svelte-7dk81x"></path><path d="M3.71,8.356c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.807,0 2.749,0 3.556,0c0.096,0 0.188,0.038 0.256,0.106c0.068,0.068 0.106,0.16 0.106,0.256c-0,0.276 -0,0.654 -0,0.93c-0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.067 -0.16,0.105 -0.256,0.105c-0.807,0 -2.749,0 -3.556,0c-0.096,0 -0.188,-0.038 -0.256,-0.105c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.276 0,-0.654 0,-0.93Z" style="fill:#fff;" class="svelte-7dk81x"></path><path d="M13.931,9.286c0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.067 -0.159,0.105 -0.255,0.105c-0.808,0 -2.75,0 -3.557,0c-0.096,0 -0.188,-0.038 -0.255,-0.105c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c-0,-0.276 -0,-0.654 -0,-0.93c-0,-0.096 0.038,-0.188 0.106,-0.256c0.067,-0.068 0.159,-0.106 0.255,-0.106c0.807,0 2.749,0 3.557,0c0.096,0 0.187,0.038 0.255,0.106c0.068,0.068 0.106,0.16 0.106,0.256c0,0.276 0,0.654 0,0.93Z" style="fill:#fff;" class="svelte-7dk81x"></path></g></g></svg>');function lt(a){var t=rt();o(a,t)}var nt=K('<svg width="100%" height="100%" viewBox="0 0 7 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" class="svelte-1wm7yl4"><g><path d="M2.838,0.968c0.128,-0.207 0.354,-0.333 0.597,-0.333c0.243,-0 0.469,0.126 0.597,0.333c0.608,0.987 1.549,2.514 2.179,3.535c0.133,0.217 0.139,0.488 0.015,0.71c-0.123,0.222 -0.358,0.359 -0.612,0.359c-1.238,0 -3.12,0 -4.358,0c-0.254,0 -0.489,-0.137 -0.612,-0.359c-0.124,-0.222 -0.118,-0.493 0.015,-0.71c0.63,-1.021 1.571,-2.548 2.179,-3.535Z" class="svelte-1wm7yl4"></path><path d="M4.032,16.674c-0.128,0.207 -0.354,0.333 -0.597,0.333c-0.243,-0 -0.469,-0.126 -0.597,-0.333c-0.608,-0.987 -1.549,-2.514 -2.179,-3.536c-0.133,-0.216 -0.139,-0.488 -0.015,-0.709c0.123,-0.222 0.358,-0.36 0.612,-0.36c1.238,0 3.12,0 4.358,0c0.254,0 0.489,0.138 0.612,0.36c0.124,0.221 0.118,0.493 -0.015,0.709c-0.63,1.022 -1.571,2.549 -2.179,3.536Z" class="svelte-1wm7yl4"></path><path d="M3.9,3.71c0.096,0 0.188,0.038 0.256,0.106c0.068,0.068 0.106,0.16 0.106,0.256c-0,0.807 -0,2.749 -0,3.556c-0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.276,-0 -0.654,-0 -0.93,-0c-0.096,-0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.807 0,-2.749 0,-3.556c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.276,0 0.654,0 0.93,0Z" class="svelte-1wm7yl4"></path><path d="M2.97,13.931c-0.096,0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.159 -0.106,-0.255c0,-0.808 0,-2.75 0,-3.557c0,-0.096 0.038,-0.188 0.106,-0.255c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.276,-0 0.654,-0 0.93,-0c0.096,-0 0.188,0.038 0.256,0.106c0.068,0.067 0.106,0.159 0.106,0.255c-0,0.807 -0,2.749 -0,3.557c-0,0.096 -0.038,0.187 -0.106,0.255c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.276,0 -0.654,0 -0.93,0Z" class="svelte-1wm7yl4"></path></g></svg>');function ot(a){var t=nt();o(a,t)}var it=K('<svg width="100%" height="100%" viewBox="0 0 7 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" class="svelte-1wm7yl4"><g><path d="M2.838,8.863c0.128,-0.207 0.354,-0.333 0.597,-0.333c0.243,-0 0.469,0.126 0.597,0.333c0.608,0.986 1.549,2.513 2.179,3.535c0.133,0.216 0.139,0.488 0.015,0.71c-0.123,0.221 -0.358,0.359 -0.612,0.359c-1.238,-0 -3.12,-0 -4.358,-0c-0.254,-0 -0.489,-0.138 -0.612,-0.359c-0.124,-0.222 -0.118,-0.494 0.015,-0.71c0.63,-1.022 1.571,-2.549 2.179,-3.535Z" class="svelte-1wm7yl4"></path><path d="M4.032,7.022c-0.128,0.207 -0.354,0.333 -0.597,0.333c-0.243,0 -0.469,-0.126 -0.597,-0.333c-0.608,-0.987 -1.549,-2.514 -2.179,-3.536c-0.133,-0.216 -0.139,-0.487 -0.015,-0.709c0.123,-0.222 0.358,-0.359 0.612,-0.359c1.238,-0 3.12,-0 4.358,-0c0.254,-0 0.489,0.137 0.612,0.359c0.124,0.222 0.118,0.493 -0.015,0.709c-0.63,1.022 -1.571,2.549 -2.179,3.536Z" class="svelte-1wm7yl4"></path><path d="M3.9,11.605c0.096,0 0.188,0.038 0.256,0.106c0.068,0.068 0.106,0.16 0.106,0.256c-0,0.807 -0,2.749 -0,3.556c-0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.067 -0.16,0.106 -0.256,0.106c-0.276,-0 -0.654,-0 -0.93,-0c-0.096,-0 -0.188,-0.039 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.807 0,-2.749 0,-3.556c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.276,0 0.654,0 0.93,0Z" class="svelte-1wm7yl4"></path><path d="M2.97,4.28c-0.096,-0 -0.188,-0.039 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.807 0,-2.749 0,-3.556c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.276,-0 0.654,-0 0.93,-0c0.096,-0 0.188,0.038 0.256,0.106c0.068,0.068 0.106,0.16 0.106,0.256c-0,0.807 -0,2.749 -0,3.556c-0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.067 -0.16,0.106 -0.256,0.106c-0.276,-0 -0.654,-0 -0.93,-0Z" class="svelte-1wm7yl4"></path></g></svg>');function ct(a){var t=it();o(a,t)}var vt=(a,t,e)=>t(e()),dt=j('<li class="svelte-1a0a577"><button> </button> </li>'),ut=K('<text y="-2" font-size="2.5" fill="white" stroke="var(--text)" stroke-width="0.1" text-anchor="middle"> </text>'),pt=K('<text x="-2" font-size="2.5" fill="white" stroke="var(--text)" stroke-width="0.1" text-anchor="end"> </text>'),ft=K('<line x1="0" x2="100" stroke="var(--text)" stroke-width="0.2"></line><line y1="0" y2="100" stroke="var(--text)" stroke-width="0.2"></line>',1),ht=K('<polyline fill="none" stroke-width="0.6"></polyline>'),mt=j('<div class="flex svelte-1a0a577"><input type="range" min="1" max="60" aria-label="Time window"> <p> </p></div> <ul class="svelte-1a0a577"></ul> <div class="graph svelte-1a0a577"><svg viewBox="-10 -10 120 120" preserveAspectRatio="none"><rect x="0" y="0" width="100" height="100" fill="var(--card)"></rect><!><!><!><!></svg></div>',1);function gt(a,t){H(t,!0);const e=k0({});function v(p){e[p]=!e[p]}function i(p,d,m,$=[0,1]){return m===d?p.map(()=>.5):p.map(u=>(u-d)/(m-d)*($[1]-$[0])+$[0])}function l(p){const d=Object.values(p).flat().map(k=>k.data),m=Object.values(p).flat().map(k=>k.timestamp),$=Math.min(...d),u=Math.max(...d),n=Math.min(...m),_=n+r.timeWindow*1e3,b={};return Object.entries(p).forEach(([k,P])=>{const x=P.map(C=>C.timestamp),S=P.map(C=>C.data),A=i(x,n,_,[0,100]),R=i(S,$,u,[0,100]);b[k]=P.map((C,F)=>({x:Math.min(100,Math.max(0,A[F])),y:100-R[F]}))}),b}const c=["red","lime","cyan","yellow","magenta","orange"];i0(a,{title:"Graph View",children:(p,d)=>{u0(p,{children:(m,$)=>{var u=mt(),n=U(u),_=g(n);le(_);var b=h(_,2),k=g(b);f(b),f(n);var P=h(n,2);q(P,21,()=>Object.entries(r.graphs),J,(M,O)=>{let y=()=>s(O)[0],L=()=>s(O)[1];var w=dt(),Z=g(w);Z.__click=[vt,v,y];let N;var z=g(Z,!0);f(Z);var V=h(Z);f(w),T((W,D)=>{G(Z,"aria-pressed",e[y()]),N=r0(Z,1,"svelte-1a0a577",null,N,W),X(z,y()),X(V,` – ${L().length??""} entries / ${D??""}`)},[()=>({selected:e[y()]}),()=>parseFloat(L()[L().length-1].data.toString()).toFixed(3)]),o(M,w)}),f(P);var x=h(P,2),S=g(x),A=h(g(S));q(A,16,()=>[0,25,50,75,100],J,(M,O)=>{var y=ut(),L=g(y);f(y),T(w=>{G(y,"x",O),X(L,`${w??""}s`)},[()=>Math.round(O/100*r.timeWindow)]),o(M,y)});var R=h(A);q(R,16,()=>[0,25,50,75,100],J,(M,O)=>{var y=pt(),L=g(y,!0);f(y),T(w=>{G(y,"y",100-O),X(L,w)},[()=>(O/100*(Object.values(Object.values(r.graphs).flat().map(w=>w.data)).reduce((w,Z)=>Math.max(w,Z),-1/0)-Object.values(Object.values(r.graphs).flat().map(w=>w.data)).reduce((w,Z)=>Math.min(w,Z),1/0))+Object.values(Object.values(r.graphs).flat().map(w=>w.data)).reduce((w,Z)=>Math.min(w,Z),1/0)).toFixed(2)]),o(M,y)});var C=h(R);q(C,16,()=>[25,50,75],J,(M,O)=>{var y=ft(),L=U(y),w=h(L);T(()=>{G(L,"y1",O),G(L,"y2",O),G(w,"x1",O),G(w,"x2",O)}),o(M,y)});var F=h(C);{var E=M=>{var O=O0(),y=U(O);q(y,17,()=>Object.entries(l(Object.fromEntries(Object.entries(r.graphs).filter(([L])=>e[L])))),J,(L,w,Z)=>{let N=()=>s(w)[1];var z=ht();T(V=>{G(z,"stroke",c[Z%c.length]),G(z,"points",V)},[()=>N().map(V=>`${V.x},${V.y}`).join(" ")]),o(L,z)}),o(M,O)};I(F,M=>{Object.keys(e).some(O=>e[O])&&M(E)})}f(S),f(x),T(()=>X(k,`(last ${r.timeWindow??""}s)`)),re(_,()=>r.timeWindow,M=>r.timeWindow=M),o(m,u)}})},$$slots:{default:!0}}),Y()}v0(["click"]);var _t=j('<p> </p> <p> </p> <input type="range"> <div class="flex-item svelte-1o86sht"><p>Animation speed</p> <!></div> <div><div class="flex svelte-1o86sht"><!> <!> <!></div> <div class="flex svelte-1o86sht"><!> <!></div></div>',1);function wt(a,t){H(t,!0);let e=d0("1x");I0(()=>{s(e)!=null&&r.isForwarding&&(l=r.timestamp,i=performance.now())});let v=null,i=null,l=0;function c(d){if(!r.isForwarding||i===null)return;const m=d-i,$=parseFloat(s(e).replace("x",""));r.timestamp=Math.min(l+m*$,r.duration),r.timestamp<r.duration?v=requestAnimationFrame(c):(r.timestamp=r.duration,r.isForwarding=!1,v=null,i=null)}function p(){r.isForwarding=!r.isForwarding,r.isForwarding?(l=r.timestamp,i=performance.now(),v=requestAnimationFrame(c)):(i=null,v!==null&&(cancelAnimationFrame(v),v=null))}Qe(()=>{v!==null&&cancelAnimationFrame(v)}),i0(a,{title:"Capture",children:(d,m)=>{u0(d,{children:($,u)=>{var n=_t(),_=U(n),b=g(_);f(_);var k=h(_,2),P=g(k);f(k);var x=h(k,2);le(x),G(x,"min",0);var S=h(x,2),A=h(g(S),2);U0(A,{startValue:"1x",value:"1x",possibleValues:["0.1x","0.25x","0.5x","1x","2x","3x","4x"],get isValid(){return r.hasRecording},alwaysValid:!0,get currentValue(){return s(e)},set currentValue(V){t0(e,k0(V))}}),f(S);var R=h(S,2),C=g(R),F=g(C);c0(F,{onclick:()=>{r.isRecording=!0},get disabled(){return r.isRecording},children:(V,W)=>{a0();var D=s0("Start");o(V,D)},$$slots:{default:!0}});var E=h(F,2);const M=B(()=>!r.isRecording);c0(E,{onclick:()=>{r.isRecording=!1},get disabled(){return s(M)},children:(V,W)=>{a0();var D=s0("Stop");o(V,D)},$$slots:{default:!0}});var O=h(E,2);const y=B(()=>!r.hasRecording);c0(O,{onclick:()=>{r.isRecording=!1,r.history=[],r.timestamp=0,r.isPlaying=!1},get disabled(){return s(y)},children:(V,W)=>{a0();var D=s0("Reset");o(V,D)},$$slots:{default:!0}}),f(C);var L=h(C,2),w=g(L);const Z=B(()=>!r.hasRecording);c0(w,{onclick:()=>{r.isPlaying=!r.isPlaying},get disabled(){return s(Z)},children:(V,W)=>{a0();var D=s0();T(()=>X(D,`${(r.isPlaying?"Disable":"Enable")??""} Visual Sync`)),o(V,D)},$$slots:{default:!0}});var N=h(w,2);const z=B(()=>!r.hasRecording);c0(N,{onclick:p,get disabled(){return s(z)},children:(V,W)=>{a0();var D=s0();T(()=>X(D,`${(r.isForwarding?"Stop":"Start")??""} Playing`)),o(V,D)},$$slots:{default:!0}}),f(L),f(R),T((V,W)=>{X(b,`Got ${r.history.length??""} entries`),X(P,`Timestamp: ${V??""}s / ${W??""}s`),x.disabled=!r.hasRecording,G(x,"max",r.duration)},[()=>(r.timestamp/1e3).toFixed(2),()=>(r.duration/1e3).toFixed(2)]),re(x,()=>r.timestamp,V=>r.timestamp=V),o($,n)}})},$$slots:{default:!0}}),Y()}var xt=(a,t,e)=>t.onselect(s(e)),kt=j('<button class="svelte-6klxoa"> </button>'),$t=j('<p class="svelte-6klxoa">No opModes here.</p>'),yt=j("<!> <!>",1);function K0(a,t){H(t,!0);var e=yt(),v=U(e);q(v,17,()=>r.opModes.filter(c=>c.flavour==t.flavour),J,(c,p)=>{var d=kt();d.__click=[xt,t,p];var m=g(d);f(d),T(()=>X(m,`${s(p).name??""} / ${s(p).group??""}`)),o(c,d)});var i=h(v,2);{var l=c=>{var p=$t();o(c,p)};I(i,c=>{r.opModes.filter(p=>p.flavour==t.flavour).length==0&&c(l)})}o(a,e),Y()}v0(["click"]);var bt=j('<div><div class="inner svelte-sf14j4"><!></div></div>');function M0(a,t){var e=bt();let v;var i=g(e),l=g(i);te(l,()=>t.children),f(i),f(e),T(c=>v=r0(e,1,"hiddable svelte-sf14j4",null,v,c),[()=>({shown:t.isShown})]),o(a,e)}var St=(a,t)=>t("autos"),Mt=(a,t)=>t("teleops"),Ot=j('<button class="svelte-wf5nbz"><span class="svelte-wf5nbz">Autos<!></span></button> <!> <button class="svelte-wf5nbz"><span class="svelte-wf5nbz">TeleOps<!></span></button>',1),Pt=j('<p class="title svelte-wf5nbz">Nothing selected</p>'),Vt=j('<p class="title svelte-wf5nbz"><span class="title_small svelte-wf5nbz"> </span> </p>'),jt=j('<div class="modal autos svelte-wf5nbz"><!></div> <div class="modal teleops svelte-wf5nbz"><!></div> <!> <div class="flex svelte-wf5nbz"><!> <!> <!></div>',1),At=j("<!> <!>",1);function Ft(a,t){H(t,!0);let e=d0("");function v(c){s(e)!=c?t0(e,k0(c)):t0(e,"")}function i(c){t0(l,k0(c)),t0(e,"")}I0(()=>{if(console.log(r.activeOpMode),r.activeOpMode==" ")return;console.log("Length: ",r.opModes.length);let c=null;for(const p of r.opModes)p.name==r.activeOpMode&&(c=p);c!=null&&t0(l,k0(c))});let l=d0(k0({name:"",group:"",flavour:"AUTONOMOUS"}));i0(a,{children:(c,p)=>{var d=At(),m=U(d);se(m,{children:(u,n)=>{var _=Ot(),b=U(_);b.__click=[St,v];var k=g(b),P=h(g(k));const x=B(()=>s(e)=="autos");Z0(P,{get isOpened(){return s(x)}}),f(k),f(b);var S=h(b,2);ae(S,{children:(E,M)=>{a0();var O=s0("OpMode Control");o(E,O)}});var A=h(S,2);A.__click=[Mt,v];var R=g(A),C=h(g(R));const F=B(()=>s(e)=="teleops");Z0(C,{get isOpened(){return s(F)}}),f(R),f(A),o(u,_)}});var $=h(m,2);u0($,{children:(u,n)=>{var _=jt(),b=U(_),k=g(b);const P=B(()=>s(e)=="autos");M0(k,{get isShown(){return s(P)},children:(N,z)=>{K0(N,{flavour:"AUTONOMOUS",onselect:i})}}),f(b);var x=h(b,2),S=g(x);const A=B(()=>s(e)=="teleops");M0(S,{get isShown(){return s(A)},children:(N,z)=>{K0(N,{flavour:"TELEOP",onselect:i})}}),f(x);var R=h(x,2);{var C=N=>{var z=Pt();o(N,z)},F=N=>{var z=Vt(),V=g(z),W=g(V,!0);f(V);var D=h(V);f(z),T(()=>{X(W,s(l).flavour),X(D,` ${s(l).name??""}`)}),o(N,z)};I(R,N=>{s(l).name==""?N(C):N(F,!1)})}var E=h(R,2),M=g(E);const O=B(()=>s(l).name==""||r.activeOpModeStatus=="running"&&r.activeOpMode!="$Stop$Robot$"||r.activeOpModeStatus=="stopped"&&r.activeOpMode!="$Stop$Robot$"||s(l).name!=""&&r.activeOpModeStatus=="init");c0(M,{get disabled(){return s(O)},onclick:()=>{b0.sendMessage({kind:"initOpMode",opModeName:s(l).name})},children:(N,z)=>{a0();var V=s0("Initialize");o(N,V)},$$slots:{default:!0}});var y=h(M,2);const L=B(()=>r.activeOpMode=="$Stop$Robot$"||s(l).name==""||r.activeOpModeStatus!="init");c0(y,{get disabled(){return s(L)},onclick:()=>{b0.sendMessage({kind:"startActiveOpMode"})},children:(N,z)=>{a0();var V=s0("Start");o(N,V)},$$slots:{default:!0}});var w=h(y,2);const Z=B(()=>r.activeOpMode=="$Stop$Robot$"||s(l).name==""||r.activeOpModeStatus=="stopped");c0(w,{get disabled(){return s(Z)},onclick:()=>{b0.sendMessage({kind:"stopActiveOpMode"})},children:(N,z)=>{a0();var V=s0("Stop");o(N,V)},$$slots:{default:!0}}),f(E),o(u,_)}}),o(c,d)},$$slots:{default:!0}}),Y()}v0(["click"]);var Nt=j("<p> </p>"),Rt=j("<p>No telemetry found.</p>"),Ct=j("<!> <!>",1);function Lt(a,t){H(t,!1),B0(),i0(a,{title:"Telemetry",children:(e,v)=>{u0(e,{children:(i,l)=>{var c=Ct(),p=U(c);q(p,1,()=>r.telemetry,J,($,u)=>{var n=Nt(),_=g(n,!0);f(n),T(()=>X(_,s(u))),o($,n)});var d=h(p,2);{var m=$=>{var u=Rt();o($,u)};I(d,$=>{r.telemetry.length==0&&$(m)})}o(i,c)}})},$$slots:{default:!0}}),Y()}var Et=K('<svg width="100%" height="100%" viewBox="0 0 13 14" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><path d="M0.478,8.19c-0.432,-1.595 -0.19,-3.216 0.551,-4.558c0.11,-0.194 0.067,-0.439 -0.103,-0.583c-0.192,-0.167 -0.455,-0.39 -0.711,-0.608c-0.173,-0.146 -0.25,-0.376 -0.2,-0.597c0.049,-0.22 0.216,-0.395 0.435,-0.454l5.055,-1.369c0.218,-0.059 0.451,0.008 0.605,0.174c0.075,0.08 0.125,0.177 0.148,0.28c0.025,0.11 0.019,0.226 -0.02,0.336l-1.533,4.358c-0.066,0.189 -0.221,0.334 -0.415,0.386c-0.193,0.052 -0.4,0.006 -0.553,-0.123l-0.75,-0.638c-0.114,-0.096 -0.266,-0.132 -0.411,-0.098c-0.11,0.026 -0.206,0.092 -0.27,0.182c-0.371,0.878 -0.463,1.881 -0.197,2.871l0.002,0.008c0.366,1.353 1.319,2.396 2.515,2.908c0.109,0.047 0.171,0.163 0.148,0.279c-0.06,0.297 -0.172,0.852 -0.24,1.189c-0.014,0.072 -0.059,0.134 -0.123,0.169c-0.045,0.026 -0.096,0.036 -0.147,0.031c-0.021,-0.002 -0.041,-0.007 -0.061,-0.014c-1.763,-0.679 -3.192,-2.159 -3.722,-4.12l-0.003,-0.009Zm6.045,4.524c-0.025,-0.11 -0.019,-0.226 0.02,-0.336l1.533,-4.359c0.066,-0.189 0.221,-0.333 0.415,-0.385c0.193,-0.053 0.4,-0.006 0.553,0.123l0.75,0.637c0.114,0.097 0.266,0.133 0.411,0.099c0.11,-0.027 0.206,-0.092 0.27,-0.182c0.371,-0.878 0.463,-1.881 0.197,-2.871l-0.002,-0.008c-0.367,-1.353 -1.322,-2.39 -2.515,-2.909c-0.109,-0.046 -0.171,-0.162 -0.148,-0.278c0.06,-0.297 0.172,-0.852 0.24,-1.189c0.014,-0.072 0.059,-0.134 0.123,-0.17c0.045,-0.025 0.096,-0.035 0.147,-0.03c0.021,0.002 0.041,0.007 0.061,0.014c1.763,0.679 3.191,2.159 3.722,4.12l0.003,0.009c0.432,1.595 0.19,3.216 -0.551,4.558c-0.11,0.194 -0.067,0.439 0.103,0.583c0.192,0.166 0.455,0.39 0.711,0.607c0.173,0.147 0.25,0.377 0.2,0.597c-0.049,0.221 -0.216,0.396 -0.435,0.455l-5.055,1.369c-0.218,0.059 -0.451,-0.008 -0.605,-0.174c-0.075,-0.08 -0.125,-0.177 -0.148,-0.28Z" class="svelte-wof6i3"></path></svg>');function Tt(a,t){let e=n0(t,"isActive",3,!0),v=n0(t,"isSelected",3,!1);var i=Et();let l;T(c=>l=r0(i,0,"svelte-wof6i3",null,l,c),[()=>({disabled:!e(),spin:v()})]),o(a,i)}function zt(a,t,e){t()&&(t0(e,!0),setTimeout(()=>{t0(e,!1)},300))}var Dt=K(`<svg width="100%" height="100%" viewBox="0 0 14 13" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g><path d="M3.654,5.076c-0.113,-0.097 -0.265,-0.133 -0.41,-0.099c-0.145,0.035 -0.264,0.136 -0.322,0.274c-0.329,0.858 -0.404,1.825 -0.145,2.779c0.639,2.363 3.076,3.761 5.438,3.122c2.363,-0.64 3.762,-3.077 3.122,-5.439c-0.366,-1.353 -1.321,-2.389 -2.515,-2.908c-0.109,-0.046 -0.17,-0.163 -0.147,-0.279c0.059,-0.297 0.171,-0.852 0.239,-1.189c0.015,-0.072 0.06,-0.134 0.123,-0.169c0.064,-0.036 0.141,-0.042 0.209,-0.017c1.763,0.679 3.191,2.159 3.722,4.121c0.883,3.262 -1.049,6.628 -4.311,7.511c-3.263,0.883 -6.628,-1.049 -7.511,-4.311c-0.432,-1.596 -0.191,-3.216 0.55,-4.559c0.111,-0.194 0.068,-0.439 -0.102,-0.583c-0.192,-0.166 -0.455,-0.389 -0.711,-0.607c-0.173,-0.147 -0.25,-0.377 -0.201,-0.597c0.05,-0.221 0.217,-0.396 0.436,-0.455c1.371,-0.371 3.683,-0.997 5.055,-1.369c0.218,-0.059 0.451,0.008 0.605,0.174c0.154,0.166 0.203,0.403 0.128,0.616c-0.436,1.24 -1.138,3.237 -1.533,4.359c-0.066,0.189 -0.222,0.333 -0.415,0.385c-0.194,0.053 -0.401,0.007 -0.553,-0.123c-0.249,-0.212 -0.525,-0.446 -0.751,-0.637Z" class="svelte-jhhttk"></path><g transform="matrix(4.00107,0,0,4.00107,10.405,8.71918)"></g><text x="4.247px" y="8.719px" style="font-family:'Varta-Bold', 'Varta';font-weight:700;font-size:4.001px;" class="svelte-jhhttk">ALL</text></g></svg>`);function Zt(a,t){let e=n0(t,"isActive",3,!0),v=d0(!1);var i=Dt();i.__click=[zt,e,v];let l;T(c=>l=r0(i,0,"svelte-jhhttk",null,l,c),[()=>({disabled:!e(),spin:s(v)})]),o(a,i)}v0(["click"]);var It=(a,t)=>{t()==!0?t(!1):(t()==!1,t(!0))},Bt=j('<button class="svelte-whxx7j"><!> <!></button>');function oe(a,t){H(t,!0);let e=n0(t,"isOpened",15);var v=Bt();v.__click=[It,e];var i=g(v);Z0(i,{get isOpened(){return e()},isVertical:!1});var l=h(i,2);te(l,()=>t.children),f(v),o(a,v),Y()}v0(["click"]);var Ut=j('<h3 class="svelte-utaoqk"> </h3>');function Xt(a,t){H(t,!0);let e=n0(t,"isOpened",15);function v(l){return l.split(".").at(-1)||""}function i(l){return l.split("."+v(l))[0]}oe(a,{get isOpened(){return e()},set isOpened(l){e(l)},children:(l,c)=>{var p=Ut(),d=g(p,!0);f(p),T((m,$)=>{G(p,"data-class",m),X(d,$)},[()=>i(t.name),()=>v(t.name)]),o(l,p)},$$slots:{default:!0}}),Y()}var Wt=K('<svg width="100%" height="100%" viewBox="0 0 14 13" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g><path d="M3.654,5.076c-0.113,-0.097 -0.265,-0.133 -0.41,-0.099c-0.145,0.035 -0.264,0.136 -0.322,0.274c-0.329,0.858 -0.404,1.825 -0.145,2.779c0.639,2.363 3.076,3.761 5.438,3.122c2.363,-0.64 3.762,-3.077 3.122,-5.439c-0.366,-1.353 -1.321,-2.389 -2.515,-2.908c-0.109,-0.046 -0.17,-0.163 -0.147,-0.279c0.059,-0.297 0.171,-0.852 0.239,-1.189c0.015,-0.072 0.06,-0.134 0.123,-0.169c0.064,-0.036 0.141,-0.042 0.209,-0.017c1.763,0.679 3.191,2.159 3.722,4.121c0.883,3.262 -1.049,6.628 -4.311,7.511c-3.263,0.883 -6.628,-1.049 -7.511,-4.311c-0.432,-1.596 -0.191,-3.216 0.55,-4.559c0.111,-0.194 0.068,-0.439 -0.102,-0.583c-0.192,-0.166 -0.455,-0.389 -0.711,-0.607c-0.173,-0.147 -0.25,-0.377 -0.201,-0.597c0.05,-0.221 0.217,-0.396 0.436,-0.455c1.371,-0.371 3.683,-0.997 5.055,-1.369c0.218,-0.059 0.451,0.008 0.605,0.174c0.154,0.166 0.203,0.403 0.128,0.616c-0.436,1.24 -1.138,3.237 -1.533,4.359c-0.066,0.189 -0.222,0.333 -0.415,0.385c-0.194,0.053 -0.401,0.007 -0.553,-0.123c-0.249,-0.212 -0.525,-0.446 -0.751,-0.637Z" class="svelte-1p9cwh8"></path></g></svg>');function Q0(a,t){H(t,!0);let e=n0(t,"isActive",3,!0),v=d0(!1);I0(()=>{e()||s(v)||(t0(v,!0),setTimeout(()=>{t0(v,!1)},300))});var i=Wt();let l;T(c=>l=r0(i,0,"svelte-1p9cwh8",null,l,c),[()=>({disabled:!e(),spin:s(v)})]),o(a,i),Y()}function Gt(a,t){let e=n0(t,"depth",3,0);ie(a,{get item(){return t.item},get depth(){return e()}})}var Ht=(a,t)=>{t()},Yt=j('<p style="margin-left: -24px;" class="svelte-f7jrs1"><button class="svelte-f7jrs1"><!></button> <!></p> <form><!></form>',1),qt=(a,t)=>{t()},Jt=j('<p style="margin-left: -24px;" class="svelte-f7jrs1"><button class="svelte-f7jrs1"><!></button> <!></p> <!>',1),Kt=j('<p class="svelte-f7jrs1"><!> </p>'),Qt=j('<div class="two svelte-f7jrs1" style="margin-left: -20px;"><!></div> <div class="two svelte-f7jrs1"></div>',1),es=j('<div class="two svelte-f7jrs1"><p class="svelte-f7jrs1"><!> </p></div>'),ts=j("<div><!></div>");function ie(a,t){H(t,!0);let e=n0(t,"item",7),v=n0(t,"depth",3,0);function i(){e().isValid&&(b0.sendMessage({kind:"updatedJvmFields",fields:[{id:e().id,newValueString:e().newValueString}]}),e().valueString=e().newValueString,e().value=e().newValueString)}function l(m){var k;const $=(k=r.searchParam)==null?void 0:k.toLowerCase();if(!$)return m;const u=m.toLowerCase().indexOf($);if(u===-1)return m;const n=m.slice(0,u),_=m.slice(u,u+$.length),b=m.slice(u+$.length);return`<span>${n}<span class="highlight">${_}</span>${b}</span>`}var c=O0(),p=U(c);{var d=m=>{var $=ts();let u;var n=g($);{var _=k=>{var P=Yt(),x=U(P),S=g(x);S.__click=[Ht,i];var A=g(S);const R=B(()=>e().valueString!=e().newValueString&&e().isValid);Q0(A,{get isActive(){return s(R)}}),f(S);var C=h(S,2);V0(C,()=>l(e().fieldName)),f(x);var F=h(x,2),E=g(F);const M=B(()=>e().type.toUpperCase()),O=B(()=>Xe(e().type));Ue(E,{get type(){return s(M)},get validate(){return s(O)},get value(){return e().value},set value(y){e().value=y},get isValid(){return e().isValid},set isValid(y){e().isValid=y},get startValue(){return e().valueString},set startValue(y){e().valueString=y},get currentValue(){return e().newValueString},set currentValue(y){e().newValueString=y}}),f(F),ee("submit",F,()=>{i()}),o(k,P)},b=(k,P)=>{{var x=A=>{var R=Jt(),C=U(R),F=g(C);F.__click=[qt,i];var E=g(F);const M=B(()=>e().valueString!=e().newValueString&&e().isValid);Q0(E,{get isActive(){return s(M)}}),f(F);var O=h(F,2);V0(O,()=>l(e().fieldName)),f(C);var y=h(C,2);const L=B(()=>e().type.toUpperCase());U0(y,{get possibleValues(){return e().possibleValues},get type(){return s(L)},get value(){return e().value},set value(w){e().value=w},get isValid(){return e().isValid},set isValid(w){e().isValid=w},get startValue(){return e().valueString},set startValue(w){e().valueString=w},get currentValue(){return e().newValueString},set currentValue(w){e().newValueString=w}}),o(A,R)},S=(A,R)=>{{var C=E=>{var M=Qt(),O=U(M),y=g(O);oe(y,{get isOpened(){return e().isOpened},set isOpened(w){e().isOpened=w},children:(w,Z)=>{var N=Kt(),z=g(N);V0(z,()=>l(e().fieldName));var V=h(z);f(N),T(()=>X(V,` ${e().type??""}`)),o(w,N)},$$slots:{default:!0}}),f(O);var L=h(O,2);q(L,21,()=>e().customValues,J,(w,Z)=>{M0(w,{get isShown(){return e().isOpened},children:(N,z)=>{const V=B(()=>v()+1);Gt(N,{get item(){return s(Z)},get depth(){return s(V)}})}})}),f(L),o(E,M)},F=E=>{var M=es(),O=g(M),y=g(O);V0(y,()=>l(e().fieldName));var L=h(y);f(O),f(M),T(()=>X(L,` ${e().type??""}`)),o(E,M)};I(A,E=>{e().type==Q.CUSTOM||e().type==Q.ARRAY||e().type==Q.MAP||e().type==Q.LIST?E(C):E(F,!1)},R)}};I(k,A=>{e().type===Q.ENUM||e().type===Q.BOOLEAN?A(x):A(S,!1)},P)}};I(n,k=>{[Q.INT,Q.LONG,Q.DOUBLE,Q.FLOAT,Q.STRING].includes(e().type)?k(_):k(b,!1)})}f($),T(k=>{y0($,`--depth:${v()??""};`),u=r0($,1,"svelte-f7jrs1",null,u,k)},[()=>({item:e(),disabled:e().type==Q.UNKNOWN,first:v()==0})]),o(m,$)};I(p,m=>{e().isShown&&m(d)})}o(a,c),Y()}v0(["click"]);function ce(a,t){if(!a)return;const e={};A0(a,i=>{const l=t(i);return i.isShown=l,l},(i,l)=>{const c=t(i),p=l.some(Boolean),d=c||p;return c?(i.isOpened=!0,i.isShown=!0,F0(i.customValues??[],m=>{m.isShown=!0},m=>{m.isShown=!0,m.isOpened=!0})):(i.isOpened=p,i.isShown=d),d});const v=i=>{i.isShown&&(e[i.className]=!0)};F0(r.jvmFields,v,v),r.openedStates=e}function ss(a,t){a=a.toLowerCase(),ce(t,e=>{var v;return(v=e.fieldName)==null?void 0:v.toLowerCase().includes(a)})}let S0={openedStates:{},isOpenedMap:new Map};function ve(){S0.openedStates={...r.openedStates},S0.isOpenedMap=new Map,F0(r.jvmFields,a=>{},a=>{S0.isOpenedMap.set(a.id,a.isOpened??!1)})}function de(){r.openedStates={...S0.openedStates},F0(r.jvmFields,a=>{a.isShown=!0},a=>{a.isShown=!0,a.isOpened=S0.isOpenedMap.get(a.id)??!1})}function as(a){if(r.searchParam=a,a!="")r.configurablesState==l0.NORMAL&&ve(),r.configurablesState=l0.SEARCH,ss(a,r.jvmFields);else if(r.configurablesState==l0.SEARCH){r.configurablesState=l0.NORMAL,de();return}}function rs(){if(r.configurablesState==l0.DIFF){de(),r.configurablesState=l0.NORMAL;return}r.configurablesState==l0.NORMAL&&ve(),r.configurablesState=l0.DIFF,ls(r.jvmFields)}function ls(a){ce(a,t=>t.valueString!=r.initialJvmFields.get(t.id))}function ns(a){let t=!1;return A0(a,e=>e.valueString!==r.initialJvmFields.get(e.id)?(t=!0,!0):!1,()=>t),t}var e0=We(()=>r),os=a=>{const t=a.target;t&&as(t.value)},is=()=>{rs()},cs=j('<!> <input class="search svelte-1epp9tw" type="text" placeholder="Search"> <button class="svelte-1epp9tw"><!></button> <button class="svelte-1epp9tw"><!></button>',1),vs=j("<!> <!>",1),ds=j("<p>No configurables found.</p>"),us=j('<div class="content svelte-1epp9tw"><!> <!></div>'),ps=j("<!> <!>",1);function fs(a,t){H(t,!1);function e(c){const p={};for(const d of c)p.hasOwnProperty(d.className)||(p[d.className]=[]),p[d.className].push(d);return p}function v(c){return A0(c,p=>p.valueString!==p.newValueString&&p.isValid,(p,d)=>d.some(Boolean)).some(Boolean)}function i(c){return A0(c,d=>d.valueString!==d.newValueString&&d.isValid?{id:d.id,newValueString:d.newValueString}:null,(d,m)=>null).filter(d=>d!==null)}function l(c){c!=null&&b0.sendMessage({kind:"updatedJvmFields",fields:i(c)})}B0(),i0(a,{children:(c,p)=>{var d=ps(),m=U(d);se(m,{children:(u,n)=>{var _=cs(),b=U(_);ae(b,{children:(E,M)=>{a0();var O=s0("Configurables");o(E,O)}});var k=h(b,2);k.__input=[os];var P=h(k,2);P.__click=()=>{l(e0().jvmFields)};var x=g(P);const S=$0(()=>v(e0().jvmFields));Zt(x,{get isActive(){return s(S)}}),f(P);var A=h(P,2);A.__click=[is];var R=g(A);const C=$0(()=>ns(e0().jvmFields)),F=$0(()=>e0().configurablesState==l0.DIFF);Tt(R,{get isActive(){return s(C)},get isSelected(){return s(F)}}),f(A),o(u,_)}});var $=h(m,2);u0($,{children:(u,n)=>{var _=us(),b=g(_);q(b,1,()=>Object.entries(e(e0().jvmFields)),J,(x,S)=>{let A=()=>s(S)[0],R=()=>s(S)[1];const C=$0(()=>e0().openedStates[A()]||e0().configurablesState==l0.NORMAL);M0(x,{get isShown(){return s(C)},children:(F,E)=>{var M=vs(),O=U(M);Xt(O,{get name(){return A()},get isOpened(){return e0().openedStates[A()]},set isOpened(w){e0(e0().openedStates[A()]=w)},$$legacy:!0});var y=h(O,2);const L=$0(()=>e0().openedStates[A()]==!0);M0(y,{get isShown(){return s(L)},children:(w,Z)=>{var N=O0(),z=U(N);q(z,1,R,J,(V,W)=>{ie(V,{get item(){return s(W)}})}),o(w,N)},$$slots:{default:!0}}),o(F,M)}})});var k=h(b,2);{var P=x=>{var S=ds();o(x,S)};I(k,x=>{e0().jvmFields.length==0&&x(P)})}f(_),o(u,_)}}),o(c,d)},$$slots:{default:!0}}),Y()}v0(["input","click"]);var hs=j('<iframe title="Limelight Dashboard" class="svelte-cw66qk"></iframe>'),ms=j("<p>Limelight not found.</p>"),gs=j("<p>Loading...</p>");function _s(a,t){H(t,!0);let e=d0(!1);function v(){return window.location.hostname=="localhost"?"http://192.168.43.1":window.location.hostname}async function i(){const l=`http://${v()}:5801`;try{const c=await fetch(l);return l}catch{throw t0(e,!0),new Error("no limelight")}}i0(a,{title:"Limelight Dashboard",get isDisabled(){return s(e)},children:(l,c)=>{u0(l,{children:(p,d)=>{var m=O0(),$=U(m);ne($,i,u=>{var n=gs();o(u,n)},(u,n)=>{var _=hs();T(()=>G(_,"src",s(n))),o(u,_)},(u,n)=>{var _=ms();o(u,_)}),o(p,m)}})},$$slots:{default:!0}}),Y()}var ws=j('<img alt="limelight feed" class="svelte-3d82xn">'),xs=j("<p>Limelight not found.</p>"),ks=j("<p>Loading...</p>");function $s(a,t){H(t,!0);let e=d0(!1);function v(){return window.location.hostname=="localhost"?"http://192.168.43.1":window.location.hostname}async function i(){const l=`http://${v()}:5800`;try{const c=await fetch(l);return l}catch{throw t0(e,!0),new Error("no limelight")}}i0(a,{title:"Limelight Feed",get isDisabled(){return s(e)},children:(l,c)=>{u0(l,{children:(p,d)=>{var m=O0(),$=U(m);ne($,i,u=>{var n=ks();o(u,n)},(u,n)=>{var _=ws();T(()=>G(_,"src",s(n))),o(u,_)},(u,n)=>{var _=xs();o(u,_)}),o(p,m)}})},$$slots:{default:!0}}),Y()}var ys=K('<svg width="100%" height="100%" viewBox="0 0 14 14" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" class="svelte-91aoq6"><g><path d="M13.732,7.331c-0,0.2 -0.162,0.362 -0.362,0.362c-1.937,-0 -11.072,-0 -13.009,-0c-0.199,-0 -0.361,-0.162 -0.361,-0.362c-0,-0.276 -0,-0.654 0,-0.93c-0,-0.2 0.162,-0.362 0.361,-0.362c1.937,0 11.072,0 13.009,0c0.2,0 0.362,0.162 0.362,0.362c-0,0.276 -0,0.654 -0,0.93Z" class="svelte-91aoq6"></path><path d="M6.401,13.732c-0.2,-0 -0.362,-0.162 -0.362,-0.362c0,-1.937 0,-11.072 0,-13.009c0,-0.199 0.162,-0.361 0.362,-0.361c0.276,-0 0.654,-0 0.93,-0c0.2,-0 0.362,0.162 0.362,0.361c-0,1.937 -0,11.072 -0,13.009c-0,0.2 -0.162,0.362 -0.362,0.362c-0.276,-0 -0.654,-0 -0.93,-0Z" class="svelte-91aoq6"></path></g></svg>');function bs(a){var t=ys();o(a,t)}var Ss=(a,t,e)=>{t().startMoving(s(e).id)},Ms=(a,t,e)=>{t().remove(s(e).id)},Os=(a,t,e)=>{if(t().canExpandRight(s(e))){s(e).sizes.x++;return}if(t().canExpandLeft(s(e))){s(e).sizes.x++,s(e).start.x--;return}N0.add("Not enough space to expand horizontally.")},Ps=(a,t)=>{s(t).sizes.x<=2?N0.add("Cannot make this small."):s(t).sizes.x--},Vs=(a,t,e)=>{if(t().canExpandDown(s(e))){s(e).sizes.y++;return}if(t().canExpandUp(s(e))){s(e).sizes.y++,s(e).start.y--;return}N0.add("Not enough space to expand vertically.")},js=(a,t)=>{s(t).sizes.y<=2?N0.add("Cannot make this small."):s(t).sizes.y--},As=j('<div><div><button class="svelte-1phsk00"><!></button> <button class="svelte-1phsk00"><!></button> <button class="svelte-1phsk00"><!></button> <button class="svelte-1phsk00"><!></button> <button class="svelte-1phsk00"><!></button> <button class="svelte-1phsk00"><!></button> <!></div> <!></div>'),Fs=j('<div class="item svelte-1phsk00"><!></div>'),Ns=j("<button><!></button>"),Rs=(a,t)=>{if(t().selectedWidget!=null){if(!t().canPlace){t().stopMoving("Cannot move there.");return}t().performMove(),t().stopMoving(null)}},Cs=j("<p></p>"),Ls=j('<section role="button" tabindex="0" class="svelte-1phsk00"></section>'),Es=j('<div class="container svelte-1phsk00"><section class="svelte-1phsk00"><!> <!> <!></section> <!></div>');function Ts(a,t){H(t,!0);let e=n0(t,"gridManager",7);var v=Es(),i=g(v),l=g(i);q(l,17,()=>e().modules,J,(u,n,_)=>{var b=As();let k;var P=g(b);let x;var S=g(P);S.__mousedown=[Ss,e,n];var A=g(S);lt(A),f(S);var R=h(S,2);R.__click=[Ms,e,n];var C=g(R);Ge(C),f(R);var F=h(R,2);F.__click=[Os,e,n];var E=g(F);tt(E),f(F);var M=h(F,2);M.__click=[Ps,n];var O=g(M);at(O),f(M);var y=h(M,2);y.__click=[Vs,e,n];var L=g(y);ot(L),f(y);var w=h(y,2);w.__click=[js,n];var Z=g(w);ct(Z),f(w);var N=h(w,2);U0(N,{type:"",get startValue(){return s(n).type},get value(){return s(n).type},possibleValues:He,isValid:!0,alwaysValid:!0,get currentValue(){return s(n).type},set currentValue(D){s(n).type=D}}),f(P);var z=h(P,2);{var V=D=>{Ft(D,{})},W=(D,R0)=>{{var ue=p0=>{Je(p0,{get gamepad(){return qe.gamepads[0]}})},pe=(p0,fe)=>{{var he=f0=>{Ke(f0,{})},me=(f0,ge)=>{{var _e=h0=>{Lt(h0,{})},we=(h0,xe)=>{{var ke=m0=>{fs(m0,{})},$e=(m0,ye)=>{{var be=g0=>{gt(g0,{})},Se=(g0,Me)=>{{var Oe=_0=>{_s(_0,{})},Pe=(_0,Ve)=>{{var je=w0=>{$s(w0,{})},Ae=(w0,Fe)=>{{var Ne=x0=>{wt(x0,{})},Re=x0=>{i0(x0,{title:"Unknown Type",children:(Ce,zs)=>{a0();var X0=s0();T(()=>X(X0,`This is an unknown widget of type "${s(n).type??""}"`)),o(Ce,X0)},$$slots:{default:!0}})};I(w0,x0=>{s(n).type==o0.CAPTURE?x0(Ne):x0(Re,!1)},Fe)}};I(_0,w0=>{s(n).type==o0.LIMELIGHT_FEED?w0(je):w0(Ae,!1)},Ve)}};I(g0,_0=>{s(n).type==o0.LIMELIGHT_DASH?_0(Oe):_0(Pe,!1)},Me)}};I(m0,g0=>{s(n).type==o0.GRAPH?g0(be):g0(Se,!1)},ye)}};I(h0,m0=>{s(n).type==o0.CONFIGURABLES?m0(ke):m0($e,!1)},xe)}};I(f0,h0=>{s(n).type==o0.TELEMETRY?h0(_e):h0(we,!1)},ge)}};I(p0,f0=>{s(n).type==o0.FIELD?f0(he):f0(me,!1)},fe)}};I(D,p0=>{s(n).type==o0.GAMEPAD?p0(ue):p0(pe,!1)},R0)}};I(z,D=>{s(n).type==o0.CONTROLS?D(V):D(W,!1)})}f(b),T((D,R0)=>{k=r0(b,1,"item svelte-1phsk00",null,k,D),y0(b,`
        grid-column: ${s(n).start.x??""} / span ${s(n).sizes.x??""};
        grid-row: ${s(n).start.y??""} / span ${s(n).sizes.y??""};
        `),x=r0(P,1,"controls svelte-1phsk00",null,x,R0)},[()=>({isOverlay:e().selectedWidgetId==s(n).id}),()=>({shown:r.showEdit})]),o(u,b)});var c=h(l,2);{var p=u=>{var n=Fs(),_=g(n);i0(_,{isPrimary:!0}),f(n),T(()=>y0(n,`
  grid-column: ${e().selectedCellX??""} / span ${e().selectedWidget.sizes.x??""};
  grid-row: ${e().selectedCellY??""} / span ${e().selectedWidget.sizes.y??""};
  `)),o(u,n)};I(c,u=>{e().selectedWidget!=null&&u(p)})}var d=h(c,2);q(d,17,()=>Array.from({length:e().cellsX*e().cellsY}),J,(u,n,_)=>{var b=Ns();const k=B(()=>e().modulesMap[Math.floor(_/e().cellsX)+1][_%e().cellsX+1]);let P;b.__click=()=>{e().addNew(_%e().cellsX+1,Math.floor(_/e().cellsX)+1)};var x=g(b);bs(x),f(b),T(S=>{y0(b,s(k)!=null?"display: none;":""),P=r0(b,1,"add svelte-1phsk00",null,P,S)},[()=>({shown:r.showEdit&&!e().isMoving})]),o(u,b)}),f(i);var m=h(i,2);{var $=u=>{var n=Ls();n.__mouseup=[Rs,e],q(n,21,()=>Array.from({length:e().cellsX*e().cellsY}),J,(_,b,k)=>{var P=Cs();const x=B(()=>e().modulesMap[Math.floor(k/e().cellsX)+1][k%e().cellsX+1]);let S;P.__mouseover=()=>{if(console.log(k),e().selectedWidget==null)return;const A=e().selectedWidget,R=k%e().cellsX+1,C=Math.floor(k/e().cellsX)+1,F=e().coreCheckPlace(R,C,A),E=e().coreCheckPlace(R,e().selectedCellY,A),M=e().coreCheckPlace(e().selectedCellX,C,A);console.log("canPlaceBoth",F),console.log("canPlaceX",E),console.log("canPlaceY",M),(E||F)&&(e().selectedCellX=R),(M||F)&&(e().selectedCellY=C)},T(A=>S=r0(P,1,"overlay-item svelte-1phsk00",null,S,A),[()=>({isEmpty:s(x)!=null&&s(x)!=e().selectedWidgetId})]),ee("focus",P,()=>{}),o(_,P)}),f(n),o(u,n)};I(m,u=>{e().isMoving&&u($)})}f(v),T(()=>y0(v,`--cellsX:${e().cellsX??""} ;--cellsY: ${e().cellsY??""};`)),o(a,v),Y()}v0(["mousedown","click","mouseup","mouseover"]);function ea(a,t){H(t,!1),B0(),Ts(a,{get gridManager(){return Ye.currentGrid}}),Y()}export{ea as component};
