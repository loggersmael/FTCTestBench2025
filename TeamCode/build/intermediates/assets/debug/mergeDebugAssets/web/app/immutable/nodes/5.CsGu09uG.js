var we=Object.defineProperty;var ye=(s,t,e)=>t in s?we(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var h0=(s,t,e)=>ye(s,typeof t!="symbol"?t+"":t,e);import{n as Q,a as d,c as T0,t as V,d as p0}from"../chunks/CTEcJb4s.js";import{i as B0}from"../chunks/CfO88hMe.js";import{p as G,f as B,g as l,d as L,a as H,t as E,a9 as P0,G as c0,c as g,s as _,r as f,a8 as R0,Q as M0,n as f0}from"../chunks/0-szhb9U.js";import{A as W0,h as A0,S as xe,b as ke,a as $0,r as G0,c as H0,B as g0,R as be}from"../chunks/B4iGfVA3.js";import{o as U0,a as Me}from"../chunks/BuXCXmqg.js";import{p as Se}from"../chunks/vZ1FExqx.js";import{a as $e,W as o0,s as Oe}from"../chunks/Cu18Ghbd.js";import{d as i0,s as q,e as K0}from"../chunks/CzkZYfeG.js";import{i as N}from"../chunks/CG3ZsN8G.js";import{s as a0,e as K,i as J,r as J0}from"../chunks/BLWrVBYQ.js";import{s as l0,H as Ve,S as Q0}from"../chunks/Dm1GHE-m.js";import{s as S0,C as b0}from"../chunks/C7tHtLmT.js";import{p as r0}from"../chunks/B2LUClWd.js";import{i as r,T as t0,s as O0,f as F0,C as v0,a as D0,n as I0,g as Pe}from"../chunks/Djp-jy5Q.js";import{G as je}from"../chunks/D478NF3E.js";import{R as Te}from"../chunks/CbmwMymD.js";import{s as ee}from"../chunks/BKW_wMSr.js";import{b as Ie}from"../chunks/CLtJoCDL.js";import{p as k0}from"../chunks/BzflOjYQ.js";var Ae=Q('<svg width="100%" height="100%" viewBox="0 0 14 14" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" class="svelte-91aoq6"><g><path d="M13.732,7.331c-0,0.2 -0.162,0.362 -0.362,0.362c-1.937,-0 -11.072,-0 -13.009,-0c-0.199,-0 -0.361,-0.162 -0.361,-0.362c-0,-0.276 -0,-0.654 0,-0.93c-0,-0.2 0.162,-0.362 0.361,-0.362c1.937,0 11.072,0 13.009,0c0.2,0 0.362,0.162 0.362,0.362c-0,0.276 -0,0.654 -0,0.93Z" class="svelte-91aoq6"></path><path d="M6.401,13.732c-0.2,-0 -0.362,-0.162 -0.362,-0.362c0,-1.937 0,-11.072 0,-13.009c0,-0.199 0.162,-0.361 0.362,-0.361c0.276,-0 0.654,-0 0.93,-0c0.2,-0 0.362,0.162 0.362,0.361c-0,1.937 -0,11.072 -0,13.009c-0,0.2 -0.162,0.362 -0.362,0.362c-0.276,-0 -0.654,-0 -0.93,-0Z" class="svelte-91aoq6"></path></g></svg>');function Fe(s){var t=Ae();d(s,t)}var De=V('<p style="padding: 1rem;">Waiting for data</p>');function Ce(s,t){G(t,!0);let e=L(()=>r.plugins.find(o=>o.id===t.pluginID)),n=L(()=>l(e).pages.find(o=>o.id===t.pageID)),i=L(()=>l(n).html.replace(/<dynamic>(.*?)<\/dynamic>/gi,(o,p)=>{const c=p.trim();return l(e).globalVariables[p.trim()]?`<span class="dynamic" data-key="${c}">${l(e).globalVariables[p.trim()]}</span>`:(console.warn("Empty or invalid key inside <dynamic> tag"),'<span class="dynamic-placeholder-error">[Missing Key]</span>')}));U0(()=>{const o=c=>{const j=c.currentTarget.getAttribute("data-action");j!==null&&console.log("Action triggered:",j)},p=document.querySelectorAll("button.action");return p.forEach(c=>{c.addEventListener("click",o)}),()=>{p.forEach(c=>{c.removeEventListener("click",o)})}});var a=T0(),u=B(a);{var m=o=>{Te(o,{get html(){return l(i)},get id(){return l(e).id}})},k=o=>{var p=De();d(o,p)};N(u,o=>{l(e)&&l(n)?o(m):o(k,!1)})}d(s,a),H()}var Re=Q('<svg width="100%" height="100%" viewBox="0 0 13 14" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><path d="M0.478,8.19c-0.432,-1.595 -0.19,-3.216 0.551,-4.558c0.11,-0.194 0.067,-0.439 -0.103,-0.583c-0.192,-0.167 -0.455,-0.39 -0.711,-0.608c-0.173,-0.146 -0.25,-0.376 -0.2,-0.597c0.049,-0.22 0.216,-0.395 0.435,-0.454l5.055,-1.369c0.218,-0.059 0.451,0.008 0.605,0.174c0.075,0.08 0.125,0.177 0.148,0.28c0.025,0.11 0.019,0.226 -0.02,0.336l-1.533,4.358c-0.066,0.189 -0.221,0.334 -0.415,0.386c-0.193,0.052 -0.4,0.006 -0.553,-0.123l-0.75,-0.638c-0.114,-0.096 -0.266,-0.132 -0.411,-0.098c-0.11,0.026 -0.206,0.092 -0.27,0.182c-0.371,0.878 -0.463,1.881 -0.197,2.871l0.002,0.008c0.366,1.353 1.319,2.396 2.515,2.908c0.109,0.047 0.171,0.163 0.148,0.279c-0.06,0.297 -0.172,0.852 -0.24,1.189c-0.014,0.072 -0.059,0.134 -0.123,0.169c-0.045,0.026 -0.096,0.036 -0.147,0.031c-0.021,-0.002 -0.041,-0.007 -0.061,-0.014c-1.763,-0.679 -3.192,-2.159 -3.722,-4.12l-0.003,-0.009Zm6.045,4.524c-0.025,-0.11 -0.019,-0.226 0.02,-0.336l1.533,-4.359c0.066,-0.189 0.221,-0.333 0.415,-0.385c0.193,-0.053 0.4,-0.006 0.553,0.123l0.75,0.637c0.114,0.097 0.266,0.133 0.411,0.099c0.11,-0.027 0.206,-0.092 0.27,-0.182c0.371,-0.878 0.463,-1.881 0.197,-2.871l-0.002,-0.008c-0.367,-1.353 -1.322,-2.39 -2.515,-2.909c-0.109,-0.046 -0.171,-0.162 -0.148,-0.278c0.06,-0.297 0.172,-0.852 0.24,-1.189c0.014,-0.072 0.059,-0.134 0.123,-0.17c0.045,-0.025 0.096,-0.035 0.147,-0.03c0.021,0.002 0.041,0.007 0.061,0.014c1.763,0.679 3.191,2.159 3.722,4.12l0.003,0.009c0.432,1.595 0.19,3.216 -0.551,4.558c-0.11,0.194 -0.067,0.439 0.103,0.583c0.192,0.166 0.455,0.39 0.711,0.607c0.173,0.147 0.25,0.377 0.2,0.597c-0.049,0.221 -0.216,0.396 -0.435,0.455l-5.055,1.369c-0.218,0.059 -0.451,-0.008 -0.605,-0.174c-0.075,-0.08 -0.125,-0.177 -0.148,-0.28Z" class="svelte-wof6i3"></path></svg>');function Ee(s,t){let e=r0(t,"isActive",3,!0),n=r0(t,"isSelected",3,!1);var i=Re();let a;E(u=>a=l0(i,0,"svelte-wof6i3",null,a,u),[()=>({disabled:!e(),spin:n()})]),d(s,i)}function Ne(s,t,e){t()&&(c0(e,!0),setTimeout(()=>{c0(e,!1)},300))}var Le=Q(`<svg width="100%" height="100%" viewBox="0 0 14 13" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g><path d="M3.654,5.076c-0.113,-0.097 -0.265,-0.133 -0.41,-0.099c-0.145,0.035 -0.264,0.136 -0.322,0.274c-0.329,0.858 -0.404,1.825 -0.145,2.779c0.639,2.363 3.076,3.761 5.438,3.122c2.363,-0.64 3.762,-3.077 3.122,-5.439c-0.366,-1.353 -1.321,-2.389 -2.515,-2.908c-0.109,-0.046 -0.17,-0.163 -0.147,-0.279c0.059,-0.297 0.171,-0.852 0.239,-1.189c0.015,-0.072 0.06,-0.134 0.123,-0.169c0.064,-0.036 0.141,-0.042 0.209,-0.017c1.763,0.679 3.191,2.159 3.722,4.121c0.883,3.262 -1.049,6.628 -4.311,7.511c-3.263,0.883 -6.628,-1.049 -7.511,-4.311c-0.432,-1.596 -0.191,-3.216 0.55,-4.559c0.111,-0.194 0.068,-0.439 -0.102,-0.583c-0.192,-0.166 -0.455,-0.389 -0.711,-0.607c-0.173,-0.147 -0.25,-0.377 -0.201,-0.597c0.05,-0.221 0.217,-0.396 0.436,-0.455c1.371,-0.371 3.683,-0.997 5.055,-1.369c0.218,-0.059 0.451,0.008 0.605,0.174c0.154,0.166 0.203,0.403 0.128,0.616c-0.436,1.24 -1.138,3.237 -1.533,4.359c-0.066,0.189 -0.222,0.333 -0.415,0.385c-0.194,0.053 -0.401,0.007 -0.553,-0.123c-0.249,-0.212 -0.525,-0.446 -0.751,-0.637Z" class="svelte-jhhttk"></path><g transform="matrix(4.00107,0,0,4.00107,10.405,8.71918)"></g><text x="4.247px" y="8.719px" style="font-family:'Varta-Bold', 'Varta';font-weight:700;font-size:4.001px;" class="svelte-jhhttk">ALL</text></g></svg>`);function Ze(s,t){let e=r0(t,"isActive",3,!0),n=P0(!1);var i=Le();i.__click=[Ne,e,n];let a;E(u=>a=l0(i,0,"svelte-jhhttk",null,a,u),[()=>({disabled:!e(),spin:l(n)})]),d(s,i)}i0(["click"]);var We=(s,t)=>{t()==!0?t(!1):(t()==!1,t(!0))},ze=V('<button class="svelte-whxx7j"><!> <!></button>');function te(s,t){G(t,!0);let e=r0(t,"isOpened",15);var n=ze();n.__click=[We,e];var i=g(n);W0(i,{get isOpened(){return e()},isVertical:!1});var a=_(i,2);ee(a,()=>t.children),f(n),d(s,n),H()}i0(["click"]);var Be=V('<h3 class="svelte-utaoqk"> </h3>');function Ue(s,t){G(t,!0);let e=r0(t,"isOpened",15);function n(a){return a.split(".").at(-1)||""}function i(a){return a.split("."+n(a))[0]}te(s,{get isOpened(){return e()},set isOpened(a){e(a)},children:(a,u)=>{var m=Be(),k=g(m,!0);f(m),E((o,p)=>{a0(m,"data-class",o),q(k,p)},[()=>i(t.name),()=>n(t.name)]),d(a,m)},$$slots:{default:!0}}),H()}i0(["click"]);var qe=Q('<svg width="100%" height="100%" viewBox="0 0 14 13" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g><path d="M3.654,5.076c-0.113,-0.097 -0.265,-0.133 -0.41,-0.099c-0.145,0.035 -0.264,0.136 -0.322,0.274c-0.329,0.858 -0.404,1.825 -0.145,2.779c0.639,2.363 3.076,3.761 5.438,3.122c2.363,-0.64 3.762,-3.077 3.122,-5.439c-0.366,-1.353 -1.321,-2.389 -2.515,-2.908c-0.109,-0.046 -0.17,-0.163 -0.147,-0.279c0.059,-0.297 0.171,-0.852 0.239,-1.189c0.015,-0.072 0.06,-0.134 0.123,-0.169c0.064,-0.036 0.141,-0.042 0.209,-0.017c1.763,0.679 3.191,2.159 3.722,4.121c0.883,3.262 -1.049,6.628 -4.311,7.511c-3.263,0.883 -6.628,-1.049 -7.511,-4.311c-0.432,-1.596 -0.191,-3.216 0.55,-4.559c0.111,-0.194 0.068,-0.439 -0.102,-0.583c-0.192,-0.166 -0.455,-0.389 -0.711,-0.607c-0.173,-0.147 -0.25,-0.377 -0.201,-0.597c0.05,-0.221 0.217,-0.396 0.436,-0.455c1.371,-0.371 3.683,-0.997 5.055,-1.369c0.218,-0.059 0.451,0.008 0.605,0.174c0.154,0.166 0.203,0.403 0.128,0.616c-0.436,1.24 -1.138,3.237 -1.533,4.359c-0.066,0.189 -0.222,0.333 -0.415,0.385c-0.194,0.053 -0.401,0.007 -0.553,-0.123c-0.249,-0.212 -0.525,-0.446 -0.751,-0.637Z" class="svelte-1p9cwh8"></path></g></svg>');function q0(s,t){G(t,!0);let e=r0(t,"isActive",3,!0),n=P0(!1);R0(()=>{e()||l(n)||(c0(n,!0),setTimeout(()=>{c0(n,!1)},300))});var i=qe();let a;E(u=>a=l0(i,0,"svelte-1p9cwh8",null,a,u),[()=>({disabled:!e(),spin:l(n)})]),d(s,i),H()}function Xe(s,t){let e=r0(t,"depth",3,0);se(s,{get item(){return t.item},get depth(){return e()}})}var Ye=V('<div><div class="inner svelte-1ee64n6"><!></div></div>');function j0(s,t){var e=Ye();let n;var i=g(e),a=g(i);ee(a,()=>t.children),f(i),f(e),E(u=>n=l0(e,1,"hiddable svelte-1ee64n6",null,n,u),[()=>({shown:t.isShown})]),d(s,e)}var Ge=(s,t)=>{t()},He=V('<p style="margin-left: -24px;" class="svelte-f7jrs1"><button class="svelte-f7jrs1"><!></button> <!></p> <form><!></form>',1),Ke=(s,t)=>{t()},Je=V('<p style="margin-left: -24px;" class="svelte-f7jrs1"><button class="svelte-f7jrs1"><!></button> <!></p> <!>',1),Qe=V('<p class="svelte-f7jrs1"><!> </p>'),et=V('<div class="two svelte-f7jrs1" style="margin-left: -20px;"><!></div> <div class="two svelte-f7jrs1"></div>',1),tt=V('<div class="two svelte-f7jrs1"><p class="svelte-f7jrs1"><!> </p></div>'),st=V("<div><!></div>");function se(s,t){G(t,!0);let e=r0(t,"item",7),n=r0(t,"depth",3,0);function i(){e().isValid&&(O0.sendMessage({kind:"updatedJvmFields",fields:[{id:e().id,newValueString:e().newValueString}]}),e().valueString=e().newValueString,e().value=e().newValueString)}function a(o){var v;const p=(v=r.searchParam)==null?void 0:v.toLowerCase();if(!p)return o;const c=o.toLowerCase().indexOf(p);if(c===-1)return o;const S=o.slice(0,c),j=o.slice(c,c+p.length),y=o.slice(c+p.length);return`<span>${S}<span class="highlight">${j}</span>${y}</span>`}var u=T0(),m=B(u);{var k=o=>{var p=st();let c;var S=g(p);{var j=v=>{var $=He(),P=B($),A=g(P);A.__click=[Ge,i];var T=g(A);const C=L(()=>e().valueString!=e().newValueString&&e().isValid);q0(T,{get isActive(){return l(C)}}),f(A);var D=_(A,2);A0(D,()=>a(e().fieldName)),f(P);var w=_(P,2),x=g(w);const b=L(()=>e().type.toUpperCase()),O=L(()=>ke(e().type));xe(x,{get type(){return l(b)},get validate(){return l(O)},get value(){return e().value},set value(h){e().value=h},get isValid(){return e().isValid},set isValid(h){e().isValid=h},get startValue(){return e().valueString},set startValue(h){e().valueString=h},get currentValue(){return e().newValueString},set currentValue(h){e().newValueString=h}}),f(w),K0("submit",w,()=>{i()}),d(v,$)},y=(v,$)=>{{var P=T=>{var C=Je(),D=B(C),w=g(D);w.__click=[Ke,i];var x=g(w);const b=L(()=>e().valueString!=e().newValueString&&e().isValid);q0(x,{get isActive(){return l(b)}}),f(w);var O=_(w,2);A0(O,()=>a(e().fieldName)),f(D);var h=_(D,2);const F=L(()=>e().type.toUpperCase());$0(h,{get possibleValues(){return e().possibleValues},get type(){return l(F)},get value(){return e().value},set value(R){e().value=R},get isValid(){return e().isValid},set isValid(R){e().isValid=R},get startValue(){return e().valueString},set startValue(R){e().valueString=R},get currentValue(){return e().newValueString},set currentValue(R){e().newValueString=R}}),d(T,C)},A=(T,C)=>{{var D=x=>{var b=et(),O=B(b),h=g(O);te(h,{get isOpened(){return e().isOpened},set isOpened(R){e().isOpened=R},children:(R,Y)=>{var I=Qe(),U=g(I);A0(U,()=>a(e().fieldName));var W=_(U);f(I),E(()=>q(W,` ${e().type??""}`)),d(R,I)},$$slots:{default:!0}}),f(O);var F=_(O,2);K(F,21,()=>e().customValues,J,(R,Y)=>{j0(R,{get isShown(){return e().isOpened},children:(I,U)=>{const W=L(()=>n()+1);Xe(I,{get item(){return l(Y)},get depth(){return l(W)}})}})}),f(F),d(x,b)},w=x=>{var b=tt(),O=g(b),h=g(O);A0(h,()=>a(e().fieldName));var F=_(h);f(O),f(b),E(()=>q(F,` ${e().type??""}`)),d(x,b)};N(T,x=>{e().type==t0.CUSTOM||e().type==t0.ARRAY||e().type==t0.MAP||e().type==t0.LIST?x(D):x(w,!1)},C)}};N(v,T=>{e().type===t0.ENUM||e().type===t0.BOOLEAN?T(P):T(A,!1)},$)}};N(S,v=>{[t0.INT,t0.LONG,t0.DOUBLE,t0.FLOAT,t0.STRING].includes(e().type)?v(j):v(y,!1)})}f(p),E(v=>{S0(p,`--depth:${n()??""};`),c=l0(p,1,"svelte-f7jrs1",null,c,v)},[()=>({item:e(),disabled:e().type==t0.UNKNOWN,first:n()==0})]),d(o,p)};N(m,o=>{e().isShown&&o(k)})}d(s,u),H()}i0(["click"]);function ae(s,t){if(!s)return;const e={};F0(s,i=>{const a=t(i);return i.isShown=a,a},(i,a)=>{const u=t(i),m=a.some(Boolean),k=u||m;return u?(i.isOpened=!0,i.isShown=!0,D0(i.customValues??[],o=>{o.isShown=!0},o=>{o.isShown=!0,o.isOpened=!0})):(i.isOpened=m,i.isShown=k),k});const n=i=>{i.isShown&&(e[i.className]=!0)};D0(r.jvmFields,n,n),r.openedStates=e}function at(s,t){s=s.toLowerCase(),ae(t,e=>{var n;return(n=e.fieldName)==null?void 0:n.toLowerCase().includes(s)})}let V0={openedStates:{},isOpenedMap:new Map};function re(){V0.openedStates={...r.openedStates},V0.isOpenedMap=new Map,D0(r.jvmFields,s=>{},s=>{V0.isOpenedMap.set(s.id,s.isOpened??!1)})}function ne(){r.openedStates={...V0.openedStates},D0(r.jvmFields,s=>{s.isShown=!0},s=>{s.isShown=!0,s.isOpened=V0.isOpenedMap.get(s.id)??!1})}function rt(s){if(r.searchParam=s,s!="")r.configurablesState==v0.NORMAL&&re(),r.configurablesState=v0.SEARCH,at(s,r.jvmFields);else if(r.configurablesState==v0.SEARCH){r.configurablesState=v0.NORMAL,ne();return}}function nt(){if(r.configurablesState==v0.DIFF){ne(),r.configurablesState=v0.NORMAL;return}r.configurablesState==v0.NORMAL&&re(),r.configurablesState=v0.DIFF,lt(r.jvmFields)}function lt(s){ae(s,t=>t.valueString!=r.initialJvmFields.get(t.id))}function it(s){let t=!1;return F0(s,e=>e.valueString!==r.initialJvmFields.get(e.id)?(t=!0,!0):!1,()=>t),t}var s0=G0(()=>r),ot=s=>{const t=s.target;t&&rt(t.value)},ct=()=>{nt()},vt=V('<input class="search svelte-1epp9tw" type="text" placeholder="Search"> <div><button class="svelte-1epp9tw"><!></button> <button class="svelte-1epp9tw"><!></button></div>',1),dt=V("<!> <!>",1),ut=V("<p>No configurables found.</p>"),pt=V('<div class="content svelte-1epp9tw"><!> <!></div>'),ft=V("<!> <!>",1);function gt(s,t){G(t,!1);function e(o){const p={};for(const c of o)p.hasOwnProperty(c.className)||(p[c.className]=[]),p[c.className].push(c);return p}function n(o){return F0(o,p=>p.valueString!==p.newValueString&&p.isValid,(p,c)=>c.some(Boolean)).some(Boolean)}function i(o){return F0(o,c=>c.valueString!==c.newValueString&&c.isValid?{id:c.id,newValueString:c.newValueString}:null,(c,S)=>null).filter(c=>c!==null)}function a(o){o!=null&&O0.sendMessage({kind:"updatedJvmFields",fields:i(o)})}B0();var u=ft(),m=B(u);Ve(m,{children:(o,p)=>{var c=vt(),S=B(c);S.__input=[ot];var j=_(S,2),y=g(j);y.__click=()=>{a(s0().jvmFields)};var v=g(y);const $=M0(()=>n(s0().jvmFields));Ze(v,{get isActive(){return l($)}}),f(y);var P=_(y,2);P.__click=[ct];var A=g(P);const T=M0(()=>it(s0().jvmFields)),C=M0(()=>s0().configurablesState==v0.DIFF);Ee(A,{get isActive(){return l(T)},get isSelected(){return l(C)}}),f(P),f(j),d(o,c)}});var k=_(m,2);b0(k,{children:(o,p)=>{var c=pt(),S=g(c);K(S,1,()=>Object.entries(e(s0().jvmFields)),J,(v,$)=>{let P=()=>l($)[0],A=()=>l($)[1];const T=M0(()=>s0().openedStates[P()]||s0().configurablesState==v0.NORMAL);j0(v,{get isShown(){return l(T)},children:(C,D)=>{var w=dt(),x=B(w);Ue(x,{get name(){return P()},get isOpened(){return s0().openedStates[P()]},set isOpened(h){s0(s0().openedStates[P()]=h)},$$legacy:!0});var b=_(x,2);const O=M0(()=>s0().openedStates[P()]==!0);j0(b,{get isShown(){return l(O)},children:(h,F)=>{var R=T0(),Y=B(R);K(Y,1,A,J,(I,U)=>{se(I,{get item(){return l(U)}})}),d(h,R)},$$slots:{default:!0}}),d(C,w)}})});var j=_(S,2);{var y=v=>{var $=ut();d(v,$)};N(j,v=>{s0().jvmFields.length==0&&v(y)})}f(c),d(o,c)}}),d(s,u),H()}i0(["input","click"]);class z{constructor(t,e){h0(this,"inches");h0(this,"pixels");if(this.inches=t,e!==void 0)this.pixels=e;else{const n=d0.pixels/d0.inches;this.pixels=this.inches*n}}}const d0=new z(24*6,1024),z0=new z(24*6,1024);class X{constructor(t,e){h0(this,"fieldX");h0(this,"fieldY");h0(this,"x");h0(this,"y");this.fieldX=t,this.fieldY=e;const n=d0.pixels/d0.inches;this.x=this.fieldX*n,this.y=this.fieldY*-n}static withData(t){return new X(t.x,t.y)}}let M;function ht(s){if(!s)return;const t=window.devicePixelRatio||1,e=d0.pixels*t,n=z0.pixels*t;s.width=e,s.height=n,M=s.getContext("2d"),M&&M.scale(t,t),M&&M.translate(d0.pixels/2,z0.pixels/2)}function mt(s){M!=null&&M.moveTo(s.x,s.y)}function C0(s,t,e="red",n=new z(.03)){M!=null&&(M.beginPath(),mt(s),M.lineTo(t.x,t.y),M.strokeStyle=e,M.lineWidth=n.pixels,M.stroke(),M.closePath())}function le(s,t="blue",e=3){M!=null&&(M.beginPath(),M.arc(s.x,s.y,e,0,2*Math.PI),M.fillStyle=t,M.fill(),M.closePath())}function _t(s,t){const e=d0.pixels/d0.inches,n=t*e;s.font=`${n}px Arial`}function wt(s,t="#333",e="#fff"){if(M==null)return;M.strokeStyle=t,M.lineWidth=1,M.fillStyle=e,_t(M,3);const n=new z(d0.inches/2),i=new z(z0.inches/2);for(let a=-n.inches;a<=n.inches;a+=s.inches){C0(new X(a,-i.inches),new X(a,i.inches),t,new z(.01));for(let u=-i.inches;u<=i.inches;u+=s.inches){const m=new X(a,u);le(m,"white",2),M.fillText(`(${a}", ${u}")`,m.x+5,m.y+5)}}for(let a=-i.inches;a<=i.inches;a+=s.inches)C0(new X(-n.inches,a),new X(n.inches,a),t,new z(.01))}async function yt(s){const e=await(await fetch(s)).blob();return new Promise((n,i)=>{const a=new FileReader;a.onloadend=()=>n(a.result),a.onerror=i,a.readAsDataURL(e)})}async function xt(s){const t=new Image;return t.src=s,await t.decode(),t}function X0(s,t,e,n){s!=null&&M!=null&&(M.save(),M.drawImage(s,t.x,t.y,e.pixels,n.pixels),M.restore())}function kt(s,t,e="blue",n="black",i=new z(.02)){M!=null&&(M.beginPath(),M.arc(s.x,s.y,t.pixels,0,2*Math.PI),M.fillStyle=e,M.fill(),M.strokeStyle=n,M.lineWidth=i.pixels,M.stroke(),M.closePath())}function bt(s,t,e,n="green",i="black",a=new z(.02)){if(M==null)return;const u=new X(s.fieldX-t.inches/2,s.fieldY-e.inches/2);M.beginPath(),M.fillStyle=n,M.fillRect(u.x,u.y,t.pixels,e.pixels),M.strokeStyle=i,M.lineWidth=a.pixels,M.strokeRect(u.x,u.y,t.pixels,e.pixels),M.closePath()}var Mt=V('<div style="width: 100%; overflow: hidden;"><canvas class="svelte-13trz2u"></canvas></div>');function St(s,t){G(t,!0);let e,n,i;U0(async()=>{ht(e),n=await yt("/fields/field.png"),i=await xt(n),X0(i,new X(-72,72),new z(24*6),new z(24*6)),C0(new X(0,0),new X(0,10),"blue",new z(1)),wt(new z(24)),le(new X(0,0))}),R0(()=>{X0(i,new X(-72,72),new z(24*6),new z(24*6)),r.canvas.lines&&r.canvas.lines.forEach(a=>{C0(X.withData(a.start),X.withData(a.end),a.look.outlineColor,new z(a.look.outlineWidth))}),r.canvas.rectangles&&r.canvas.rectangles.forEach(a=>{bt(X.withData(a.center),new z(a.width),new z(a.height),a.look.fillColor,a.look.outlineColor,new z(a.look.outlineWidth))}),r.canvas.circles&&r.canvas.circles.forEach(a=>{kt(X.withData(a.center),new z(a.radius),a.look.fillColor,a.look.outlineColor,new z(a.look.outlineWidth))})}),b0(s,{children:(a,u)=>{var m=Mt(),k=g(m);Ie(k,o=>e=o,()=>e),f(m),d(a,m)}}),H()}var $t=(s,t,e)=>t(e()),Ot=V('<li class="svelte-1a0a577"><button> </button> </li>'),Vt=Q('<text y="-2" font-size="2.5" fill="white" stroke="var(--text)" stroke-width="0.1" text-anchor="middle"> </text>'),Pt=Q('<text x="-2" font-size="2.5" fill="white" stroke="var(--text)" stroke-width="0.1" text-anchor="end"> </text>'),jt=Q('<line x1="0" x2="100" stroke="var(--text)" stroke-width="0.2"></line><line y1="0" y2="100" stroke="var(--text)" stroke-width="0.2"></line>',1),Tt=Q('<polyline fill="none" stroke-width="0.6"></polyline>'),It=V('<div class="flex svelte-1a0a577"><input type="range" min="1" max="60" aria-label="Time window"> <p> </p></div> <ul class="svelte-1a0a577"></ul> <div class="graph svelte-1a0a577"><svg viewBox="-10 -10 120 120" preserveAspectRatio="none"><rect x="0" y="0" width="100" height="100" fill="var(--card)"></rect><!><!><!><!></svg></div>',1);function At(s,t){G(t,!0);const e=k0({});function n(m){e[m]=!e[m]}function i(m,k,o,p=[0,1]){return o===k?m.map(()=>.5):m.map(c=>(c-k)/(o-k)*(p[1]-p[0])+p[0])}function a(m){const k=Object.values(m).flat().map(v=>v.data),o=Object.values(m).flat().map(v=>v.timestamp),p=Math.min(...k),c=Math.max(...k),S=Math.min(...o),j=S+r.timeWindow*1e3,y={};return Object.entries(m).forEach(([v,$])=>{const P=$.map(D=>D.timestamp),A=$.map(D=>D.data),T=i(P,S,j,[0,100]),C=i(A,p,c,[0,100]);y[v]=$.map((D,w)=>({x:Math.min(100,Math.max(0,T[w])),y:100-C[w]}))}),y}const u=["red","lime","cyan","yellow","magenta","orange"];b0(s,{children:(m,k)=>{var o=It(),p=B(o),c=g(p);J0(c);var S=_(c,2),j=g(S);f(S),f(p);var y=_(p,2);K(y,21,()=>Object.entries(r.graphs),J,(w,x)=>{let b=()=>l(x)[0],O=()=>l(x)[1];var h=Ot(),F=g(h);F.__click=[$t,n,b];let R;var Y=g(F,!0);f(F);var I=_(F);f(h),E((U,W)=>{a0(F,"aria-pressed",e[b()]),R=l0(F,1,"svelte-1a0a577",null,R,U),q(Y,b()),q(I,` – ${O().length??""} entries / ${W??""}`)},[()=>({selected:e[b()]}),()=>parseFloat(O()[O().length-1].data.toString()).toFixed(3)]),d(w,h)}),f(y);var v=_(y,2),$=g(v),P=_(g($));K(P,16,()=>[0,25,50,75,100],J,(w,x)=>{var b=Vt(),O=g(b);f(b),E(h=>{a0(b,"x",x),q(O,`${h??""}s`)},[()=>Math.round(x/100*r.timeWindow)]),d(w,b)});var A=_(P);K(A,16,()=>[0,25,50,75,100],J,(w,x)=>{var b=Pt(),O=g(b,!0);f(b),E(h=>{a0(b,"y",100-x),q(O,h)},[()=>(x/100*(Object.values(Object.values(r.graphs).flat().map(h=>h.data)).reduce((h,F)=>Math.max(h,F),-1/0)-Object.values(Object.values(r.graphs).flat().map(h=>h.data)).reduce((h,F)=>Math.min(h,F),1/0))+Object.values(Object.values(r.graphs).flat().map(h=>h.data)).reduce((h,F)=>Math.min(h,F),1/0)).toFixed(2)]),d(w,b)});var T=_(A);K(T,16,()=>[25,50,75],J,(w,x)=>{var b=jt(),O=B(b),h=_(O);E(()=>{a0(O,"y1",x),a0(O,"y2",x),a0(h,"x1",x),a0(h,"x2",x)}),d(w,b)});var C=_(T);{var D=w=>{var x=T0(),b=B(x);K(b,17,()=>Object.entries(a(Object.fromEntries(Object.entries(r.graphs).filter(([O])=>e[O])))),J,(O,h,F)=>{let R=()=>l(h)[1];var Y=Tt();E(I=>{a0(Y,"stroke",u[F%u.length]),a0(Y,"points",I)},[()=>R().map(I=>`${I.x},${I.y}`).join(" ")]),d(O,Y)}),d(w,x)};N(C,w=>{Object.keys(e).some(x=>e[x])&&w(D)})}f($),f(v),E(()=>q(j,`(last ${r.timeWindow??""}s)`)),H0(c,()=>r.timeWindow,w=>r.timeWindow=w),d(m,o)}}),H()}i0(["click"]);var Ft=(s,t,e)=>t.onselect(l(e)),Dt=V('<button class="svelte-6klxoa"> </button>'),Ct=V('<p class="svelte-6klxoa">No opModes here.</p>'),Rt=V("<!> <!>",1);function Y0(s,t){G(t,!0);var e=Rt(),n=B(e);K(n,17,()=>r.opModes.filter(u=>u.flavour==t.flavour),J,(u,m)=>{var k=Dt();k.__click=[Ft,t,m];var o=g(k);f(k),E(()=>q(o,`${l(m).name??""} / ${l(m).group??""}`)),d(u,k)});var i=_(n,2);{var a=u=>{var m=Ct();d(u,m)};N(i,u=>{r.opModes.filter(m=>m.flavour==t.flavour).length==0&&u(a)})}d(s,e),H()}i0(["click"]);var Et=(s,t)=>t("autos"),Nt=(s,t)=>t("teleops"),Lt=V('<p class="title svelte-1owm73j">Nothing selected</p>'),Zt=V('<p class="title svelte-1owm73j"><span class="title_small svelte-1owm73j"> </span> </p>'),Wt=V('<div class="controls svelte-1owm73j"><button class="svelte-1owm73j"><span class="svelte-1owm73j">Autos<!></span> <div class="modal autos svelte-1owm73j"><!></div></button> <button class="svelte-1owm73j"><span class="svelte-1owm73j">TeleOps<!></span> <div class="modal teleops svelte-1owm73j"><!></div></button></div> <!> <div class="flex svelte-1owm73j"><!> <!> <!></div>',1);function zt(s,t){G(t,!0);let e=P0("");function n(u){l(e)!=u?c0(e,k0(u)):c0(e,"")}function i(u){c0(a,k0(u)),c0(e,"")}R0(()=>{if(console.log(r.activeOpMode),r.activeOpMode==" ")return;console.log("Length: ",r.opModes.length);let u=null;for(const m of r.opModes)m.name==r.activeOpMode&&(u=m);u!=null&&c0(a,k0(u))});let a=P0(k0({name:"",group:"",flavour:"AUTONOMOUS"}));b0(s,{children:(u,m)=>{var k=Wt(),o=B(k),p=g(o);p.__click=[Et,n];var c=g(p),S=_(g(c));const j=L(()=>l(e)=="autos");W0(S,{get isOpened(){return l(j)}}),f(c);var y=_(c,2),v=g(y);const $=L(()=>l(e)=="autos");j0(v,{get isShown(){return l($)},children:(Z,e0)=>{Y0(Z,{flavour:"AUTONOMOUS",onselect:i})}}),f(y),f(p);var P=_(p,2);P.__click=[Nt,n];var A=g(P),T=_(g(A));const C=L(()=>l(e)=="teleops");W0(T,{get isOpened(){return l(C)}}),f(A);var D=_(A,2),w=g(D);const x=L(()=>l(e)=="teleops");j0(w,{get isShown(){return l(x)},children:(Z,e0)=>{Y0(Z,{flavour:"TELEOP",onselect:i})}}),f(D),f(P),f(o);var b=_(o,2);{var O=Z=>{var e0=Lt();d(Z,e0)},h=Z=>{var e0=Zt(),n0=g(e0),N0=g(n0,!0);f(n0);var u0=_(n0);f(e0),E(()=>{q(N0,l(a).flavour),q(u0,` ${l(a).name??""}`)}),d(Z,e0)};N(b,Z=>{l(a).name==""?Z(O):Z(h,!1)})}var F=_(b,2),R=g(F);const Y=L(()=>l(a).name==""||r.activeOpModeStatus=="running"&&r.activeOpMode!="$Stop$Robot$"||r.activeOpModeStatus=="stopped"&&r.activeOpMode!="$Stop$Robot$"||l(a).name!=""&&r.activeOpModeStatus=="init");g0(R,{get disabled(){return l(Y)},onclick:()=>{O0.sendMessage({kind:"initOpMode",opModeName:l(a).name})},children:(Z,e0)=>{f0();var n0=p0("Initialize");d(Z,n0)},$$slots:{default:!0}});var I=_(R,2);const U=L(()=>r.activeOpMode=="$Stop$Robot$"||l(a).name==""||r.activeOpModeStatus!="init");g0(I,{get disabled(){return l(U)},onclick:()=>{O0.sendMessage({kind:"startActiveOpMode"})},children:(Z,e0)=>{f0();var n0=p0("Start");d(Z,n0)},$$slots:{default:!0}});var W=_(I,2);const E0=L(()=>r.activeOpMode=="$Stop$Robot$"||l(a).name==""||r.activeOpModeStatus=="stopped");g0(W,{get disabled(){return l(E0)},onclick:()=>{O0.sendMessage({kind:"stopActiveOpMode"})},children:(Z,e0)=>{f0();var n0=p0("Stop");d(Z,n0)},$$slots:{default:!0}}),f(F),d(u,k)}}),H()}i0(["click"]);var Bt=V('<p> </p> <p> </p> <input type="range"> <div class="flex-item svelte-1o86sht"><p>Animation speed</p> <!></div> <div><div class="flex svelte-1o86sht"><!> <!> <!></div> <div class="flex svelte-1o86sht"><!> <!></div></div>',1);function Ut(s,t){G(t,!0);let e=P0("1x");R0(()=>{l(e)!=null&&r.isForwarding&&(a=r.timestamp,i=performance.now())});let n=null,i=null,a=0;function u(k){if(!r.isForwarding||i===null)return;const o=k-i,p=parseFloat(l(e).replace("x",""));r.timestamp=Math.min(a+o*p,r.duration),r.timestamp<r.duration?n=requestAnimationFrame(u):(r.timestamp=r.duration,r.isForwarding=!1,n=null,i=null)}function m(){r.isForwarding=!r.isForwarding,r.isForwarding?(a=r.timestamp,i=performance.now(),n=requestAnimationFrame(u)):(i=null,n!==null&&(cancelAnimationFrame(n),n=null))}Me(()=>{n!==null&&cancelAnimationFrame(n)}),b0(s,{children:(k,o)=>{var p=Bt(),c=B(p),S=g(c);f(c);var j=_(c,2),y=g(j);f(j);var v=_(j,2);J0(v),a0(v,"min",0);var $=_(v,2),P=_(g($),2);$0(P,{startValue:"1x",value:"1x",possibleValues:["0.1x","0.25x","0.5x","1x","2x","3x","4x"],get isValid(){return r.hasRecording},alwaysValid:!0,get currentValue(){return l(e)},set currentValue(I){c0(e,k0(I))}}),f($);var A=_($,2),T=g(A),C=g(T);g0(C,{onclick:()=>{r.isRecording=!0},get disabled(){return r.isRecording},children:(I,U)=>{f0();var W=p0("Start");d(I,W)},$$slots:{default:!0}});var D=_(C,2);const w=L(()=>!r.isRecording);g0(D,{onclick:()=>{r.isRecording=!1},get disabled(){return l(w)},children:(I,U)=>{f0();var W=p0("Stop");d(I,W)},$$slots:{default:!0}});var x=_(D,2);const b=L(()=>!r.hasRecording);g0(x,{onclick:()=>{r.isRecording=!1,r.history=[],r.timestamp=0,r.isPlaying=!1},get disabled(){return l(b)},children:(I,U)=>{f0();var W=p0("Reset");d(I,W)},$$slots:{default:!0}}),f(T);var O=_(T,2),h=g(O);const F=L(()=>!r.hasRecording);g0(h,{onclick:()=>{r.isPlaying=!r.isPlaying},get disabled(){return l(F)},children:(I,U)=>{f0();var W=p0();E(()=>q(W,`${(r.isPlaying?"Disable":"Enable")??""} Visual Sync`)),d(I,W)},$$slots:{default:!0}});var R=_(h,2);const Y=L(()=>!r.hasRecording);g0(R,{onclick:m,get disabled(){return l(Y)},children:(I,U)=>{f0();var W=p0();E(()=>q(W,`${(r.isForwarding?"Stop":"Start")??""} Playing`)),d(I,W)},$$slots:{default:!0}}),f(O),f(A),E((I,U)=>{q(S,`Got ${r.history.length??""} entries`),q(y,`Timestamp: ${I??""}s / ${U??""}s`),v.disabled=!r.hasRecording,a0(v,"max",r.duration)},[()=>(r.timestamp/1e3).toFixed(2),()=>(r.duration/1e3).toFixed(2)]),H0(v,()=>r.timestamp,I=>r.timestamp=I),d(k,p)}}),H()}var qt=V("<p> </p>"),Xt=V("<p>No telemetry found.</p>"),Yt=V("<!> <!>",1);function Gt(s,t){G(t,!1),B0(),b0(s,{children:(e,n)=>{var i=Yt(),a=B(i);K(a,1,()=>r.telemetry,J,(k,o)=>{var p=qt(),c=g(p,!0);f(p),E(()=>q(c,l(o))),d(k,p)});var u=_(a,2);{var m=k=>{var o=Xt();d(k,o)};N(u,k=>{r.telemetry.length==0&&k(m)})}d(e,i)}}),H()}var Ht=Q('<svg width="100%" height="100%" viewBox="0 0 18 7" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" class="svelte-8ek7md"><g><path d="M0.968,4.032c-0.207,-0.128 -0.333,-0.354 -0.333,-0.597c-0,-0.243 0.126,-0.469 0.333,-0.597c0.987,-0.608 2.514,-1.549 3.535,-2.179c0.217,-0.133 0.488,-0.139 0.71,-0.015c0.222,0.123 0.359,0.358 0.359,0.612c0,1.238 0,3.12 0,4.358c0,0.254 -0.137,0.489 -0.359,0.612c-0.222,0.124 -0.493,0.118 -0.71,-0.015c-1.021,-0.63 -2.548,-1.571 -3.535,-2.179Z" class="svelte-8ek7md"></path><path d="M16.674,2.838c0.207,0.128 0.333,0.354 0.333,0.597c-0,0.243 -0.126,0.469 -0.333,0.597c-0.987,0.608 -2.514,1.549 -3.536,2.179c-0.216,0.133 -0.488,0.139 -0.709,0.015c-0.222,-0.123 -0.36,-0.358 -0.36,-0.612c0,-1.238 0,-3.12 0,-4.358c0,-0.254 0.138,-0.489 0.36,-0.612c0.221,-0.124 0.493,-0.118 0.709,0.015c1.022,0.63 2.549,1.571 3.536,2.179Z" class="svelte-8ek7md"></path><path d="M3.71,2.97c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.807,0 2.749,0 3.556,0c0.096,0 0.188,0.038 0.256,0.106c0.068,0.068 0.106,0.16 0.106,0.256c-0,0.276 -0,0.654 -0,0.93c-0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.807,-0 -2.749,-0 -3.556,-0c-0.096,-0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.276 0,-0.654 0,-0.93Z" class="svelte-8ek7md"></path><path d="M13.931,3.9c0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.068 -0.159,0.106 -0.255,0.106c-0.808,-0 -2.75,-0 -3.557,-0c-0.096,-0 -0.188,-0.038 -0.255,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c-0,-0.276 -0,-0.654 -0,-0.93c-0,-0.096 0.038,-0.188 0.106,-0.256c0.067,-0.068 0.159,-0.106 0.255,-0.106c0.807,0 2.749,0 3.557,0c0.096,0 0.187,0.038 0.255,0.106c0.068,0.068 0.106,0.16 0.106,0.256c0,0.276 0,0.654 0,0.93Z" class="svelte-8ek7md"></path></g></svg>');function Kt(s){var t=Ht();d(s,t)}var Jt=Q('<svg width="100%" height="100%" viewBox="0 0 16 7" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" class="svelte-8ek7md"><g><path d="M7.022,2.838c0.207,0.128 0.333,0.354 0.333,0.597c0,0.243 -0.126,0.469 -0.333,0.597c-0.987,0.608 -2.514,1.549 -3.536,2.179c-0.216,0.133 -0.487,0.139 -0.709,0.015c-0.222,-0.123 -0.359,-0.358 -0.359,-0.612c-0,-1.238 -0,-3.12 -0,-4.358c-0,-0.254 0.137,-0.489 0.359,-0.612c0.222,-0.124 0.493,-0.118 0.709,0.015c1.022,0.63 2.549,1.571 3.536,2.179Z" class="svelte-8ek7md"></path><path d="M8.863,4.032c-0.207,-0.128 -0.333,-0.354 -0.333,-0.597c-0,-0.243 0.126,-0.469 0.333,-0.597c0.986,-0.608 2.513,-1.549 3.535,-2.179c0.216,-0.133 0.488,-0.139 0.71,-0.015c0.221,0.123 0.359,0.358 0.359,0.612c-0,1.238 -0,3.12 -0,4.358c-0,0.254 -0.138,0.489 -0.359,0.612c-0.222,0.124 -0.494,0.118 -0.71,-0.015c-1.022,-0.63 -2.549,-1.571 -3.535,-2.179Z" class="svelte-8ek7md"></path><path d="M4.28,3.9c-0,0.096 -0.039,0.188 -0.106,0.256c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.807,-0 -2.749,-0 -3.556,-0c-0.096,-0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c-0,-0.276 -0,-0.654 -0,-0.93c-0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.807,0 2.749,0 3.556,0c0.096,0 0.188,0.038 0.256,0.106c0.067,0.068 0.106,0.16 0.106,0.256c-0,0.276 -0,0.654 -0,0.93Z" class="svelte-8ek7md"></path><path d="M11.605,2.97c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.807,0 2.749,0 3.556,0c0.096,0 0.188,0.038 0.256,0.106c0.067,0.068 0.106,0.16 0.106,0.256c-0,0.276 -0,0.654 -0,0.93c-0,0.096 -0.039,0.188 -0.106,0.256c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.807,-0 -2.749,-0 -3.556,-0c-0.096,-0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.276 0,-0.654 0,-0.93Z" class="svelte-8ek7md"></path></g></svg>');function Qt(s){var t=Jt();d(s,t)}var es=Q('<svg width="100%" height="100%" viewBox="0 0 18 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" class="svelte-7dk81x"><g><g><path d="M8.224,0.968c0.128,-0.207 0.354,-0.333 0.597,-0.333c0.243,-0 0.469,0.126 0.596,0.333c0.609,0.987 1.55,2.514 2.18,3.535c0.133,0.217 0.139,0.488 0.015,0.71c-0.124,0.222 -0.358,0.359 -0.612,0.359c-1.238,0 -3.12,0 -4.359,0c-0.254,0 -0.488,-0.137 -0.612,-0.359c-0.124,-0.222 -0.118,-0.493 0.016,-0.71c0.63,-1.021 1.571,-2.548 2.179,-3.535Z" style="fill:#fff;" class="svelte-7dk81x"></path><path d="M9.417,16.674c-0.127,0.207 -0.353,0.333 -0.596,0.333c-0.243,-0 -0.469,-0.126 -0.597,-0.333c-0.608,-0.987 -1.549,-2.514 -2.179,-3.536c-0.134,-0.216 -0.14,-0.488 -0.016,-0.709c0.124,-0.222 0.358,-0.36 0.612,-0.36c1.239,0 3.121,0 4.359,0c0.254,0 0.488,0.138 0.612,0.36c0.124,0.221 0.118,0.493 -0.015,0.709c-0.63,1.022 -1.571,2.549 -2.18,3.536Z" style="fill:#fff;" class="svelte-7dk81x"></path><path d="M9.286,3.71c0.096,0 0.188,0.038 0.256,0.106c0.067,0.068 0.105,0.16 0.105,0.256c0,0.807 0,2.749 0,3.556c0,0.096 -0.038,0.188 -0.105,0.256c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.276,-0 -0.654,-0 -0.93,-0c-0.096,-0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.807 0,-2.749 0,-3.556c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.276,0 0.654,0 0.93,0Z" style="fill:#fff;" class="svelte-7dk81x"></path><path d="M8.356,13.931c-0.096,0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.159 -0.106,-0.255c0,-0.808 0,-2.75 0,-3.557c0,-0.096 0.038,-0.188 0.106,-0.255c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.276,-0 0.654,-0 0.93,-0c0.096,-0 0.188,0.038 0.256,0.106c0.067,0.067 0.105,0.159 0.105,0.255c0,0.807 0,2.749 0,3.557c0,0.096 -0.038,0.187 -0.105,0.255c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.276,0 -0.654,0 -0.93,0Z" style="fill:#fff;" class="svelte-7dk81x"></path></g><g><path d="M0.968,9.417c-0.207,-0.127 -0.333,-0.353 -0.333,-0.596c-0,-0.243 0.126,-0.469 0.333,-0.597c0.987,-0.608 2.514,-1.549 3.535,-2.179c0.217,-0.134 0.488,-0.14 0.71,-0.016c0.222,0.124 0.359,0.358 0.359,0.612c0,1.239 0,3.121 0,4.359c0,0.254 -0.137,0.488 -0.359,0.612c-0.222,0.124 -0.493,0.118 -0.71,-0.015c-1.021,-0.63 -2.548,-1.571 -3.535,-2.18Z" style="fill:#fff;" class="svelte-7dk81x"></path><path d="M16.674,8.224c0.207,0.128 0.333,0.354 0.333,0.597c-0,0.243 -0.126,0.469 -0.333,0.596c-0.987,0.609 -2.514,1.55 -3.536,2.18c-0.216,0.133 -0.488,0.139 -0.709,0.015c-0.222,-0.124 -0.36,-0.358 -0.36,-0.612c0,-1.238 0,-3.12 0,-4.359c0,-0.254 0.138,-0.488 0.36,-0.612c0.221,-0.124 0.493,-0.118 0.709,0.016c1.022,0.63 2.549,1.571 3.536,2.179Z" style="fill:#fff;" class="svelte-7dk81x"></path><path d="M3.71,8.356c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.807,0 2.749,0 3.556,0c0.096,0 0.188,0.038 0.256,0.106c0.068,0.068 0.106,0.16 0.106,0.256c-0,0.276 -0,0.654 -0,0.93c-0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.067 -0.16,0.105 -0.256,0.105c-0.807,0 -2.749,0 -3.556,0c-0.096,0 -0.188,-0.038 -0.256,-0.105c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.276 0,-0.654 0,-0.93Z" style="fill:#fff;" class="svelte-7dk81x"></path><path d="M13.931,9.286c0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.067 -0.159,0.105 -0.255,0.105c-0.808,0 -2.75,0 -3.557,0c-0.096,0 -0.188,-0.038 -0.255,-0.105c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c-0,-0.276 -0,-0.654 -0,-0.93c-0,-0.096 0.038,-0.188 0.106,-0.256c0.067,-0.068 0.159,-0.106 0.255,-0.106c0.807,0 2.749,0 3.557,0c0.096,0 0.187,0.038 0.255,0.106c0.068,0.068 0.106,0.16 0.106,0.256c0,0.276 0,0.654 0,0.93Z" style="fill:#fff;" class="svelte-7dk81x"></path></g></g></svg>');function ts(s){var t=es();d(s,t)}var ss=Q('<svg width="100%" height="100%" viewBox="0 0 7 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" class="svelte-1wm7yl4"><g><path d="M2.838,0.968c0.128,-0.207 0.354,-0.333 0.597,-0.333c0.243,-0 0.469,0.126 0.597,0.333c0.608,0.987 1.549,2.514 2.179,3.535c0.133,0.217 0.139,0.488 0.015,0.71c-0.123,0.222 -0.358,0.359 -0.612,0.359c-1.238,0 -3.12,0 -4.358,0c-0.254,0 -0.489,-0.137 -0.612,-0.359c-0.124,-0.222 -0.118,-0.493 0.015,-0.71c0.63,-1.021 1.571,-2.548 2.179,-3.535Z" class="svelte-1wm7yl4"></path><path d="M4.032,16.674c-0.128,0.207 -0.354,0.333 -0.597,0.333c-0.243,-0 -0.469,-0.126 -0.597,-0.333c-0.608,-0.987 -1.549,-2.514 -2.179,-3.536c-0.133,-0.216 -0.139,-0.488 -0.015,-0.709c0.123,-0.222 0.358,-0.36 0.612,-0.36c1.238,0 3.12,0 4.358,0c0.254,0 0.489,0.138 0.612,0.36c0.124,0.221 0.118,0.493 -0.015,0.709c-0.63,1.022 -1.571,2.549 -2.179,3.536Z" class="svelte-1wm7yl4"></path><path d="M3.9,3.71c0.096,0 0.188,0.038 0.256,0.106c0.068,0.068 0.106,0.16 0.106,0.256c-0,0.807 -0,2.749 -0,3.556c-0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.276,-0 -0.654,-0 -0.93,-0c-0.096,-0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.807 0,-2.749 0,-3.556c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.276,0 0.654,0 0.93,0Z" class="svelte-1wm7yl4"></path><path d="M2.97,13.931c-0.096,0 -0.188,-0.038 -0.256,-0.106c-0.068,-0.068 -0.106,-0.159 -0.106,-0.255c0,-0.808 0,-2.75 0,-3.557c0,-0.096 0.038,-0.188 0.106,-0.255c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.276,-0 0.654,-0 0.93,-0c0.096,-0 0.188,0.038 0.256,0.106c0.068,0.067 0.106,0.159 0.106,0.255c-0,0.807 -0,2.749 -0,3.557c-0,0.096 -0.038,0.187 -0.106,0.255c-0.068,0.068 -0.16,0.106 -0.256,0.106c-0.276,0 -0.654,0 -0.93,0Z" class="svelte-1wm7yl4"></path></g></svg>');function as(s){var t=ss();d(s,t)}var rs=Q('<svg width="100%" height="100%" viewBox="0 0 7 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" class="svelte-1wm7yl4"><g><path d="M2.838,8.863c0.128,-0.207 0.354,-0.333 0.597,-0.333c0.243,-0 0.469,0.126 0.597,0.333c0.608,0.986 1.549,2.513 2.179,3.535c0.133,0.216 0.139,0.488 0.015,0.71c-0.123,0.221 -0.358,0.359 -0.612,0.359c-1.238,-0 -3.12,-0 -4.358,-0c-0.254,-0 -0.489,-0.138 -0.612,-0.359c-0.124,-0.222 -0.118,-0.494 0.015,-0.71c0.63,-1.022 1.571,-2.549 2.179,-3.535Z" class="svelte-1wm7yl4"></path><path d="M4.032,7.022c-0.128,0.207 -0.354,0.333 -0.597,0.333c-0.243,0 -0.469,-0.126 -0.597,-0.333c-0.608,-0.987 -1.549,-2.514 -2.179,-3.536c-0.133,-0.216 -0.139,-0.487 -0.015,-0.709c0.123,-0.222 0.358,-0.359 0.612,-0.359c1.238,-0 3.12,-0 4.358,-0c0.254,-0 0.489,0.137 0.612,0.359c0.124,0.222 0.118,0.493 -0.015,0.709c-0.63,1.022 -1.571,2.549 -2.179,3.536Z" class="svelte-1wm7yl4"></path><path d="M3.9,11.605c0.096,0 0.188,0.038 0.256,0.106c0.068,0.068 0.106,0.16 0.106,0.256c-0,0.807 -0,2.749 -0,3.556c-0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.067 -0.16,0.106 -0.256,0.106c-0.276,-0 -0.654,-0 -0.93,-0c-0.096,-0 -0.188,-0.039 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.807 0,-2.749 0,-3.556c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.276,0 0.654,0 0.93,0Z" class="svelte-1wm7yl4"></path><path d="M2.97,4.28c-0.096,-0 -0.188,-0.039 -0.256,-0.106c-0.068,-0.068 -0.106,-0.16 -0.106,-0.256c0,-0.807 0,-2.749 0,-3.556c0,-0.096 0.038,-0.188 0.106,-0.256c0.068,-0.068 0.16,-0.106 0.256,-0.106c0.276,-0 0.654,-0 0.93,-0c0.096,-0 0.188,0.038 0.256,0.106c0.068,0.068 0.106,0.16 0.106,0.256c-0,0.807 -0,2.749 -0,3.556c-0,0.096 -0.038,0.188 -0.106,0.256c-0.068,0.067 -0.16,0.106 -0.256,0.106c-0.276,-0 -0.654,-0 -0.93,-0Z" class="svelte-1wm7yl4"></path></g></svg>');function ns(s){var t=rs();d(s,t)}var ls=(s,t,e)=>{t.gridManager.startMoving(e().id)},is=(s,t,e)=>{t.gridManager.remove(e().id)},os=(s,t,e)=>{if(t.gridManager.canExpandRight(e())){e().sizes.x++;return}if(t.gridManager.canExpandLeft(e())){e().sizes.x++,e().start.x--;return}I0.add("Not enough space to expand horizontally.")},cs=(s,t)=>{t().sizes.x<=2?I0.add("Cannot make this small."):t().sizes.x--},vs=(s,t,e)=>{if(t.gridManager.canExpandDown(e())){e().sizes.y++;return}if(t.gridManager.canExpandUp(e())){e().sizes.y++,e().start.y--;return}I0.add("Not enough space to expand vertically.")},ds=(s,t)=>{t().sizes.y<=2?I0.add("Cannot make this small."):t().sizes.y--},us=V("<!> <!>",1),ps=V('<button class="svelte-13t3ky3"><!></button> <button class="svelte-13t3ky3"><!></button> <button class="svelte-13t3ky3"><!></button> <button class="svelte-13t3ky3"><!></button> <button class="svelte-13t3ky3"><!></button> <button class="svelte-13t3ky3"><!></button> <!> <!>',1);function fs(s,t){G(t,!0);let e=r0(t,"m",7);var n=ps(),i=B(n);i.__mousedown=[ls,t,e];var a=g(i);ts(a),f(i);var u=_(i,2);u.__click=[is,t,e];var m=g(u);be(m),f(u);var k=_(u,2);k.__click=[os,t,e];var o=g(k);Kt(o),f(k);var p=_(k,2);p.__click=[cs,e];var c=g(p);Qt(c),f(p);var S=_(p,2);S.__click=[vs,t,e];var j=g(S);as(j),f(S);var y=_(S,2);y.__click=[ds,e];var v=g(y);ns(v),f(y);var $=_(y,2);$0($,{type:"",get startValue(){return e().types[e().activeType].type},get value(){return e().types[e().activeType].type},possibleValues:$e,isValid:!0,alwaysValid:!0,get currentValue(){return e().types[e().activeType].type},set currentValue(T){e().types[e().activeType].type=T}});var P=_($,2);{var A=T=>{var C=us(),D=B(C);const w=L(()=>[...r.plugins.map(O=>O.id),"none"]);$0(D,{type:"",get startValue(){return e().types[e().activeType].pluginID},get value(){return e().types[e().activeType].pluginID},get possibleValues(){return l(w)},isValid:!0,alwaysValid:!0,get currentValue(){return e().types[e().activeType].pluginID},set currentValue(O){e().types[e().activeType].pluginID=O}});var x=_(D,2);{var b=O=>{const h=L(()=>[...r.plugins.find(F=>F.id==e().types[e().activeType].pluginID).pages.map(F=>F.id),"none"]);$0(O,{type:"",get startValue(){return e().types[e().activeType].pageID},get value(){return e().types[e().activeType].pageID},get possibleValues(){return l(h)},isValid:!0,alwaysValid:!0,get currentValue(){return e().types[e().activeType].pageID},set currentValue(F){e().types[e().activeType].pageID=F}})};N(x,O=>{e().types[e().activeType].pluginID!="none"&&O(b)})}d(T,C)};N(P,T=>{e().types[e().activeType].type==o0.CUSTOM&&T(A)})}d(s,n),H()}i0(["mousedown","click"]);var gs=V('<button class="svelte-mq3w3q">x</button>'),hs=V("<button> </button> <!>",1),ms=(s,t)=>{t().types.push({pluginID:"none",pageID:"none",type:o0.TEST}),console.log(t())},_s=V('<button class="svelte-mq3w3q">+</button>'),ws=V('<div class="controls svelte-mq3w3q"><!></div>'),ys=V('<p style="padding: 1rem;">CUSTOM not valid</p>'),xs=V('<p style="padding: 1rem;"> </p>'),ks=V("<div><!></div>"),bs=V('<div class="bar svelte-mq3w3q"><div class="controls svelte-mq3w3q"><!> <!></div> <!></div> <!>',1);function Ms(s,t){G(t,!0);let e=r0(t,"m",7);Q0(s,{children:(n,i)=>{var a=bs(),u=B(a),m=g(u),k=g(m);K(k,17,()=>e().types,J,(y,v,$)=>{var P=hs(),A=B(P);let T;A.__click=()=>{e().activeType=$};var C=g(A,!0);f(A);var D=_(A,2);{var w=x=>{var b=gs();b.__click=()=>{if(e().types.length<=1){I0.add("Cannot remove last widget.");return}e().types=e().types.filter((O,h)=>h!==$),e().activeType--,e().activeType<0&&(e().activeType=0)},d(x,b)};N(D,x=>{r.showEdit&&e().types.length>1&&x(w)})}E(x=>{T=l0(A,1,"base svelte-mq3w3q",null,T,x),q(C,l(v).type)},[()=>({selected:$==e().activeType})]),d(y,P)});var o=_(k,2);{var p=y=>{var v=_s();v.__click=[ms,e],d(y,v)};N(o,y=>{r.showEdit&&y(p)})}f(m);var c=_(m,2);{var S=y=>{var v=ws(),$=g(v);fs($,{get m(){return e()},get gridManager(){return t.gridManager}}),f(v),d(y,v)};N(c,y=>{r.showEdit&&y(S)})}f(u);var j=_(u,2);K(j,17,()=>e().types,J,(y,v,$)=>{var P=ks();let A;var T=g(P);{var C=w=>{zt(w,{})},D=(w,x)=>{{var b=h=>{je(h,{get gamepad(){return Pe.gamepads[0]}})},O=(h,F)=>{{var R=I=>{St(I,{})},Y=(I,U)=>{{var W=Z=>{Gt(Z,{})},E0=(Z,e0)=>{{var n0=u0=>{gt(u0,{})},N0=(u0,ie)=>{{var oe=m0=>{At(m0,{})},ce=(m0,ve)=>{{var de=_0=>{Ut(_0,{})},ue=(_0,pe)=>{{var fe=w0=>{var y0=T0(),L0=B(y0);{var he=x0=>{Ce(x0,{get pluginID(){return l(v).pluginID},get pageID(){return l(v).pageID}})},me=x0=>{var _e=ys();d(x0,_e)};N(L0,x0=>{l(v).pluginID&&l(v).pageID?x0(he):x0(me,!1)})}d(w0,y0)},ge=w0=>{var y0=xs(),L0=g(y0);f(y0),E(()=>q(L0,`This is an unknown widget of type "${l(v).type??""}"`)),d(w0,y0)};N(_0,w0=>{l(v).type==o0.CUSTOM?w0(fe):w0(ge,!1)},pe)}};N(m0,_0=>{l(v).type==o0.CAPTURE?_0(de):_0(ue,!1)},ve)}};N(u0,m0=>{l(v).type==o0.GRAPH?m0(oe):m0(ce,!1)},ie)}};N(Z,u0=>{l(v).type==o0.CONFIGURABLES?u0(n0):u0(N0,!1)},e0)}};N(I,Z=>{l(v).type==o0.TELEMETRY?Z(W):Z(E0,!1)},U)}};N(h,I=>{l(v).type==o0.FIELD?I(R):I(Y,!1)},F)}};N(w,h=>{l(v).type==o0.GAMEPAD?h(b):h(O,!1)},x)}};N(T,w=>{l(v).type==o0.CONTROLS?w(C):w(D,!1)})}f(P),E(w=>A=l0(P,1,"content svelte-mq3w3q",null,A,w),[()=>({shown:$==e().activeType})]),d(y,P)}),d(n,a)},$$slots:{default:!0}}),H()}i0(["click"]);var Ss=V("<div><!></div>"),$s=V('<div class="item svelte-po0j3y"><!></div>'),Os=V("<button><!></button>"),Vs=(s,t)=>{if(t().selectedWidget!=null){if(!t().canPlace){t().stopMoving("Cannot move there.");return}t().performMove(),t().stopMoving(null)}},Ps=V("<p></p>"),js=V('<section role="button" tabindex="0" class="svelte-po0j3y"></section>'),Ts=V('<div class="container svelte-po0j3y"><section class="svelte-po0j3y"><!> <!> <!></section> <!></div>');function Is(s,t){G(t,!0);let e=r0(t,"gridManager",7);var n=Ts(),i=g(n),a=g(i);K(a,17,()=>e().modules,J,(c,S)=>{var j=Ss();let y;var v=g(j);Ms(v,{get m(){return l(S)},get gridManager(){return e()}}),f(j),E($=>{y=l0(j,1,"item svelte-po0j3y",null,y,$),S0(j,`
        grid-column: ${l(S).start.x??""} / span ${l(S).sizes.x??""};
        grid-row: ${l(S).start.y??""} / span ${l(S).sizes.y??""};
        `)},[()=>({isOverlay:e().selectedWidgetId==l(S).id})]),d(c,j)});var u=_(a,2);{var m=c=>{var S=$s(),j=g(S);Q0(j,{isPrimary:!0}),f(S),E(()=>S0(S,`
  grid-column: ${e().selectedCellX??""} / span ${e().selectedWidget.sizes.x??""};
  grid-row: ${e().selectedCellY??""} / span ${e().selectedWidget.sizes.y??""};
  `)),d(c,S)};N(u,c=>{e().selectedWidget!=null&&c(m)})}var k=_(u,2);K(k,17,()=>Array.from({length:e().cellsX*e().cellsY}),J,(c,S,j)=>{var y=Os();const v=L(()=>e().modulesMap[Math.floor(j/e().cellsX)+1][j%e().cellsX+1]);let $;y.__click=()=>{e().addNew(j%e().cellsX+1,Math.floor(j/e().cellsX)+1)};var P=g(y);Fe(P),f(y),E(A=>{S0(y,l(v)!=null?"display: none;":""),$=l0(y,1,"add svelte-po0j3y",null,$,A)},[()=>({shown:r.showEdit&&!e().isMoving})]),d(c,y)}),f(i);var o=_(i,2);{var p=c=>{var S=js();S.__mouseup=[Vs,e],K(S,21,()=>Array.from({length:e().cellsX*e().cellsY}),J,(j,y,v)=>{var $=Ps();const P=L(()=>e().modulesMap[Math.floor(v/e().cellsX)+1][v%e().cellsX+1]);let A;$.__mouseover=()=>{if(console.log(v),e().selectedWidget==null)return;const T=e().selectedWidget,C=v%e().cellsX+1,D=Math.floor(v/e().cellsX)+1,w=e().coreCheckPlace(C,D,T),x=e().coreCheckPlace(C,e().selectedCellY,T),b=e().coreCheckPlace(e().selectedCellX,D,T);console.log("canPlaceBoth",w),console.log("canPlaceX",x),console.log("canPlaceY",b),(x||w)&&(e().selectedCellX=C),(b||w)&&(e().selectedCellY=D)},E(T=>A=l0($,1,"overlay-item svelte-po0j3y",null,A,T),[()=>({isEmpty:l(P)!=null&&l(P)!=e().selectedWidgetId})]),K0("focus",$,()=>{}),d(j,$)}),f(S),d(c,S)};N(o,c=>{e().isMoving&&c(p)})}f(n),E(()=>S0(n,`--cellsX:${e().cellsX??""} ;--cellsY: ${e().cellsY??""};`)),d(s,n),H()}i0(["click","mouseup","mouseover"]);var Z0=G0(()=>Oe);function Qs(s,t){G(t,!1),U0(()=>{const e=Se.url.searchParams.get("preset");e!=null&&Z0(Z0().selectedManagerID=e)}),B0(),Is(s,{get gridManager(){return Z0().currentGrid}}),H()}export{Qs as component};
